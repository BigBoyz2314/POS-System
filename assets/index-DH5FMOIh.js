import{r as C,u as zf,a as gm,L as xt,R as Dt,B as mm,b as hm,c as ra,N as vd}from"./router-N3zqQeFD.js";import{r as ym,a as pm}from"./vendor-gH-7aFTg.js";(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const x of document.querySelectorAll('link[rel="modulepreload"]'))d(x);new MutationObserver(x=>{for(const m of x)if(m.type==="childList")for(const y of m.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&d(y)}).observe(document,{childList:!0,subtree:!0});function u(x){const m={};return x.integrity&&(m.integrity=x.integrity),x.referrerPolicy&&(m.referrerPolicy=x.referrerPolicy),x.crossOrigin==="use-credentials"?m.credentials="include":x.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function d(x){if(x.ep)return;x.ep=!0;const m=u(x);fetch(x.href,m)}})();var id={exports:{}},fr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uf;function bm(){if(uf)return fr;uf=1;var i=Symbol.for("react.transitional.element"),c=Symbol.for("react.fragment");function u(d,x,m){var y=null;if(m!==void 0&&(y=""+m),x.key!==void 0&&(y=""+x.key),"key"in x){m={};for(var b in x)b!=="key"&&(m[b]=x[b])}else m=x;return x=m.ref,{$$typeof:i,type:d,key:y,ref:x!==void 0?x:null,props:m}}return fr.Fragment=c,fr.jsx=u,fr.jsxs=u,fr}var ff;function vm(){return ff||(ff=1,id.exports=bm()),id.exports}var l=vm(),cd={exports:{}},xr={},dd={exports:{}},od={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xf;function jm(){return xf||(xf=1,(function(i){function c(O,K){var ae=O.length;O.push(K);e:for(;0<ae;){var Se=ae-1>>>1,_e=O[Se];if(0<x(_e,K))O[Se]=K,O[ae]=_e,ae=Se;else break e}}function u(O){return O.length===0?null:O[0]}function d(O){if(O.length===0)return null;var K=O[0],ae=O.pop();if(ae!==K){O[0]=ae;e:for(var Se=0,_e=O.length,Ze=_e>>>1;Se<Ze;){var he=2*(Se+1)-1,ke=O[he],qe=he+1,gt=O[qe];if(0>x(ke,ae))qe<_e&&0>x(gt,ke)?(O[Se]=gt,O[qe]=ae,Se=qe):(O[Se]=ke,O[he]=ae,Se=he);else if(qe<_e&&0>x(gt,ae))O[Se]=gt,O[qe]=ae,Se=qe;else break e}}return K}function x(O,K){var ae=O.sortIndex-K.sortIndex;return ae!==0?ae:O.id-K.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var m=performance;i.unstable_now=function(){return m.now()}}else{var y=Date,b=y.now();i.unstable_now=function(){return y.now()-b}}var k=[],A=[],j=1,z=null,_=3,Z=!1,H=!1,w=!1,Q=!1,J=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function ue(O){for(var K=u(A);K!==null;){if(K.callback===null)d(A);else if(K.startTime<=O)d(A),K.sortIndex=K.expirationTime,c(k,K);else break;K=u(A)}}function ce(O){if(w=!1,ue(O),!H)if(u(k)!==null)H=!0,q||(q=!0,le());else{var K=u(A);K!==null&&Ge(ce,K.startTime-O)}}var q=!1,F=-1,oe=5,$=-1;function Ne(){return Q?!0:!(i.unstable_now()-$<oe)}function V(){if(Q=!1,q){var O=i.unstable_now();$=O;var K=!0;try{e:{H=!1,w&&(w=!1,ee(F),F=-1),Z=!0;var ae=_;try{t:{for(ue(O),z=u(k);z!==null&&!(z.expirationTime>O&&Ne());){var Se=z.callback;if(typeof Se=="function"){z.callback=null,_=z.priorityLevel;var _e=Se(z.expirationTime<=O);if(O=i.unstable_now(),typeof _e=="function"){z.callback=_e,ue(O),K=!0;break t}z===u(k)&&d(k),ue(O)}else d(k);z=u(k)}if(z!==null)K=!0;else{var Ze=u(A);Ze!==null&&Ge(ce,Ze.startTime-O),K=!1}}break e}finally{z=null,_=ae,Z=!1}K=void 0}}finally{K?le():q=!1}}}var le;if(typeof te=="function")le=function(){te(V)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,it=Le.port2;Le.port1.onmessage=V,le=function(){it.postMessage(null)}}else le=function(){J(V,0)};function Ge(O,K){F=J(function(){O(i.unstable_now())},K)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(O){O.callback=null},i.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<O?Math.floor(1e3/O):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_next=function(O){switch(_){case 1:case 2:case 3:var K=3;break;default:K=_}var ae=_;_=K;try{return O()}finally{_=ae}},i.unstable_requestPaint=function(){Q=!0},i.unstable_runWithPriority=function(O,K){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var ae=_;_=O;try{return K()}finally{_=ae}},i.unstable_scheduleCallback=function(O,K,ae){var Se=i.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?Se+ae:Se):ae=Se,O){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=ae+_e,O={id:j++,callback:K,priorityLevel:O,startTime:ae,expirationTime:_e,sortIndex:-1},ae>Se?(O.sortIndex=ae,c(A,O),u(k)===null&&O===u(A)&&(w?(ee(F),F=-1):w=!0,Ge(ce,ae-Se))):(O.sortIndex=_e,c(k,O),H||Z||(H=!0,q||(q=!0,le()))),O},i.unstable_shouldYield=Ne,i.unstable_wrapCallback=function(O){var K=_;return function(){var ae=_;_=K;try{return O.apply(this,arguments)}finally{_=ae}}}})(od)),od}var gf;function Nm(){return gf||(gf=1,dd.exports=jm()),dd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mf;function wm(){if(mf)return xr;mf=1;var i=Nm(),c=ym(),u=pm();function d(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function x(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function y(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(m(e)!==e)throw Error(d(188))}function k(e){var t=e.alternate;if(!t){if(t=m(e),t===null)throw Error(d(188));return t!==e?null:e}for(var a=e,s=t;;){var r=a.return;if(r===null)break;var n=r.alternate;if(n===null){if(s=r.return,s!==null){a=s;continue}break}if(r.child===n.child){for(n=r.child;n;){if(n===a)return b(r),e;if(n===s)return b(r),t;n=n.sibling}throw Error(d(188))}if(a.return!==s.return)a=r,s=n;else{for(var o=!1,f=r.child;f;){if(f===a){o=!0,a=r,s=n;break}if(f===s){o=!0,s=r,a=n;break}f=f.sibling}if(!o){for(f=n.child;f;){if(f===a){o=!0,a=n,s=r;break}if(f===s){o=!0,s=n,a=r;break}f=f.sibling}if(!o)throw Error(d(189))}}if(a.alternate!==s)throw Error(d(190))}if(a.tag!==3)throw Error(d(188));return a.stateNode.current===a?e:t}function A(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=A(e),t!==null)return t;e=e.sibling}return null}var j=Object.assign,z=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),Q=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),ee=Symbol.for("react.consumer"),te=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),Ne=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function le(e){return e===null||typeof e!="object"?null:(e=V&&e[V]||e["@@iterator"],typeof e=="function"?e:null)}var Le=Symbol.for("react.client.reference");function it(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Le?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case Q:return"Profiler";case w:return"StrictMode";case ce:return"Suspense";case q:return"SuspenseList";case $:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case te:return(e.displayName||"Context")+".Provider";case ee:return(e._context.displayName||"Context")+".Consumer";case ue:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F:return t=e.displayName||null,t!==null?t:it(e.type)||"Memo";case oe:t=e._payload,e=e._init;try{return it(e(t))}catch{}}return null}var Ge=Array.isArray,O=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},Se=[],_e=-1;function Ze(e){return{current:e}}function he(e){0>_e||(e.current=Se[_e],Se[_e]=null,_e--)}function ke(e,t){_e++,Se[_e]=e.current,e.current=t}var qe=Ze(null),gt=Ze(null),We=Ze(null),Aa=Ze(null);function bt(e,t){switch(ke(We,t),ke(gt,e),ke(qe,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?B0(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=B0(t),e=H0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}he(qe),ke(qe,e)}function B(){he(qe),he(gt),he(We)}function W(e){e.memoizedState!==null&&ke(Aa,e);var t=qe.current,a=H0(t,e.type);t!==a&&(ke(gt,e),ke(qe,a))}function de(e){gt.current===e&&(he(qe),he(gt)),Aa.current===e&&(he(Aa),ir._currentValue=ae)}var je=Object.prototype.hasOwnProperty,ct=i.unstable_scheduleCallback,Wt=i.unstable_cancelCallback,ia=i.unstable_shouldYield,gs=i.unstable_requestPaint,ge=i.unstable_now,Fn=i.unstable_getCurrentPriorityLevel,sl=i.unstable_ImmediatePriority,vr=i.unstable_UserBlockingPriority,Gt=i.unstable_NormalPriority,Jn=i.unstable_LowPriority,rl=i.unstable_IdlePriority,$n=i.log,ms=i.unstable_setDisableYieldValue,Pt=null,Be=null;function Ot(e){if(typeof $n=="function"&&ms(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Pt,e)}catch{}}var yt=Math.clz32?Math.clz32:In,Wn=Math.log,Pn=Math.LN2;function In(e){return e>>>=0,e===0?32:31-(Wn(e)/Pn|0)|0}var Al=256,Ea=4194304;function It(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function El(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var r=0,n=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var f=s&134217727;return f!==0?(s=f&~n,s!==0?r=It(s):(o&=f,o!==0?r=It(o):a||(a=f&~e,a!==0&&(r=It(a))))):(f=s&~n,f!==0?r=It(f):o!==0?r=It(o):a||(a=s&~e,a!==0&&(r=It(a)))),r===0?0:t!==0&&t!==r&&(t&n)===0&&(n=r&-r,a=t&-t,n>=a||n===32&&(a&4194048)!==0)?t:r}function _a(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function _l(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jr(){var e=Al;return Al<<=1,(Al&4194048)===0&&(Al=256),e}function Nr(){var e=Ea;return Ea<<=1,(Ea&62914560)===0&&(Ea=4194304),e}function hs(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Pe(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ei(e,t,a,s,r,n){var o=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var f=e.entanglements,h=e.expirationTimes,S=e.hiddenUpdates;for(a=o&~a;0<a;){var U=31-yt(a),Y=1<<U;f[U]=0,h[U]=-1;var T=S[U];if(T!==null)for(S[U]=null,U=0;U<T.length;U++){var E=T[U];E!==null&&(E.lane&=-536870913)}a&=~Y}s!==0&&wr(e,s,0),n!==0&&r===0&&e.tag!==0&&(e.suspendedLanes|=n&~(o&~t))}function wr(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-yt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&4194090}function ys(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-yt(a),r=1<<s;r&t|e[s]&t&&(e[s]|=t),a&=~r}}function ps(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function bs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function za(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:sf(e.type))}function Sr(e,t){var a=K.p;try{return K.p=e,t()}finally{K.p=a}}var g=Math.random().toString(36).slice(2),D="__reactFiber$"+g,M="__reactProps$"+g,X="__reactContainer$"+g,G="__reactEvents$"+g,ne="__reactListeners$"+g,xe="__reactHandles$"+g,Te="__reactResources$"+g,Ke="__reactMarker$"+g;function Mt(e){delete e[D],delete e[M],delete e[G],delete e[ne],delete e[xe]}function dt(e){var t=e[D];if(t)return t;for(var a=e.parentNode;a;){if(t=a[X]||a[D]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=V0(e);e!==null;){if(a=e[D])return a;e=V0(e)}return t}e=a,a=e.parentNode}return null}function Zt(e){if(e=e[D]||e[X]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function ca(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(d(33))}function Ra(e){var t=e[Te];return t||(t=e[Te]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ie(e){e[Ke]=!0}var Td=new Set,Ad={};function nl(e,t){zl(e,t),zl(e+"Capture",t)}function zl(e,t){for(Ad[e]=t,e=0;e<t.length;e++)Td.add(t[e])}var nx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ed={},_d={};function ix(e){return je.call(_d,e)?!0:je.call(Ed,e)?!1:nx.test(e)?_d[e]=!0:(Ed[e]=!0,!1)}function kr(e,t,a){if(ix(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Tr(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function da(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}var ti,zd;function Rl(e){if(ti===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ti=t&&t[1]||"",zd=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ti+e+zd}var ai=!1;function li(e,t){if(!e||ai)return"";ai=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(E){var T=E}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(E){T=E}e.call(Y.prototype)}}else{try{throw Error()}catch(E){T=E}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(E){if(E&&T&&typeof E.stack=="string")return[E.stack,T.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var n=s.DetermineComponentFrameRoot(),o=n[0],f=n[1];if(o&&f){var h=o.split(`
`),S=f.split(`
`);for(r=s=0;s<h.length&&!h[s].includes("DetermineComponentFrameRoot");)s++;for(;r<S.length&&!S[r].includes("DetermineComponentFrameRoot");)r++;if(s===h.length||r===S.length)for(s=h.length-1,r=S.length-1;1<=s&&0<=r&&h[s]!==S[r];)r--;for(;1<=s&&0<=r;s--,r--)if(h[s]!==S[r]){if(s!==1||r!==1)do if(s--,r--,0>r||h[s]!==S[r]){var U=`
`+h[s].replace(" at new "," at ");return e.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",e.displayName)),U}while(1<=s&&0<=r);break}}}finally{ai=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Rl(a):""}function cx(e){switch(e.tag){case 26:case 27:case 5:return Rl(e.type);case 16:return Rl("Lazy");case 13:return Rl("Suspense");case 19:return Rl("SuspenseList");case 0:case 15:return li(e.type,!1);case 11:return li(e.type.render,!1);case 1:return li(e.type,!0);case 31:return Rl("Activity");default:return""}}function Rd(e){try{var t="";do t+=cx(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ut(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dx(e){var t=Cd(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var r=a.get,n=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(o){s=""+o,n.call(this,o)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ar(e){e._valueTracker||(e._valueTracker=dx(e))}function Dd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=Cd(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function Er(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ox=/[\n"\\]/g;function qt(e){return e.replace(ox,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function si(e,t,a,s,r,n,o,f){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ut(t)):e.value!==""+Ut(t)&&(e.value=""+Ut(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?ri(e,o,Ut(t)):a!=null?ri(e,o,Ut(a)):s!=null&&e.removeAttribute("value"),r==null&&n!=null&&(e.defaultChecked=!!n),r!=null&&(e.checked=r&&typeof r!="function"&&typeof r!="symbol"),f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.name=""+Ut(f):e.removeAttribute("name")}function Od(e,t,a,s,r,n,o,f){if(n!=null&&typeof n!="function"&&typeof n!="symbol"&&typeof n!="boolean"&&(e.type=n),t!=null||a!=null){if(!(n!=="submit"&&n!=="reset"||t!=null))return;a=a!=null?""+Ut(a):"",t=t!=null?""+Ut(t):a,f||t===e.value||(e.value=t),e.defaultValue=t}s=s??r,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=f?e.checked:!!s,e.defaultChecked=!!s,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o)}function ri(e,t,a){t==="number"&&Er(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Cl(e,t,a,s){if(e=e.options,t){t={};for(var r=0;r<a.length;r++)t["$"+a[r]]=!0;for(a=0;a<e.length;a++)r=t.hasOwnProperty("$"+e[a].value),e[a].selected!==r&&(e[a].selected=r),r&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Ut(a),t=null,r=0;r<e.length;r++){if(e[r].value===a){e[r].selected=!0,s&&(e[r].defaultSelected=!0);return}t!==null||e[r].disabled||(t=e[r])}t!==null&&(t.selected=!0)}}function Md(e,t,a){if(t!=null&&(t=""+Ut(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Ut(a):""}function Ud(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(d(92));if(Ge(s)){if(1<s.length)throw Error(d(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=Ut(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s)}function Dl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var ux=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function qd(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||ux.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Bd(e,t,a){if(t!=null&&typeof t!="object")throw Error(d(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var r in t)s=t[r],t.hasOwnProperty(r)&&a[r]!==s&&qd(e,r,s)}else for(var n in t)t.hasOwnProperty(n)&&qd(e,n,t[n])}function ni(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function _r(e){return xx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ii=null;function ci(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ol=null,Ml=null;function Hd(e){var t=Zt(e);if(t&&(e=t.stateNode)){var a=e[M]||null;e:switch(e=t.stateNode,t.type){case"input":if(si(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+qt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var r=s[M]||null;if(!r)throw Error(d(90));si(s,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&Dd(s)}break e;case"textarea":Md(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Cl(e,!!a.multiple,t,!1)}}}var di=!1;function Ld(e,t,a){if(di)return e(t,a);di=!0;try{var s=e(t);return s}finally{if(di=!1,(Ol!==null||Ml!==null)&&(mn(),Ol&&(t=Ol,e=Ml,Ml=Ol=null,Hd(t),e)))for(t=0;t<e.length;t++)Hd(e[t])}}function vs(e,t){var a=e.stateNode;if(a===null)return null;var s=a[M]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(d(231,t,typeof a));return a}var oa=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oi=!1;if(oa)try{var js={};Object.defineProperty(js,"passive",{get:function(){oi=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{oi=!1}var Ca=null,ui=null,zr=null;function Yd(){if(zr)return zr;var e,t=ui,a=t.length,s,r="value"in Ca?Ca.value:Ca.textContent,n=r.length;for(e=0;e<a&&t[e]===r[e];e++);var o=a-e;for(s=1;s<=o&&t[a-s]===r[n-s];s++);return zr=r.slice(e,1<s?1-s:void 0)}function Rr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cr(){return!0}function Qd(){return!1}function vt(e){function t(a,s,r,n,o){this._reactName=a,this._targetInst=r,this.type=s,this.nativeEvent=n,this.target=o,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(a=e[f],this[f]=a?a(n):n[f]);return this.isDefaultPrevented=(n.defaultPrevented!=null?n.defaultPrevented:n.returnValue===!1)?Cr:Qd,this.isPropagationStopped=Qd,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Cr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Cr)},persist:function(){},isPersistent:Cr}),t}var il={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dr=vt(il),Ns=j({},il,{view:0,detail:0}),gx=vt(Ns),fi,xi,ws,Or=j({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ws&&(ws&&e.type==="mousemove"?(fi=e.screenX-ws.screenX,xi=e.screenY-ws.screenY):xi=fi=0,ws=e),fi)},movementY:function(e){return"movementY"in e?e.movementY:xi}}),Vd=vt(Or),mx=j({},Or,{dataTransfer:0}),hx=vt(mx),yx=j({},Ns,{relatedTarget:0}),gi=vt(yx),px=j({},il,{animationName:0,elapsedTime:0,pseudoElement:0}),bx=vt(px),vx=j({},il,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jx=vt(vx),Nx=j({},il,{data:0}),Xd=vt(Nx),wx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kx[e])?!!t[e]:!1}function mi(){return Tx}var Ax=j({},Ns,{key:function(e){if(e.key){var t=wx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mi,charCode:function(e){return e.type==="keypress"?Rr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ex=vt(Ax),_x=j({},Or,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gd=vt(_x),zx=j({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mi}),Rx=vt(zx),Cx=j({},il,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dx=vt(Cx),Ox=j({},Or,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mx=vt(Ox),Ux=j({},il,{newState:0,oldState:0}),qx=vt(Ux),Bx=[9,13,27,32],hi=oa&&"CompositionEvent"in window,Ss=null;oa&&"documentMode"in document&&(Ss=document.documentMode);var Hx=oa&&"TextEvent"in window&&!Ss,Zd=oa&&(!hi||Ss&&8<Ss&&11>=Ss),Kd=" ",Fd=!1;function Jd(e,t){switch(e){case"keyup":return Bx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $d(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ul=!1;function Lx(e,t){switch(e){case"compositionend":return $d(t);case"keypress":return t.which!==32?null:(Fd=!0,Kd);case"textInput":return e=t.data,e===Kd&&Fd?null:e;default:return null}}function Yx(e,t){if(Ul)return e==="compositionend"||!hi&&Jd(e,t)?(e=Yd(),zr=ui=Ca=null,Ul=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zd&&t.locale!=="ko"?null:t.data;default:return null}}var Qx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Qx[e.type]:t==="textarea"}function Pd(e,t,a,s){Ol?Ml?Ml.push(s):Ml=[s]:Ol=s,t=jn(t,"onChange"),0<t.length&&(a=new Dr("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var ks=null,Ts=null;function Vx(e){D0(e,0)}function Mr(e){var t=ca(e);if(Dd(t))return e}function Id(e,t){if(e==="change")return t}var eo=!1;if(oa){var yi;if(oa){var pi="oninput"in document;if(!pi){var to=document.createElement("div");to.setAttribute("oninput","return;"),pi=typeof to.oninput=="function"}yi=pi}else yi=!1;eo=yi&&(!document.documentMode||9<document.documentMode)}function ao(){ks&&(ks.detachEvent("onpropertychange",lo),Ts=ks=null)}function lo(e){if(e.propertyName==="value"&&Mr(Ts)){var t=[];Pd(t,Ts,e,ci(e)),Ld(Vx,t)}}function Xx(e,t,a){e==="focusin"?(ao(),ks=t,Ts=a,ks.attachEvent("onpropertychange",lo)):e==="focusout"&&ao()}function Gx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mr(Ts)}function Zx(e,t){if(e==="click")return Mr(t)}function Kx(e,t){if(e==="input"||e==="change")return Mr(t)}function Fx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:Fx;function As(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var r=a[s];if(!je.call(t,r)||!Tt(e[r],t[r]))return!1}return!0}function so(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ro(e,t){var a=so(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=so(a)}}function no(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?no(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function io(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Er(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Er(e.document)}return t}function bi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Jx=oa&&"documentMode"in document&&11>=document.documentMode,ql=null,vi=null,Es=null,ji=!1;function co(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ji||ql==null||ql!==Er(s)||(s=ql,"selectionStart"in s&&bi(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Es&&As(Es,s)||(Es=s,s=jn(vi,"onSelect"),0<s.length&&(t=new Dr("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=ql)))}function cl(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Bl={animationend:cl("Animation","AnimationEnd"),animationiteration:cl("Animation","AnimationIteration"),animationstart:cl("Animation","AnimationStart"),transitionrun:cl("Transition","TransitionRun"),transitionstart:cl("Transition","TransitionStart"),transitioncancel:cl("Transition","TransitionCancel"),transitionend:cl("Transition","TransitionEnd")},Ni={},oo={};oa&&(oo=document.createElement("div").style,"AnimationEvent"in window||(delete Bl.animationend.animation,delete Bl.animationiteration.animation,delete Bl.animationstart.animation),"TransitionEvent"in window||delete Bl.transitionend.transition);function dl(e){if(Ni[e])return Ni[e];if(!Bl[e])return e;var t=Bl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in oo)return Ni[e]=t[a];return e}var uo=dl("animationend"),fo=dl("animationiteration"),xo=dl("animationstart"),$x=dl("transitionrun"),Wx=dl("transitionstart"),Px=dl("transitioncancel"),go=dl("transitionend"),mo=new Map,wi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wi.push("scrollEnd");function Kt(e,t){mo.set(e,t),nl(t,[e])}var ho=new WeakMap;function Bt(e,t){if(typeof e=="object"&&e!==null){var a=ho.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Rd(t)},ho.set(e,t),t)}return{value:e,source:t,stack:Rd(t)}}var Ht=[],Hl=0,Si=0;function Ur(){for(var e=Hl,t=Si=Hl=0;t<e;){var a=Ht[t];Ht[t++]=null;var s=Ht[t];Ht[t++]=null;var r=Ht[t];Ht[t++]=null;var n=Ht[t];if(Ht[t++]=null,s!==null&&r!==null){var o=s.pending;o===null?r.next=r:(r.next=o.next,o.next=r),s.pending=r}n!==0&&yo(a,r,n)}}function qr(e,t,a,s){Ht[Hl++]=e,Ht[Hl++]=t,Ht[Hl++]=a,Ht[Hl++]=s,Si|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function ki(e,t,a,s){return qr(e,t,a,s),Br(e)}function Ll(e,t){return qr(e,null,null,t),Br(e)}function yo(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var r=!1,n=e.return;n!==null;)n.childLanes|=a,s=n.alternate,s!==null&&(s.childLanes|=a),n.tag===22&&(e=n.stateNode,e===null||e._visibility&1||(r=!0)),e=n,n=n.return;return e.tag===3?(n=e.stateNode,r&&t!==null&&(r=31-yt(a),e=n.hiddenUpdates,s=e[r],s===null?e[r]=[t]:s.push(t),t.lane=a|536870912),n):null}function Br(e){if(50<Is)throw Is=0,Rc=null,Error(d(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Yl={};function Ix(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,t,a,s){return new Ix(e,t,a,s)}function Ti(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ua(e,t){var a=e.alternate;return a===null?(a=At(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function po(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Hr(e,t,a,s,r,n){var o=0;if(s=e,typeof e=="function")Ti(e)&&(o=1);else if(typeof e=="string")o=tm(e,a,qe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case $:return e=At(31,a,t,r),e.elementType=$,e.lanes=n,e;case H:return ol(a.children,r,n,t);case w:o=8,r|=24;break;case Q:return e=At(12,a,t,r|2),e.elementType=Q,e.lanes=n,e;case ce:return e=At(13,a,t,r),e.elementType=ce,e.lanes=n,e;case q:return e=At(19,a,t,r),e.elementType=q,e.lanes=n,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case J:case te:o=10;break e;case ee:o=9;break e;case ue:o=11;break e;case F:o=14;break e;case oe:o=16,s=null;break e}o=29,a=Error(d(130,e===null?"null":typeof e,"")),s=null}return t=At(o,a,t,r),t.elementType=e,t.type=s,t.lanes=n,t}function ol(e,t,a,s){return e=At(7,e,s,t),e.lanes=a,e}function Ai(e,t,a){return e=At(6,e,null,t),e.lanes=a,e}function Ei(e,t,a){return t=At(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ql=[],Vl=0,Lr=null,Yr=0,Lt=[],Yt=0,ul=null,fa=1,xa="";function fl(e,t){Ql[Vl++]=Yr,Ql[Vl++]=Lr,Lr=e,Yr=t}function bo(e,t,a){Lt[Yt++]=fa,Lt[Yt++]=xa,Lt[Yt++]=ul,ul=e;var s=fa;e=xa;var r=32-yt(s)-1;s&=~(1<<r),a+=1;var n=32-yt(t)+r;if(30<n){var o=r-r%5;n=(s&(1<<o)-1).toString(32),s>>=o,r-=o,fa=1<<32-yt(t)+r|a<<r|s,xa=n+e}else fa=1<<n|a<<r|s,xa=e}function _i(e){e.return!==null&&(fl(e,1),bo(e,1,0))}function zi(e){for(;e===Lr;)Lr=Ql[--Vl],Ql[Vl]=null,Yr=Ql[--Vl],Ql[Vl]=null;for(;e===ul;)ul=Lt[--Yt],Lt[Yt]=null,xa=Lt[--Yt],Lt[Yt]=null,fa=Lt[--Yt],Lt[Yt]=null}var pt=null,Ve=null,Ee=!1,xl=null,ea=!1,Ri=Error(d(519));function gl(e){var t=Error(d(418,""));throw Rs(Bt(t,e)),Ri}function vo(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[D]=e,t[M]=s,a){case"dialog":ve("cancel",t),ve("close",t);break;case"iframe":case"object":case"embed":ve("load",t);break;case"video":case"audio":for(a=0;a<tr.length;a++)ve(tr[a],t);break;case"source":ve("error",t);break;case"img":case"image":case"link":ve("error",t),ve("load",t);break;case"details":ve("toggle",t);break;case"input":ve("invalid",t),Od(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),Ar(t);break;case"select":ve("invalid",t);break;case"textarea":ve("invalid",t),Ud(t,s.value,s.defaultValue,s.children),Ar(t)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||q0(t.textContent,a)?(s.popover!=null&&(ve("beforetoggle",t),ve("toggle",t)),s.onScroll!=null&&ve("scroll",t),s.onScrollEnd!=null&&ve("scrollend",t),s.onClick!=null&&(t.onclick=Nn),t=!0):t=!1,t||gl(e)}function jo(e){for(pt=e.return;pt;)switch(pt.tag){case 5:case 13:ea=!1;return;case 27:case 3:ea=!0;return;default:pt=pt.return}}function _s(e){if(e!==pt)return!1;if(!Ee)return jo(e),Ee=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Kc(e.type,e.memoizedProps)),a=!a),a&&Ve&&gl(e),jo(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(d(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){Ve=Jt(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}Ve=null}}else t===27?(t=Ve,Fa(e.type)?(e=Wc,Wc=null,Ve=e):Ve=t):Ve=pt?Jt(e.stateNode.nextSibling):null;return!0}function zs(){Ve=pt=null,Ee=!1}function No(){var e=xl;return e!==null&&(wt===null?wt=e:wt.push.apply(wt,e),xl=null),e}function Rs(e){xl===null?xl=[e]:xl.push(e)}var Ci=Ze(null),ml=null,ga=null;function Da(e,t,a){ke(Ci,t._currentValue),t._currentValue=a}function ma(e){e._currentValue=Ci.current,he(Ci)}function Di(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function Oi(e,t,a,s){var r=e.child;for(r!==null&&(r.return=e);r!==null;){var n=r.dependencies;if(n!==null){var o=r.child;n=n.firstContext;e:for(;n!==null;){var f=n;n=r;for(var h=0;h<t.length;h++)if(f.context===t[h]){n.lanes|=a,f=n.alternate,f!==null&&(f.lanes|=a),Di(n.return,a,e),s||(o=null);break e}n=f.next}}else if(r.tag===18){if(o=r.return,o===null)throw Error(d(341));o.lanes|=a,n=o.alternate,n!==null&&(n.lanes|=a),Di(o,a,e),o=null}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===e){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}}function Cs(e,t,a,s){e=null;for(var r=t,n=!1;r!==null;){if(!n){if((r.flags&524288)!==0)n=!0;else if((r.flags&262144)!==0)break}if(r.tag===10){var o=r.alternate;if(o===null)throw Error(d(387));if(o=o.memoizedProps,o!==null){var f=r.type;Tt(r.pendingProps.value,o.value)||(e!==null?e.push(f):e=[f])}}else if(r===Aa.current){if(o=r.alternate,o===null)throw Error(d(387));o.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(e!==null?e.push(ir):e=[ir])}r=r.return}e!==null&&Oi(t,e,a,s),t.flags|=262144}function Qr(e){for(e=e.firstContext;e!==null;){if(!Tt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function hl(e){ml=e,ga=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function mt(e){return wo(ml,e)}function Vr(e,t){return ml===null&&hl(e),wo(e,t)}function wo(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ga===null){if(e===null)throw Error(d(308));ga=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ga=ga.next=t;return a}var eg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},tg=i.unstable_scheduleCallback,ag=i.unstable_NormalPriority,at={$$typeof:te,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mi(){return{controller:new eg,data:new Map,refCount:0}}function Ds(e){e.refCount--,e.refCount===0&&tg(ag,function(){e.controller.abort()})}var Os=null,Ui=0,Xl=0,Gl=null;function lg(e,t){if(Os===null){var a=Os=[];Ui=0,Xl=Bc(),Gl={status:"pending",value:void 0,then:function(s){a.push(s)}}}return Ui++,t.then(So,So),t}function So(){if(--Ui===0&&Os!==null){Gl!==null&&(Gl.status="fulfilled");var e=Os;Os=null,Xl=0,Gl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function sg(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(r){a.push(r)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var r=0;r<a.length;r++)(0,a[r])(t)},function(r){for(s.status="rejected",s.reason=r,r=0;r<a.length;r++)(0,a[r])(void 0)}),s}var ko=O.S;O.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&lg(e,t),ko!==null&&ko(e,t)};var yl=Ze(null);function qi(){var e=yl.current;return e!==null?e:He.pooledCache}function Xr(e,t){t===null?ke(yl,yl.current):ke(yl,t.pool)}function To(){var e=qi();return e===null?null:{parent:at._currentValue,pool:e}}var Ms=Error(d(460)),Ao=Error(d(474)),Gr=Error(d(542)),Bi={then:function(){}};function Eo(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Zr(){}function _o(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Zr,Zr),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ro(e),e;default:if(typeof t.status=="string")t.then(Zr,Zr);else{if(e=He,e!==null&&100<e.shellSuspendCounter)throw Error(d(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var r=t;r.status="fulfilled",r.value=s}},function(s){if(t.status==="pending"){var r=t;r.status="rejected",r.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ro(e),e}throw Us=t,Ms}}var Us=null;function zo(){if(Us===null)throw Error(d(459));var e=Us;return Us=null,e}function Ro(e){if(e===Ms||e===Gr)throw Error(d(483))}var Oa=!1;function Hi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Li(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ma(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ua(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(ze&2)!==0){var r=s.pending;return r===null?t.next=t:(t.next=r.next,r.next=t),s.pending=t,t=Br(e),yo(e,null,a),t}return qr(e,s,t,a),Br(e)}function qs(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,ys(e,a)}}function Yi(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var r=null,n=null;if(a=a.firstBaseUpdate,a!==null){do{var o={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};n===null?r=n=o:n=n.next=o,a=a.next}while(a!==null);n===null?r=n=t:n=n.next=t}else r=n=t;a={baseState:s.baseState,firstBaseUpdate:r,lastBaseUpdate:n,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Qi=!1;function Bs(){if(Qi){var e=Gl;if(e!==null)throw e}}function Hs(e,t,a,s){Qi=!1;var r=e.updateQueue;Oa=!1;var n=r.firstBaseUpdate,o=r.lastBaseUpdate,f=r.shared.pending;if(f!==null){r.shared.pending=null;var h=f,S=h.next;h.next=null,o===null?n=S:o.next=S,o=h;var U=e.alternate;U!==null&&(U=U.updateQueue,f=U.lastBaseUpdate,f!==o&&(f===null?U.firstBaseUpdate=S:f.next=S,U.lastBaseUpdate=h))}if(n!==null){var Y=r.baseState;o=0,U=S=h=null,f=n;do{var T=f.lane&-536870913,E=T!==f.lane;if(E?(we&T)===T:(s&T)===T){T!==0&&T===Xl&&(Qi=!0),U!==null&&(U=U.next={lane:0,tag:f.tag,payload:f.payload,callback:null,next:null});e:{var ie=e,se=f;T=t;var Oe=a;switch(se.tag){case 1:if(ie=se.payload,typeof ie=="function"){Y=ie.call(Oe,Y,T);break e}Y=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=se.payload,T=typeof ie=="function"?ie.call(Oe,Y,T):ie,T==null)break e;Y=j({},Y,T);break e;case 2:Oa=!0}}T=f.callback,T!==null&&(e.flags|=64,E&&(e.flags|=8192),E=r.callbacks,E===null?r.callbacks=[T]:E.push(T))}else E={lane:T,tag:f.tag,payload:f.payload,callback:f.callback,next:null},U===null?(S=U=E,h=Y):U=U.next=E,o|=T;if(f=f.next,f===null){if(f=r.shared.pending,f===null)break;E=f,f=E.next,E.next=null,r.lastBaseUpdate=E,r.shared.pending=null}}while(!0);U===null&&(h=Y),r.baseState=h,r.firstBaseUpdate=S,r.lastBaseUpdate=U,n===null&&(r.shared.lanes=0),Xa|=o,e.lanes=o,e.memoizedState=Y}}function Co(e,t){if(typeof e!="function")throw Error(d(191,e));e.call(t)}function Do(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Co(a[e],t)}var Zl=Ze(null),Kr=Ze(0);function Oo(e,t){e=Na,ke(Kr,e),ke(Zl,t),Na=e|t.baseLanes}function Vi(){ke(Kr,Na),ke(Zl,Zl.current)}function Xi(){Na=Kr.current,he(Zl),he(Kr)}var qa=0,me=null,Ce=null,et=null,Fr=!1,Kl=!1,pl=!1,Jr=0,Ls=0,Fl=null,rg=0;function Fe(){throw Error(d(321))}function Gi(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Tt(e[a],t[a]))return!1;return!0}function Zi(e,t,a,s,r,n){return qa=n,me=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?yu:pu,pl=!1,n=a(s,r),pl=!1,Kl&&(n=Uo(t,a,s,r)),Mo(e),n}function Mo(e){O.H=tn;var t=Ce!==null&&Ce.next!==null;if(qa=0,et=Ce=me=null,Fr=!1,Ls=0,Fl=null,t)throw Error(d(300));e===null||st||(e=e.dependencies,e!==null&&Qr(e)&&(st=!0))}function Uo(e,t,a,s){me=e;var r=0;do{if(Kl&&(Fl=null),Ls=0,Kl=!1,25<=r)throw Error(d(301));if(r+=1,et=Ce=null,e.updateQueue!=null){var n=e.updateQueue;n.lastEffect=null,n.events=null,n.stores=null,n.memoCache!=null&&(n.memoCache.index=0)}O.H=fg,n=t(a,s)}while(Kl);return n}function ng(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?Ys(t):t,e=e.useState()[0],(Ce!==null?Ce.memoizedState:null)!==e&&(me.flags|=1024),t}function Ki(){var e=Jr!==0;return Jr=0,e}function Fi(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Ji(e){if(Fr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Fr=!1}qa=0,et=Ce=me=null,Kl=!1,Ls=Jr=0,Fl=null}function jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return et===null?me.memoizedState=et=e:et=et.next=e,et}function tt(){if(Ce===null){var e=me.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=et===null?me.memoizedState:et.next;if(t!==null)et=t,Ce=e;else{if(e===null)throw me.alternate===null?Error(d(467)):Error(d(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},et===null?me.memoizedState=et=e:et=et.next=e}return et}function $i(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ys(e){var t=Ls;return Ls+=1,Fl===null&&(Fl=[]),e=_o(Fl,e,t),t=me,(et===null?t.memoizedState:et.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?yu:pu),e}function $r(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ys(e);if(e.$$typeof===te)return mt(e)}throw Error(d(438,String(e)))}function Wi(e){var t=null,a=me.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=me.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(r){return r.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=$i(),me.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=Ne;return t.index++,a}function ha(e,t){return typeof t=="function"?t(e):t}function Wr(e){var t=tt();return Pi(t,Ce,e)}function Pi(e,t,a){var s=e.queue;if(s===null)throw Error(d(311));s.lastRenderedReducer=a;var r=e.baseQueue,n=s.pending;if(n!==null){if(r!==null){var o=r.next;r.next=n.next,n.next=o}t.baseQueue=r=n,s.pending=null}if(n=e.baseState,r===null)e.memoizedState=n;else{t=r.next;var f=o=null,h=null,S=t,U=!1;do{var Y=S.lane&-536870913;if(Y!==S.lane?(we&Y)===Y:(qa&Y)===Y){var T=S.revertLane;if(T===0)h!==null&&(h=h.next={lane:0,revertLane:0,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null}),Y===Xl&&(U=!0);else if((qa&T)===T){S=S.next,T===Xl&&(U=!0);continue}else Y={lane:0,revertLane:S.revertLane,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null},h===null?(f=h=Y,o=n):h=h.next=Y,me.lanes|=T,Xa|=T;Y=S.action,pl&&a(n,Y),n=S.hasEagerState?S.eagerState:a(n,Y)}else T={lane:Y,revertLane:S.revertLane,action:S.action,hasEagerState:S.hasEagerState,eagerState:S.eagerState,next:null},h===null?(f=h=T,o=n):h=h.next=T,me.lanes|=Y,Xa|=Y;S=S.next}while(S!==null&&S!==t);if(h===null?o=n:h.next=f,!Tt(n,e.memoizedState)&&(st=!0,U&&(a=Gl,a!==null)))throw a;e.memoizedState=n,e.baseState=o,e.baseQueue=h,s.lastRenderedState=n}return r===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Ii(e){var t=tt(),a=t.queue;if(a===null)throw Error(d(311));a.lastRenderedReducer=e;var s=a.dispatch,r=a.pending,n=t.memoizedState;if(r!==null){a.pending=null;var o=r=r.next;do n=e(n,o.action),o=o.next;while(o!==r);Tt(n,t.memoizedState)||(st=!0),t.memoizedState=n,t.baseQueue===null&&(t.baseState=n),a.lastRenderedState=n}return[n,s]}function qo(e,t,a){var s=me,r=tt(),n=Ee;if(n){if(a===void 0)throw Error(d(407));a=a()}else a=t();var o=!Tt((Ce||r).memoizedState,a);o&&(r.memoizedState=a,st=!0),r=r.queue;var f=Lo.bind(null,s,r,e);if(Qs(2048,8,f,[e]),r.getSnapshot!==t||o||et!==null&&et.memoizedState.tag&1){if(s.flags|=2048,Jl(9,Pr(),Ho.bind(null,s,r,a,t),null),He===null)throw Error(d(349));n||(qa&124)!==0||Bo(s,t,a)}return a}function Bo(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=me.updateQueue,t===null?(t=$i(),me.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Ho(e,t,a,s){t.value=a,t.getSnapshot=s,Yo(t)&&Qo(e)}function Lo(e,t,a){return a(function(){Yo(t)&&Qo(e)})}function Yo(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Tt(e,a)}catch{return!0}}function Qo(e){var t=Ll(e,2);t!==null&&Ct(t,e,2)}function ec(e){var t=jt();if(typeof e=="function"){var a=e;if(e=a(),pl){Ot(!0);try{a()}finally{Ot(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:e},t}function Vo(e,t,a,s){return e.baseState=a,Pi(e,Ce,typeof s=="function"?s:ha)}function ig(e,t,a,s,r){if(en(e))throw Error(d(485));if(e=t.action,e!==null){var n={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){n.listeners.push(o)}};O.T!==null?a(!0):n.isTransition=!1,s(n),a=t.pending,a===null?(n.next=t.pending=n,Xo(t,n)):(n.next=a.next,t.pending=a.next=n)}}function Xo(e,t){var a=t.action,s=t.payload,r=e.state;if(t.isTransition){var n=O.T,o={};O.T=o;try{var f=a(r,s),h=O.S;h!==null&&h(o,f),Go(e,t,f)}catch(S){tc(e,t,S)}finally{O.T=n}}else try{n=a(r,s),Go(e,t,n)}catch(S){tc(e,t,S)}}function Go(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Zo(e,t,s)},function(s){return tc(e,t,s)}):Zo(e,t,a)}function Zo(e,t,a){t.status="fulfilled",t.value=a,Ko(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Xo(e,a)))}function tc(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,Ko(t),t=t.next;while(t!==s)}e.action=null}function Ko(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Fo(e,t){return t}function Jo(e,t){if(Ee){var a=He.formState;if(a!==null){e:{var s=me;if(Ee){if(Ve){t:{for(var r=Ve,n=ea;r.nodeType!==8;){if(!n){r=null;break t}if(r=Jt(r.nextSibling),r===null){r=null;break t}}n=r.data,r=n==="F!"||n==="F"?r:null}if(r){Ve=Jt(r.nextSibling),s=r.data==="F!";break e}}gl(s)}s=!1}s&&(t=a[0])}}return a=jt(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fo,lastRenderedState:t},a.queue=s,a=gu.bind(null,me,s),s.dispatch=a,s=ec(!1),n=nc.bind(null,me,!1,s.queue),s=jt(),r={state:t,dispatch:null,action:e,pending:null},s.queue=r,a=ig.bind(null,me,r,n,a),r.dispatch=a,s.memoizedState=e,[t,a,!1]}function $o(e){var t=tt();return Wo(t,Ce,e)}function Wo(e,t,a){if(t=Pi(e,t,Fo)[0],e=Wr(ha)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Ys(t)}catch(o){throw o===Ms?Gr:o}else s=t;t=tt();var r=t.queue,n=r.dispatch;return a!==t.memoizedState&&(me.flags|=2048,Jl(9,Pr(),cg.bind(null,r,a),null)),[s,n,e]}function cg(e,t){e.action=t}function Po(e){var t=tt(),a=Ce;if(a!==null)return Wo(t,a,e);tt(),t=t.memoizedState,a=tt();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function Jl(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=me.updateQueue,t===null&&(t=$i(),me.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function Pr(){return{destroy:void 0,resource:void 0}}function Io(){return tt().memoizedState}function Ir(e,t,a,s){var r=jt();s=s===void 0?null:s,me.flags|=e,r.memoizedState=Jl(1|t,Pr(),a,s)}function Qs(e,t,a,s){var r=tt();s=s===void 0?null:s;var n=r.memoizedState.inst;Ce!==null&&s!==null&&Gi(s,Ce.memoizedState.deps)?r.memoizedState=Jl(t,n,a,s):(me.flags|=e,r.memoizedState=Jl(1|t,n,a,s))}function eu(e,t){Ir(8390656,8,e,t)}function tu(e,t){Qs(2048,8,e,t)}function au(e,t){return Qs(4,2,e,t)}function lu(e,t){return Qs(4,4,e,t)}function su(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ru(e,t,a){a=a!=null?a.concat([e]):null,Qs(4,4,su.bind(null,t,e),a)}function ac(){}function nu(e,t){var a=tt();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&Gi(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function iu(e,t){var a=tt();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&Gi(t,s[1]))return s[0];if(s=e(),pl){Ot(!0);try{e()}finally{Ot(!1)}}return a.memoizedState=[s,t],s}function lc(e,t,a){return a===void 0||(qa&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=o0(),me.lanes|=e,Xa|=e,a)}function cu(e,t,a,s){return Tt(a,t)?a:Zl.current!==null?(e=lc(e,a,s),Tt(e,t)||(st=!0),e):(qa&42)===0?(st=!0,e.memoizedState=a):(e=o0(),me.lanes|=e,Xa|=e,t)}function du(e,t,a,s,r){var n=K.p;K.p=n!==0&&8>n?n:8;var o=O.T,f={};O.T=f,nc(e,!1,t,a);try{var h=r(),S=O.S;if(S!==null&&S(f,h),h!==null&&typeof h=="object"&&typeof h.then=="function"){var U=sg(h,s);Vs(e,t,U,Rt(e))}else Vs(e,t,s,Rt(e))}catch(Y){Vs(e,t,{then:function(){},status:"rejected",reason:Y},Rt())}finally{K.p=n,O.T=o}}function dg(){}function sc(e,t,a,s){if(e.tag!==5)throw Error(d(476));var r=ou(e).queue;du(e,r,t,ae,a===null?dg:function(){return uu(e),a(s)})}function ou(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:ae},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ha,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function uu(e){var t=ou(e).next.queue;Vs(e,t,{},Rt())}function rc(){return mt(ir)}function fu(){return tt().memoizedState}function xu(){return tt().memoizedState}function og(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Rt();e=Ma(a);var s=Ua(t,e,a);s!==null&&(Ct(s,t,a),qs(s,t,a)),t={cache:Mi()},e.payload=t;return}t=t.return}}function ug(e,t,a){var s=Rt();a={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},en(e)?mu(t,a):(a=ki(e,t,a,s),a!==null&&(Ct(a,e,s),hu(a,t,s)))}function gu(e,t,a){var s=Rt();Vs(e,t,a,s)}function Vs(e,t,a,s){var r={lane:s,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(en(e))mu(t,r);else{var n=e.alternate;if(e.lanes===0&&(n===null||n.lanes===0)&&(n=t.lastRenderedReducer,n!==null))try{var o=t.lastRenderedState,f=n(o,a);if(r.hasEagerState=!0,r.eagerState=f,Tt(f,o))return qr(e,t,r,0),He===null&&Ur(),!1}catch{}finally{}if(a=ki(e,t,r,s),a!==null)return Ct(a,e,s),hu(a,t,s),!0}return!1}function nc(e,t,a,s){if(s={lane:2,revertLane:Bc(),action:s,hasEagerState:!1,eagerState:null,next:null},en(e)){if(t)throw Error(d(479))}else t=ki(e,a,s,2),t!==null&&Ct(t,e,2)}function en(e){var t=e.alternate;return e===me||t!==null&&t===me}function mu(e,t){Kl=Fr=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function hu(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,ys(e,a)}}var tn={readContext:mt,use:$r,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe},yu={readContext:mt,use:$r,useCallback:function(e,t){return jt().memoizedState=[e,t===void 0?null:t],e},useContext:mt,useEffect:eu,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Ir(4194308,4,su.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Ir(4194308,4,e,t)},useInsertionEffect:function(e,t){Ir(4,2,e,t)},useMemo:function(e,t){var a=jt();t=t===void 0?null:t;var s=e();if(pl){Ot(!0);try{e()}finally{Ot(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=jt();if(a!==void 0){var r=a(t);if(pl){Ot(!0);try{a(t)}finally{Ot(!1)}}}else r=t;return s.memoizedState=s.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},s.queue=e,e=e.dispatch=ug.bind(null,me,e),[s.memoizedState,e]},useRef:function(e){var t=jt();return e={current:e},t.memoizedState=e},useState:function(e){e=ec(e);var t=e.queue,a=gu.bind(null,me,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:ac,useDeferredValue:function(e,t){var a=jt();return lc(a,e,t)},useTransition:function(){var e=ec(!1);return e=du.bind(null,me,e.queue,!0,!1),jt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=me,r=jt();if(Ee){if(a===void 0)throw Error(d(407));a=a()}else{if(a=t(),He===null)throw Error(d(349));(we&124)!==0||Bo(s,t,a)}r.memoizedState=a;var n={value:a,getSnapshot:t};return r.queue=n,eu(Lo.bind(null,s,n,e),[e]),s.flags|=2048,Jl(9,Pr(),Ho.bind(null,s,n,a,t),null),a},useId:function(){var e=jt(),t=He.identifierPrefix;if(Ee){var a=xa,s=fa;a=(s&~(1<<32-yt(s)-1)).toString(32)+a,t=""+t+"R"+a,a=Jr++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=rg++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:rc,useFormState:Jo,useActionState:Jo,useOptimistic:function(e){var t=jt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=nc.bind(null,me,!0,a),a.dispatch=t,[e,t]},useMemoCache:Wi,useCacheRefresh:function(){return jt().memoizedState=og.bind(null,me)}},pu={readContext:mt,use:$r,useCallback:nu,useContext:mt,useEffect:tu,useImperativeHandle:ru,useInsertionEffect:au,useLayoutEffect:lu,useMemo:iu,useReducer:Wr,useRef:Io,useState:function(){return Wr(ha)},useDebugValue:ac,useDeferredValue:function(e,t){var a=tt();return cu(a,Ce.memoizedState,e,t)},useTransition:function(){var e=Wr(ha)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:Ys(e),t]},useSyncExternalStore:qo,useId:fu,useHostTransitionStatus:rc,useFormState:$o,useActionState:$o,useOptimistic:function(e,t){var a=tt();return Vo(a,Ce,e,t)},useMemoCache:Wi,useCacheRefresh:xu},fg={readContext:mt,use:$r,useCallback:nu,useContext:mt,useEffect:tu,useImperativeHandle:ru,useInsertionEffect:au,useLayoutEffect:lu,useMemo:iu,useReducer:Ii,useRef:Io,useState:function(){return Ii(ha)},useDebugValue:ac,useDeferredValue:function(e,t){var a=tt();return Ce===null?lc(a,e,t):cu(a,Ce.memoizedState,e,t)},useTransition:function(){var e=Ii(ha)[0],t=tt().memoizedState;return[typeof e=="boolean"?e:Ys(e),t]},useSyncExternalStore:qo,useId:fu,useHostTransitionStatus:rc,useFormState:Po,useActionState:Po,useOptimistic:function(e,t){var a=tt();return Ce!==null?Vo(a,Ce,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Wi,useCacheRefresh:xu},$l=null,Xs=0;function an(e){var t=Xs;return Xs+=1,$l===null&&($l=[]),_o($l,e,t)}function Gs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ln(e,t){throw t.$$typeof===z?Error(d(525)):(e=Object.prototype.toString.call(t),Error(d(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function bu(e){var t=e._init;return t(e._payload)}function vu(e){function t(v,p){if(e){var N=v.deletions;N===null?(v.deletions=[p],v.flags|=16):N.push(p)}}function a(v,p){if(!e)return null;for(;p!==null;)t(v,p),p=p.sibling;return null}function s(v){for(var p=new Map;v!==null;)v.key!==null?p.set(v.key,v):p.set(v.index,v),v=v.sibling;return p}function r(v,p){return v=ua(v,p),v.index=0,v.sibling=null,v}function n(v,p,N){return v.index=N,e?(N=v.alternate,N!==null?(N=N.index,N<p?(v.flags|=67108866,p):N):(v.flags|=67108866,p)):(v.flags|=1048576,p)}function o(v){return e&&v.alternate===null&&(v.flags|=67108866),v}function f(v,p,N,L){return p===null||p.tag!==6?(p=Ai(N,v.mode,L),p.return=v,p):(p=r(p,N),p.return=v,p)}function h(v,p,N,L){var P=N.type;return P===H?U(v,p,N.props.children,L,N.key):p!==null&&(p.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===oe&&bu(P)===p.type)?(p=r(p,N.props),Gs(p,N),p.return=v,p):(p=Hr(N.type,N.key,N.props,null,v.mode,L),Gs(p,N),p.return=v,p)}function S(v,p,N,L){return p===null||p.tag!==4||p.stateNode.containerInfo!==N.containerInfo||p.stateNode.implementation!==N.implementation?(p=Ei(N,v.mode,L),p.return=v,p):(p=r(p,N.children||[]),p.return=v,p)}function U(v,p,N,L,P){return p===null||p.tag!==7?(p=ol(N,v.mode,L,P),p.return=v,p):(p=r(p,N),p.return=v,p)}function Y(v,p,N){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return p=Ai(""+p,v.mode,N),p.return=v,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case _:return N=Hr(p.type,p.key,p.props,null,v.mode,N),Gs(N,p),N.return=v,N;case Z:return p=Ei(p,v.mode,N),p.return=v,p;case oe:var L=p._init;return p=L(p._payload),Y(v,p,N)}if(Ge(p)||le(p))return p=ol(p,v.mode,N,null),p.return=v,p;if(typeof p.then=="function")return Y(v,an(p),N);if(p.$$typeof===te)return Y(v,Vr(v,p),N);ln(v,p)}return null}function T(v,p,N,L){var P=p!==null?p.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return P!==null?null:f(v,p,""+N,L);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case _:return N.key===P?h(v,p,N,L):null;case Z:return N.key===P?S(v,p,N,L):null;case oe:return P=N._init,N=P(N._payload),T(v,p,N,L)}if(Ge(N)||le(N))return P!==null?null:U(v,p,N,L,null);if(typeof N.then=="function")return T(v,p,an(N),L);if(N.$$typeof===te)return T(v,p,Vr(v,N),L);ln(v,N)}return null}function E(v,p,N,L,P){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return v=v.get(N)||null,f(p,v,""+L,P);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case _:return v=v.get(L.key===null?N:L.key)||null,h(p,v,L,P);case Z:return v=v.get(L.key===null?N:L.key)||null,S(p,v,L,P);case oe:var ye=L._init;return L=ye(L._payload),E(v,p,N,L,P)}if(Ge(L)||le(L))return v=v.get(N)||null,U(p,v,L,P,null);if(typeof L.then=="function")return E(v,p,N,an(L),P);if(L.$$typeof===te)return E(v,p,N,Vr(p,L),P);ln(p,L)}return null}function ie(v,p,N,L){for(var P=null,ye=null,I=p,re=p=0,nt=null;I!==null&&re<N.length;re++){I.index>re?(nt=I,I=null):nt=I.sibling;var Ae=T(v,I,N[re],L);if(Ae===null){I===null&&(I=nt);break}e&&I&&Ae.alternate===null&&t(v,I),p=n(Ae,p,re),ye===null?P=Ae:ye.sibling=Ae,ye=Ae,I=nt}if(re===N.length)return a(v,I),Ee&&fl(v,re),P;if(I===null){for(;re<N.length;re++)I=Y(v,N[re],L),I!==null&&(p=n(I,p,re),ye===null?P=I:ye.sibling=I,ye=I);return Ee&&fl(v,re),P}for(I=s(I);re<N.length;re++)nt=E(I,v,re,N[re],L),nt!==null&&(e&&nt.alternate!==null&&I.delete(nt.key===null?re:nt.key),p=n(nt,p,re),ye===null?P=nt:ye.sibling=nt,ye=nt);return e&&I.forEach(function(Ia){return t(v,Ia)}),Ee&&fl(v,re),P}function se(v,p,N,L){if(N==null)throw Error(d(151));for(var P=null,ye=null,I=p,re=p=0,nt=null,Ae=N.next();I!==null&&!Ae.done;re++,Ae=N.next()){I.index>re?(nt=I,I=null):nt=I.sibling;var Ia=T(v,I,Ae.value,L);if(Ia===null){I===null&&(I=nt);break}e&&I&&Ia.alternate===null&&t(v,I),p=n(Ia,p,re),ye===null?P=Ia:ye.sibling=Ia,ye=Ia,I=nt}if(Ae.done)return a(v,I),Ee&&fl(v,re),P;if(I===null){for(;!Ae.done;re++,Ae=N.next())Ae=Y(v,Ae.value,L),Ae!==null&&(p=n(Ae,p,re),ye===null?P=Ae:ye.sibling=Ae,ye=Ae);return Ee&&fl(v,re),P}for(I=s(I);!Ae.done;re++,Ae=N.next())Ae=E(I,v,re,Ae.value,L),Ae!==null&&(e&&Ae.alternate!==null&&I.delete(Ae.key===null?re:Ae.key),p=n(Ae,p,re),ye===null?P=Ae:ye.sibling=Ae,ye=Ae);return e&&I.forEach(function(xm){return t(v,xm)}),Ee&&fl(v,re),P}function Oe(v,p,N,L){if(typeof N=="object"&&N!==null&&N.type===H&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case _:e:{for(var P=N.key;p!==null;){if(p.key===P){if(P=N.type,P===H){if(p.tag===7){a(v,p.sibling),L=r(p,N.props.children),L.return=v,v=L;break e}}else if(p.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===oe&&bu(P)===p.type){a(v,p.sibling),L=r(p,N.props),Gs(L,N),L.return=v,v=L;break e}a(v,p);break}else t(v,p);p=p.sibling}N.type===H?(L=ol(N.props.children,v.mode,L,N.key),L.return=v,v=L):(L=Hr(N.type,N.key,N.props,null,v.mode,L),Gs(L,N),L.return=v,v=L)}return o(v);case Z:e:{for(P=N.key;p!==null;){if(p.key===P)if(p.tag===4&&p.stateNode.containerInfo===N.containerInfo&&p.stateNode.implementation===N.implementation){a(v,p.sibling),L=r(p,N.children||[]),L.return=v,v=L;break e}else{a(v,p);break}else t(v,p);p=p.sibling}L=Ei(N,v.mode,L),L.return=v,v=L}return o(v);case oe:return P=N._init,N=P(N._payload),Oe(v,p,N,L)}if(Ge(N))return ie(v,p,N,L);if(le(N)){if(P=le(N),typeof P!="function")throw Error(d(150));return N=P.call(N),se(v,p,N,L)}if(typeof N.then=="function")return Oe(v,p,an(N),L);if(N.$$typeof===te)return Oe(v,p,Vr(v,N),L);ln(v,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,p!==null&&p.tag===6?(a(v,p.sibling),L=r(p,N),L.return=v,v=L):(a(v,p),L=Ai(N,v.mode,L),L.return=v,v=L),o(v)):a(v,p)}return function(v,p,N,L){try{Xs=0;var P=Oe(v,p,N,L);return $l=null,P}catch(I){if(I===Ms||I===Gr)throw I;var ye=At(29,I,null,v.mode);return ye.lanes=L,ye.return=v,ye}finally{}}}var Wl=vu(!0),ju=vu(!1),Qt=Ze(null),ta=null;function Ba(e){var t=e.alternate;ke(lt,lt.current&1),ke(Qt,e),ta===null&&(t===null||Zl.current!==null||t.memoizedState!==null)&&(ta=e)}function Nu(e){if(e.tag===22){if(ke(lt,lt.current),ke(Qt,e),ta===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(ta=e)}}else Ha()}function Ha(){ke(lt,lt.current),ke(Qt,Qt.current)}function ya(e){he(Qt),ta===e&&(ta=null),he(lt)}var lt=Ze(0);function sn(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||$c(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ic(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:j({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var cc={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Rt(),r=Ma(s);r.payload=t,a!=null&&(r.callback=a),t=Ua(e,r,s),t!==null&&(Ct(t,e,s),qs(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Rt(),r=Ma(s);r.tag=1,r.payload=t,a!=null&&(r.callback=a),t=Ua(e,r,s),t!==null&&(Ct(t,e,s),qs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Rt(),s=Ma(a);s.tag=2,t!=null&&(s.callback=t),t=Ua(e,s,a),t!==null&&(Ct(t,e,a),qs(t,e,a))}};function wu(e,t,a,s,r,n,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,n,o):t.prototype&&t.prototype.isPureReactComponent?!As(a,s)||!As(r,n):!0}function Su(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&cc.enqueueReplaceState(t,t.state,null)}function bl(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=j({},a));for(var r in e)a[r]===void 0&&(a[r]=e[r])}return a}var rn=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function ku(e){rn(e)}function Tu(e){console.error(e)}function Au(e){rn(e)}function nn(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Eu(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function dc(e,t,a){return a=Ma(a),a.tag=3,a.payload={element:null},a.callback=function(){nn(e,t)},a}function _u(e){return e=Ma(e),e.tag=3,e}function zu(e,t,a,s){var r=a.type.getDerivedStateFromError;if(typeof r=="function"){var n=s.value;e.payload=function(){return r(n)},e.callback=function(){Eu(t,a,s)}}var o=a.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){Eu(t,a,s),typeof r!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var f=s.stack;this.componentDidCatch(s.value,{componentStack:f!==null?f:""})})}function xg(e,t,a,s,r){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&Cs(t,a,r,!0),a=Qt.current,a!==null){switch(a.tag){case 13:return ta===null?Dc():a.alternate===null&&Xe===0&&(Xe=3),a.flags&=-257,a.flags|=65536,a.lanes=r,s===Bi?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),Mc(e,s,r)),!1;case 22:return a.flags|=65536,s===Bi?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),Mc(e,s,r)),!1}throw Error(d(435,a.tag))}return Mc(e,s,r),Dc(),!1}if(Ee)return t=Qt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=r,s!==Ri&&(e=Error(d(422),{cause:s}),Rs(Bt(e,a)))):(s!==Ri&&(t=Error(d(423),{cause:s}),Rs(Bt(t,a))),e=e.current.alternate,e.flags|=65536,r&=-r,e.lanes|=r,s=Bt(s,a),r=dc(e.stateNode,s,r),Yi(e,r),Xe!==4&&(Xe=2)),!1;var n=Error(d(520),{cause:s});if(n=Bt(n,a),Ps===null?Ps=[n]:Ps.push(n),Xe!==4&&(Xe=2),t===null)return!0;s=Bt(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=r&-r,a.lanes|=e,e=dc(a.stateNode,s,e),Yi(a,e),!1;case 1:if(t=a.type,n=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||n!==null&&typeof n.componentDidCatch=="function"&&(Ga===null||!Ga.has(n))))return a.flags|=65536,r&=-r,a.lanes|=r,r=_u(r),zu(r,e,a,s),Yi(a,r),!1}a=a.return}while(a!==null);return!1}var Ru=Error(d(461)),st=!1;function ot(e,t,a,s){t.child=e===null?ju(t,null,a,s):Wl(t,e.child,a,s)}function Cu(e,t,a,s,r){a=a.render;var n=t.ref;if("ref"in s){var o={};for(var f in s)f!=="ref"&&(o[f]=s[f])}else o=s;return hl(t),s=Zi(e,t,a,o,n,r),f=Ki(),e!==null&&!st?(Fi(e,t,r),pa(e,t,r)):(Ee&&f&&_i(t),t.flags|=1,ot(e,t,s,r),t.child)}function Du(e,t,a,s,r){if(e===null){var n=a.type;return typeof n=="function"&&!Ti(n)&&n.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=n,Ou(e,t,n,s,r)):(e=Hr(a.type,null,s,t,t.mode,r),e.ref=t.ref,e.return=t,t.child=e)}if(n=e.child,!yc(e,r)){var o=n.memoizedProps;if(a=a.compare,a=a!==null?a:As,a(o,s)&&e.ref===t.ref)return pa(e,t,r)}return t.flags|=1,e=ua(n,s),e.ref=t.ref,e.return=t,t.child=e}function Ou(e,t,a,s,r){if(e!==null){var n=e.memoizedProps;if(As(n,s)&&e.ref===t.ref)if(st=!1,t.pendingProps=s=n,yc(e,r))(e.flags&131072)!==0&&(st=!0);else return t.lanes=e.lanes,pa(e,t,r)}return oc(e,t,a,s,r)}function Mu(e,t,a){var s=t.pendingProps,r=s.children,n=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if((t.flags&128)!==0){if(s=n!==null?n.baseLanes|a:a,e!==null){for(r=t.child=e.child,n=0;r!==null;)n=n|r.lanes|r.childLanes,r=r.sibling;t.childLanes=n&~s}else t.childLanes=0,t.child=null;return Uu(e,t,s,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Xr(t,n!==null?n.cachePool:null),n!==null?Oo(t,n):Vi(),Nu(t);else return t.lanes=t.childLanes=536870912,Uu(e,t,n!==null?n.baseLanes|a:a,a)}else n!==null?(Xr(t,n.cachePool),Oo(t,n),Ha(),t.memoizedState=null):(e!==null&&Xr(t,null),Vi(),Ha());return ot(e,t,r,a),t.child}function Uu(e,t,a,s){var r=qi();return r=r===null?null:{parent:at._currentValue,pool:r},t.memoizedState={baseLanes:a,cachePool:r},e!==null&&Xr(t,null),Vi(),Nu(t),e!==null&&Cs(e,t,s,!0),null}function cn(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(d(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function oc(e,t,a,s,r){return hl(t),a=Zi(e,t,a,s,void 0,r),s=Ki(),e!==null&&!st?(Fi(e,t,r),pa(e,t,r)):(Ee&&s&&_i(t),t.flags|=1,ot(e,t,a,r),t.child)}function qu(e,t,a,s,r,n){return hl(t),t.updateQueue=null,a=Uo(t,s,a,r),Mo(e),s=Ki(),e!==null&&!st?(Fi(e,t,n),pa(e,t,n)):(Ee&&s&&_i(t),t.flags|=1,ot(e,t,a,n),t.child)}function Bu(e,t,a,s,r){if(hl(t),t.stateNode===null){var n=Yl,o=a.contextType;typeof o=="object"&&o!==null&&(n=mt(o)),n=new a(s,n),t.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=cc,t.stateNode=n,n._reactInternals=t,n=t.stateNode,n.props=s,n.state=t.memoizedState,n.refs={},Hi(t),o=a.contextType,n.context=typeof o=="object"&&o!==null?mt(o):Yl,n.state=t.memoizedState,o=a.getDerivedStateFromProps,typeof o=="function"&&(ic(t,a,o,s),n.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(o=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),o!==n.state&&cc.enqueueReplaceState(n,n.state,null),Hs(t,s,n,r),Bs(),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){n=t.stateNode;var f=t.memoizedProps,h=bl(a,f);n.props=h;var S=n.context,U=a.contextType;o=Yl,typeof U=="object"&&U!==null&&(o=mt(U));var Y=a.getDerivedStateFromProps;U=typeof Y=="function"||typeof n.getSnapshotBeforeUpdate=="function",f=t.pendingProps!==f,U||typeof n.UNSAFE_componentWillReceiveProps!="function"&&typeof n.componentWillReceiveProps!="function"||(f||S!==o)&&Su(t,n,s,o),Oa=!1;var T=t.memoizedState;n.state=T,Hs(t,s,n,r),Bs(),S=t.memoizedState,f||T!==S||Oa?(typeof Y=="function"&&(ic(t,a,Y,s),S=t.memoizedState),(h=Oa||wu(t,a,h,s,T,S,o))?(U||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount()),typeof n.componentDidMount=="function"&&(t.flags|=4194308)):(typeof n.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=S),n.props=s,n.state=S,n.context=o,s=h):(typeof n.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{n=t.stateNode,Li(e,t),o=t.memoizedProps,U=bl(a,o),n.props=U,Y=t.pendingProps,T=n.context,S=a.contextType,h=Yl,typeof S=="object"&&S!==null&&(h=mt(S)),f=a.getDerivedStateFromProps,(S=typeof f=="function"||typeof n.getSnapshotBeforeUpdate=="function")||typeof n.UNSAFE_componentWillReceiveProps!="function"&&typeof n.componentWillReceiveProps!="function"||(o!==Y||T!==h)&&Su(t,n,s,h),Oa=!1,T=t.memoizedState,n.state=T,Hs(t,s,n,r),Bs();var E=t.memoizedState;o!==Y||T!==E||Oa||e!==null&&e.dependencies!==null&&Qr(e.dependencies)?(typeof f=="function"&&(ic(t,a,f,s),E=t.memoizedState),(U=Oa||wu(t,a,U,s,T,E,h)||e!==null&&e.dependencies!==null&&Qr(e.dependencies))?(S||typeof n.UNSAFE_componentWillUpdate!="function"&&typeof n.componentWillUpdate!="function"||(typeof n.componentWillUpdate=="function"&&n.componentWillUpdate(s,E,h),typeof n.UNSAFE_componentWillUpdate=="function"&&n.UNSAFE_componentWillUpdate(s,E,h)),typeof n.componentDidUpdate=="function"&&(t.flags|=4),typeof n.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof n.componentDidUpdate!="function"||o===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof n.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=E),n.props=s,n.state=E,n.context=h,s=U):(typeof n.componentDidUpdate!="function"||o===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof n.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),s=!1)}return n=s,cn(e,t),s=(t.flags&128)!==0,n||s?(n=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:n.render(),t.flags|=1,e!==null&&s?(t.child=Wl(t,e.child,null,r),t.child=Wl(t,null,a,r)):ot(e,t,a,r),t.memoizedState=n.state,e=t.child):e=pa(e,t,r),e}function Hu(e,t,a,s){return zs(),t.flags|=256,ot(e,t,a,s),t.child}var uc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fc(e){return{baseLanes:e,cachePool:To()}}function xc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=Vt),e}function Lu(e,t,a){var s=t.pendingProps,r=!1,n=(t.flags&128)!==0,o;if((o=n)||(o=e!==null&&e.memoizedState===null?!1:(lt.current&2)!==0),o&&(r=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ee){if(r?Ba(t):Ha(),Ee){var f=Ve,h;if(h=f){e:{for(h=f,f=ea;h.nodeType!==8;){if(!f){f=null;break e}if(h=Jt(h.nextSibling),h===null){f=null;break e}}f=h}f!==null?(t.memoizedState={dehydrated:f,treeContext:ul!==null?{id:fa,overflow:xa}:null,retryLane:536870912,hydrationErrors:null},h=At(18,null,null,0),h.stateNode=f,h.return=t,t.child=h,pt=t,Ve=null,h=!0):h=!1}h||gl(t)}if(f=t.memoizedState,f!==null&&(f=f.dehydrated,f!==null))return $c(f)?t.lanes=32:t.lanes=536870912,null;ya(t)}return f=s.children,s=s.fallback,r?(Ha(),r=t.mode,f=dn({mode:"hidden",children:f},r),s=ol(s,r,a,null),f.return=t,s.return=t,f.sibling=s,t.child=f,r=t.child,r.memoizedState=fc(a),r.childLanes=xc(e,o,a),t.memoizedState=uc,s):(Ba(t),gc(t,f))}if(h=e.memoizedState,h!==null&&(f=h.dehydrated,f!==null)){if(n)t.flags&256?(Ba(t),t.flags&=-257,t=mc(e,t,a)):t.memoizedState!==null?(Ha(),t.child=e.child,t.flags|=128,t=null):(Ha(),r=s.fallback,f=t.mode,s=dn({mode:"visible",children:s.children},f),r=ol(r,f,a,null),r.flags|=2,s.return=t,r.return=t,s.sibling=r,t.child=s,Wl(t,e.child,null,a),s=t.child,s.memoizedState=fc(a),s.childLanes=xc(e,o,a),t.memoizedState=uc,t=r);else if(Ba(t),$c(f)){if(o=f.nextSibling&&f.nextSibling.dataset,o)var S=o.dgst;o=S,s=Error(d(419)),s.stack="",s.digest=o,Rs({value:s,source:null,stack:null}),t=mc(e,t,a)}else if(st||Cs(e,t,a,!1),o=(a&e.childLanes)!==0,st||o){if(o=He,o!==null&&(s=a&-a,s=(s&42)!==0?1:ps(s),s=(s&(o.suspendedLanes|a))!==0?0:s,s!==0&&s!==h.retryLane))throw h.retryLane=s,Ll(e,s),Ct(o,e,s),Ru;f.data==="$?"||Dc(),t=mc(e,t,a)}else f.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=h.treeContext,Ve=Jt(f.nextSibling),pt=t,Ee=!0,xl=null,ea=!1,e!==null&&(Lt[Yt++]=fa,Lt[Yt++]=xa,Lt[Yt++]=ul,fa=e.id,xa=e.overflow,ul=t),t=gc(t,s.children),t.flags|=4096);return t}return r?(Ha(),r=s.fallback,f=t.mode,h=e.child,S=h.sibling,s=ua(h,{mode:"hidden",children:s.children}),s.subtreeFlags=h.subtreeFlags&65011712,S!==null?r=ua(S,r):(r=ol(r,f,a,null),r.flags|=2),r.return=t,s.return=t,s.sibling=r,t.child=s,s=r,r=t.child,f=e.child.memoizedState,f===null?f=fc(a):(h=f.cachePool,h!==null?(S=at._currentValue,h=h.parent!==S?{parent:S,pool:S}:h):h=To(),f={baseLanes:f.baseLanes|a,cachePool:h}),r.memoizedState=f,r.childLanes=xc(e,o,a),t.memoizedState=uc,s):(Ba(t),a=e.child,e=a.sibling,a=ua(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=a,t.memoizedState=null,a)}function gc(e,t){return t=dn({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function dn(e,t){return e=At(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function mc(e,t,a){return Wl(t,e.child,null,a),e=gc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Yu(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Di(e.return,t,a)}function hc(e,t,a,s,r){var n=e.memoizedState;n===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:r}:(n.isBackwards=t,n.rendering=null,n.renderingStartTime=0,n.last=s,n.tail=a,n.tailMode=r)}function Qu(e,t,a){var s=t.pendingProps,r=s.revealOrder,n=s.tail;if(ot(e,t,s.children,a),s=lt.current,(s&2)!==0)s=s&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yu(e,a,t);else if(e.tag===19)Yu(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(ke(lt,s),r){case"forwards":for(a=t.child,r=null;a!==null;)e=a.alternate,e!==null&&sn(e)===null&&(r=a),a=a.sibling;a=r,a===null?(r=t.child,t.child=null):(r=a.sibling,a.sibling=null),hc(t,!1,r,a,n);break;case"backwards":for(a=null,r=t.child,t.child=null;r!==null;){if(e=r.alternate,e!==null&&sn(e)===null){t.child=r;break}e=r.sibling,r.sibling=a,a=r,r=e}hc(t,!0,a,null,n);break;case"together":hc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function pa(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Xa|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Cs(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(d(153));if(t.child!==null){for(e=t.child,a=ua(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ua(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function yc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Qr(e)))}function gg(e,t,a){switch(t.tag){case 3:bt(t,t.stateNode.containerInfo),Da(t,at,e.memoizedState.cache),zs();break;case 27:case 5:W(t);break;case 4:bt(t,t.stateNode.containerInfo);break;case 10:Da(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Ba(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Lu(e,t,a):(Ba(t),e=pa(e,t,a),e!==null?e.sibling:null);Ba(t);break;case 19:var r=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(Cs(e,t,a,!1),s=(a&t.childLanes)!==0),r){if(s)return Qu(e,t,a);t.flags|=128}if(r=t.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),ke(lt,lt.current),s)break;return null;case 22:case 23:return t.lanes=0,Mu(e,t,a);case 24:Da(t,at,e.memoizedState.cache)}return pa(e,t,a)}function Vu(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)st=!0;else{if(!yc(e,a)&&(t.flags&128)===0)return st=!1,gg(e,t,a);st=(e.flags&131072)!==0}else st=!1,Ee&&(t.flags&1048576)!==0&&bo(t,Yr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,r=s._init;if(s=r(s._payload),t.type=s,typeof s=="function")Ti(s)?(e=bl(s,e),t.tag=1,t=Bu(null,t,s,e,a)):(t.tag=0,t=oc(null,t,s,e,a));else{if(s!=null){if(r=s.$$typeof,r===ue){t.tag=11,t=Cu(null,t,s,e,a);break e}else if(r===F){t.tag=14,t=Du(null,t,s,e,a);break e}}throw t=it(s)||s,Error(d(306,t,""))}}return t;case 0:return oc(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,r=bl(s,t.pendingProps),Bu(e,t,s,r,a);case 3:e:{if(bt(t,t.stateNode.containerInfo),e===null)throw Error(d(387));s=t.pendingProps;var n=t.memoizedState;r=n.element,Li(e,t),Hs(t,s,null,a);var o=t.memoizedState;if(s=o.cache,Da(t,at,s),s!==n.cache&&Oi(t,[at],a,!0),Bs(),s=o.element,n.isDehydrated)if(n={element:s,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=n,t.memoizedState=n,t.flags&256){t=Hu(e,t,s,a);break e}else if(s!==r){r=Bt(Error(d(424)),t),Rs(r),t=Hu(e,t,s,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ve=Jt(e.firstChild),pt=t,Ee=!0,xl=null,ea=!0,a=ju(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(zs(),s===r){t=pa(e,t,a);break e}ot(e,t,s,a)}t=t.child}return t;case 26:return cn(e,t),e===null?(a=K0(t.type,null,t.pendingProps,null))?t.memoizedState=a:Ee||(a=t.type,e=t.pendingProps,s=wn(We.current).createElement(a),s[D]=t,s[M]=e,ft(s,a,e),Ie(s),t.stateNode=s):t.memoizedState=K0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return W(t),e===null&&Ee&&(s=t.stateNode=X0(t.type,t.pendingProps,We.current),pt=t,ea=!0,r=Ve,Fa(t.type)?(Wc=r,Ve=Jt(s.firstChild)):Ve=r),ot(e,t,t.pendingProps.children,a),cn(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ee&&((r=s=Ve)&&(s=Qg(s,t.type,t.pendingProps,ea),s!==null?(t.stateNode=s,pt=t,Ve=Jt(s.firstChild),ea=!1,r=!0):r=!1),r||gl(t)),W(t),r=t.type,n=t.pendingProps,o=e!==null?e.memoizedProps:null,s=n.children,Kc(r,n)?s=null:o!==null&&Kc(r,o)&&(t.flags|=32),t.memoizedState!==null&&(r=Zi(e,t,ng,null,null,a),ir._currentValue=r),cn(e,t),ot(e,t,s,a),t.child;case 6:return e===null&&Ee&&((e=a=Ve)&&(a=Vg(a,t.pendingProps,ea),a!==null?(t.stateNode=a,pt=t,Ve=null,e=!0):e=!1),e||gl(t)),null;case 13:return Lu(e,t,a);case 4:return bt(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Wl(t,null,s,a):ot(e,t,s,a),t.child;case 11:return Cu(e,t,t.type,t.pendingProps,a);case 7:return ot(e,t,t.pendingProps,a),t.child;case 8:return ot(e,t,t.pendingProps.children,a),t.child;case 12:return ot(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Da(t,t.type,s.value),ot(e,t,s.children,a),t.child;case 9:return r=t.type._context,s=t.pendingProps.children,hl(t),r=mt(r),s=s(r),t.flags|=1,ot(e,t,s,a),t.child;case 14:return Du(e,t,t.type,t.pendingProps,a);case 15:return Ou(e,t,t.type,t.pendingProps,a);case 19:return Qu(e,t,a);case 31:return s=t.pendingProps,a=t.mode,s={mode:s.mode,children:s.children},e===null?(a=dn(s,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=ua(e.child,s),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return Mu(e,t,a);case 24:return hl(t),s=mt(at),e===null?(r=qi(),r===null&&(r=He,n=Mi(),r.pooledCache=n,n.refCount++,n!==null&&(r.pooledCacheLanes|=a),r=n),t.memoizedState={parent:s,cache:r},Hi(t),Da(t,at,r)):((e.lanes&a)!==0&&(Li(e,t),Hs(t,null,null,a),Bs()),r=e.memoizedState,n=t.memoizedState,r.parent!==s?(r={parent:s,cache:s},t.memoizedState=r,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=r),Da(t,at,s)):(s=n.cache,Da(t,at,s),s!==r.cache&&Oi(t,[at],a,!0))),ot(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(d(156,t.tag))}function ba(e){e.flags|=4}function Xu(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!P0(t)){if(t=Qt.current,t!==null&&((we&4194048)===we?ta!==null:(we&62914560)!==we&&(we&536870912)===0||t!==ta))throw Us=Bi,Ao;e.flags|=8192}}function on(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Nr():536870912,e.lanes|=t,ts|=t)}function Zs(e,t){if(!Ee)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Qe(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var r=e.child;r!==null;)a|=r.lanes|r.childLanes,s|=r.subtreeFlags&65011712,s|=r.flags&65011712,r.return=e,r=r.sibling;else for(r=e.child;r!==null;)a|=r.lanes|r.childLanes,s|=r.subtreeFlags,s|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function mg(e,t,a){var s=t.pendingProps;switch(zi(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(t),null;case 1:return Qe(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),ma(at),B(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(_s(t)?ba(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,No())),Qe(t),null;case 26:return a=t.memoizedState,e===null?(ba(t),a!==null?(Qe(t),Xu(t,a)):(Qe(t),t.flags&=-16777217)):a?a!==e.memoizedState?(ba(t),Qe(t),Xu(t,a)):(Qe(t),t.flags&=-16777217):(e.memoizedProps!==s&&ba(t),Qe(t),t.flags&=-16777217),null;case 27:de(t),a=We.current;var r=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ba(t);else{if(!s){if(t.stateNode===null)throw Error(d(166));return Qe(t),null}e=qe.current,_s(t)?vo(t):(e=X0(r,s,a),t.stateNode=e,ba(t))}return Qe(t),null;case 5:if(de(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&ba(t);else{if(!s){if(t.stateNode===null)throw Error(d(166));return Qe(t),null}if(e=qe.current,_s(t))vo(t);else{switch(r=wn(We.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=r.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?r.createElement("select",{is:s.is}):r.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?r.createElement(a,{is:s.is}):r.createElement(a)}}e[D]=t,e[M]=s;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(ft(e,a,s),a){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&ba(t)}}return Qe(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&ba(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(d(166));if(e=We.current,_s(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,r=pt,r!==null)switch(r.tag){case 27:case 5:s=r.memoizedProps}e[D]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||q0(e.nodeValue,a)),e||gl(t)}else e=wn(e).createTextNode(s),e[D]=t,t.stateNode=e}return Qe(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(r=_s(t),s!==null&&s.dehydrated!==null){if(e===null){if(!r)throw Error(d(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(d(317));r[D]=t}else zs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Qe(t),r=!1}else r=No(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return t.flags&256?(ya(t),t):(ya(t),null)}if(ya(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=s!==null,e=e!==null&&e.memoizedState!==null,a){s=t.child,r=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(r=s.alternate.memoizedState.cachePool.pool);var n=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==r&&(s.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),on(t,t.updateQueue),Qe(t),null;case 4:return B(),e===null&&Qc(t.stateNode.containerInfo),Qe(t),null;case 10:return ma(t.type),Qe(t),null;case 19:if(he(lt),r=t.memoizedState,r===null)return Qe(t),null;if(s=(t.flags&128)!==0,n=r.rendering,n===null)if(s)Zs(r,!1);else{if(Xe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(n=sn(e),n!==null){for(t.flags|=128,Zs(r,!1),e=n.updateQueue,t.updateQueue=e,on(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)po(a,e),a=a.sibling;return ke(lt,lt.current&1|2),t.child}e=e.sibling}r.tail!==null&&ge()>xn&&(t.flags|=128,s=!0,Zs(r,!1),t.lanes=4194304)}else{if(!s)if(e=sn(n),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,on(t,e),Zs(r,!0),r.tail===null&&r.tailMode==="hidden"&&!n.alternate&&!Ee)return Qe(t),null}else 2*ge()-r.renderingStartTime>xn&&a!==536870912&&(t.flags|=128,s=!0,Zs(r,!1),t.lanes=4194304);r.isBackwards?(n.sibling=t.child,t.child=n):(e=r.last,e!==null?e.sibling=n:t.child=n,r.last=n)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=ge(),t.sibling=null,e=lt.current,ke(lt,s?e&1|2:e&1),t):(Qe(t),null);case 22:case 23:return ya(t),Xi(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(Qe(t),t.subtreeFlags&6&&(t.flags|=8192)):Qe(t),a=t.updateQueue,a!==null&&on(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&he(yl),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),ma(at),Qe(t),null;case 25:return null;case 30:return null}throw Error(d(156,t.tag))}function hg(e,t){switch(zi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ma(at),B(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return de(t),null;case 13:if(ya(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(d(340));zs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return he(lt),null;case 4:return B(),null;case 10:return ma(t.type),null;case 22:case 23:return ya(t),Xi(),e!==null&&he(yl),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return ma(at),null;case 25:return null;default:return null}}function Gu(e,t){switch(zi(t),t.tag){case 3:ma(at),B();break;case 26:case 27:case 5:de(t);break;case 4:B();break;case 13:ya(t);break;case 19:he(lt);break;case 10:ma(t.type);break;case 22:case 23:ya(t),Xi(),e!==null&&he(yl);break;case 24:ma(at)}}function Ks(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var r=s.next;a=r;do{if((a.tag&e)===e){s=void 0;var n=a.create,o=a.inst;s=n(),o.destroy=s}a=a.next}while(a!==r)}}catch(f){Ue(t,t.return,f)}}function La(e,t,a){try{var s=t.updateQueue,r=s!==null?s.lastEffect:null;if(r!==null){var n=r.next;s=n;do{if((s.tag&e)===e){var o=s.inst,f=o.destroy;if(f!==void 0){o.destroy=void 0,r=t;var h=a,S=f;try{S()}catch(U){Ue(r,h,U)}}}s=s.next}while(s!==n)}}catch(U){Ue(t,t.return,U)}}function Zu(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Do(t,a)}catch(s){Ue(e,e.return,s)}}}function Ku(e,t,a){a.props=bl(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Ue(e,t,s)}}function Fs(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(r){Ue(e,t,r)}}function aa(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(r){Ue(e,t,r)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(r){Ue(e,t,r)}else a.current=null}function Fu(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(r){Ue(e,e.return,r)}}function pc(e,t,a){try{var s=e.stateNode;qg(s,e.type,a,t),s[M]=t}catch(r){Ue(e,e.return,r)}}function Ju(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fa(e.type)||e.tag===4}function bc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ju(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fa(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function vc(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Nn));else if(s!==4&&(s===27&&Fa(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(vc(e,t,a),e=e.sibling;e!==null;)vc(e,t,a),e=e.sibling}function un(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Fa(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(un(e,t,a),e=e.sibling;e!==null;)un(e,t,a),e=e.sibling}function $u(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ft(t,s,a),t[D]=e,t[M]=a}catch(n){Ue(e,e.return,n)}}var va=!1,Je=!1,jc=!1,Wu=typeof WeakSet=="function"?WeakSet:Set,rt=null;function yg(e,t){if(e=e.containerInfo,Gc=_n,e=io(e),bi(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var r=s.anchorOffset,n=s.focusNode;s=s.focusOffset;try{a.nodeType,n.nodeType}catch{a=null;break e}var o=0,f=-1,h=-1,S=0,U=0,Y=e,T=null;t:for(;;){for(var E;Y!==a||r!==0&&Y.nodeType!==3||(f=o+r),Y!==n||s!==0&&Y.nodeType!==3||(h=o+s),Y.nodeType===3&&(o+=Y.nodeValue.length),(E=Y.firstChild)!==null;)T=Y,Y=E;for(;;){if(Y===e)break t;if(T===a&&++S===r&&(f=o),T===n&&++U===s&&(h=o),(E=Y.nextSibling)!==null)break;Y=T,T=Y.parentNode}Y=E}a=f===-1||h===-1?null:{start:f,end:h}}else a=null}a=a||{start:0,end:0}}else a=null;for(Zc={focusedElem:e,selectionRange:a},_n=!1,rt=t;rt!==null;)if(t=rt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,rt=e;else for(;rt!==null;){switch(t=rt,n=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&n!==null){e=void 0,a=t,r=n.memoizedProps,n=n.memoizedState,s=a.stateNode;try{var ie=bl(a.type,r,a.elementType===a.type);e=s.getSnapshotBeforeUpdate(ie,n),s.__reactInternalSnapshotBeforeUpdate=e}catch(se){Ue(a,a.return,se)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Jc(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Jc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(d(163))}if(e=t.sibling,e!==null){e.return=t.return,rt=e;break}rt=t.return}}function Pu(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:Ya(e,a),s&4&&Ks(5,a);break;case 1:if(Ya(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(o){Ue(a,a.return,o)}else{var r=bl(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){Ue(a,a.return,o)}}s&64&&Zu(a),s&512&&Fs(a,a.return);break;case 3:if(Ya(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Do(e,t)}catch(o){Ue(a,a.return,o)}}break;case 27:t===null&&s&4&&$u(a);case 26:case 5:Ya(e,a),t===null&&s&4&&Fu(a),s&512&&Fs(a,a.return);break;case 12:Ya(e,a);break;case 13:Ya(e,a),s&4&&t0(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Tg.bind(null,a),Xg(e,a))));break;case 22:if(s=a.memoizedState!==null||va,!s){t=t!==null&&t.memoizedState!==null||Je,r=va;var n=Je;va=s,(Je=t)&&!n?Qa(e,a,(a.subtreeFlags&8772)!==0):Ya(e,a),va=r,Je=n}break;case 30:break;default:Ya(e,a)}}function Iu(e){var t=e.alternate;t!==null&&(e.alternate=null,Iu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Mt(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ye=null,Nt=!1;function ja(e,t,a){for(a=a.child;a!==null;)e0(e,t,a),a=a.sibling}function e0(e,t,a){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Pt,a)}catch{}switch(a.tag){case 26:Je||aa(a,t),ja(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Je||aa(a,t);var s=Ye,r=Nt;Fa(a.type)&&(Ye=a.stateNode,Nt=!1),ja(e,t,a),lr(a.stateNode),Ye=s,Nt=r;break;case 5:Je||aa(a,t);case 6:if(s=Ye,r=Nt,Ye=null,ja(e,t,a),Ye=s,Nt=r,Ye!==null)if(Nt)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(a.stateNode)}catch(n){Ue(a,t,n)}else try{Ye.removeChild(a.stateNode)}catch(n){Ue(a,t,n)}break;case 18:Ye!==null&&(Nt?(e=Ye,Q0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),ur(e)):Q0(Ye,a.stateNode));break;case 4:s=Ye,r=Nt,Ye=a.stateNode.containerInfo,Nt=!0,ja(e,t,a),Ye=s,Nt=r;break;case 0:case 11:case 14:case 15:Je||La(2,a,t),Je||La(4,a,t),ja(e,t,a);break;case 1:Je||(aa(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&Ku(a,t,s)),ja(e,t,a);break;case 21:ja(e,t,a);break;case 22:Je=(s=Je)||a.memoizedState!==null,ja(e,t,a),Je=s;break;default:ja(e,t,a)}}function t0(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ur(e)}catch(a){Ue(t,t.return,a)}}function pg(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Wu),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Wu),t;default:throw Error(d(435,e.tag))}}function Nc(e,t){var a=pg(e);t.forEach(function(s){var r=Ag.bind(null,e,s);a.has(s)||(a.add(s),s.then(r,r))})}function Et(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var r=a[s],n=e,o=t,f=o;e:for(;f!==null;){switch(f.tag){case 27:if(Fa(f.type)){Ye=f.stateNode,Nt=!1;break e}break;case 5:Ye=f.stateNode,Nt=!1;break e;case 3:case 4:Ye=f.stateNode.containerInfo,Nt=!0;break e}f=f.return}if(Ye===null)throw Error(d(160));e0(n,o,r),Ye=null,Nt=!1,n=r.alternate,n!==null&&(n.return=null),r.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)a0(t,e),t=t.sibling}var Ft=null;function a0(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Et(t,e),_t(e),s&4&&(La(3,e,e.return),Ks(3,e),La(5,e,e.return));break;case 1:Et(t,e),_t(e),s&512&&(Je||a===null||aa(a,a.return)),s&64&&va&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var r=Ft;if(Et(t,e),_t(e),s&512&&(Je||a===null||aa(a,a.return)),s&4){var n=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,r=r.ownerDocument||r;t:switch(s){case"title":n=r.getElementsByTagName("title")[0],(!n||n[Ke]||n[D]||n.namespaceURI==="http://www.w3.org/2000/svg"||n.hasAttribute("itemprop"))&&(n=r.createElement(s),r.head.insertBefore(n,r.querySelector("head > title"))),ft(n,s,a),n[D]=e,Ie(n),s=n;break e;case"link":var o=$0("link","href",r).get(s+(a.href||""));if(o){for(var f=0;f<o.length;f++)if(n=o[f],n.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&n.getAttribute("rel")===(a.rel==null?null:a.rel)&&n.getAttribute("title")===(a.title==null?null:a.title)&&n.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){o.splice(f,1);break t}}n=r.createElement(s),ft(n,s,a),r.head.appendChild(n);break;case"meta":if(o=$0("meta","content",r).get(s+(a.content||""))){for(f=0;f<o.length;f++)if(n=o[f],n.getAttribute("content")===(a.content==null?null:""+a.content)&&n.getAttribute("name")===(a.name==null?null:a.name)&&n.getAttribute("property")===(a.property==null?null:a.property)&&n.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&n.getAttribute("charset")===(a.charSet==null?null:a.charSet)){o.splice(f,1);break t}}n=r.createElement(s),ft(n,s,a),r.head.appendChild(n);break;default:throw Error(d(468,s))}n[D]=e,Ie(n),s=n}e.stateNode=s}else W0(r,e.type,e.stateNode);else e.stateNode=J0(r,s,e.memoizedProps);else n!==s?(n===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):n.count--,s===null?W0(r,e.type,e.stateNode):J0(r,s,e.memoizedProps)):s===null&&e.stateNode!==null&&pc(e,e.memoizedProps,a.memoizedProps)}break;case 27:Et(t,e),_t(e),s&512&&(Je||a===null||aa(a,a.return)),a!==null&&s&4&&pc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Et(t,e),_t(e),s&512&&(Je||a===null||aa(a,a.return)),e.flags&32){r=e.stateNode;try{Dl(r,"")}catch(E){Ue(e,e.return,E)}}s&4&&e.stateNode!=null&&(r=e.memoizedProps,pc(e,r,a!==null?a.memoizedProps:r)),s&1024&&(jc=!0);break;case 6:if(Et(t,e),_t(e),s&4){if(e.stateNode===null)throw Error(d(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(E){Ue(e,e.return,E)}}break;case 3:if(Tn=null,r=Ft,Ft=Sn(t.containerInfo),Et(t,e),Ft=r,_t(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{ur(t.containerInfo)}catch(E){Ue(e,e.return,E)}jc&&(jc=!1,l0(e));break;case 4:s=Ft,Ft=Sn(e.stateNode.containerInfo),Et(t,e),_t(e),Ft=s;break;case 12:Et(t,e),_t(e);break;case 13:Et(t,e),_t(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ec=ge()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Nc(e,s)));break;case 22:r=e.memoizedState!==null;var h=a!==null&&a.memoizedState!==null,S=va,U=Je;if(va=S||r,Je=U||h,Et(t,e),Je=U,va=S,_t(e),s&8192)e:for(t=e.stateNode,t._visibility=r?t._visibility&-2:t._visibility|1,r&&(a===null||h||va||Je||vl(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){h=a=t;try{if(n=h.stateNode,r)o=n.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{f=h.stateNode;var Y=h.memoizedProps.style,T=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;f.style.display=T==null||typeof T=="boolean"?"":(""+T).trim()}}catch(E){Ue(h,h.return,E)}}}else if(t.tag===6){if(a===null){h=t;try{h.stateNode.nodeValue=r?"":h.memoizedProps}catch(E){Ue(h,h.return,E)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,Nc(e,a))));break;case 19:Et(t,e),_t(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Nc(e,s)));break;case 30:break;case 21:break;default:Et(t,e),_t(e)}}function _t(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(Ju(s)){a=s;break}s=s.return}if(a==null)throw Error(d(160));switch(a.tag){case 27:var r=a.stateNode,n=bc(e);un(e,n,r);break;case 5:var o=a.stateNode;a.flags&32&&(Dl(o,""),a.flags&=-33);var f=bc(e);un(e,f,o);break;case 3:case 4:var h=a.stateNode.containerInfo,S=bc(e);vc(e,S,h);break;default:throw Error(d(161))}}catch(U){Ue(e,e.return,U)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function l0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;l0(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Ya(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Pu(e,t.alternate,t),t=t.sibling}function vl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:La(4,t,t.return),vl(t);break;case 1:aa(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Ku(t,t.return,a),vl(t);break;case 27:lr(t.stateNode);case 26:case 5:aa(t,t.return),vl(t);break;case 22:t.memoizedState===null&&vl(t);break;case 30:vl(t);break;default:vl(t)}e=e.sibling}}function Qa(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,r=e,n=t,o=n.flags;switch(n.tag){case 0:case 11:case 15:Qa(r,n,a),Ks(4,n);break;case 1:if(Qa(r,n,a),s=n,r=s.stateNode,typeof r.componentDidMount=="function")try{r.componentDidMount()}catch(S){Ue(s,s.return,S)}if(s=n,r=s.updateQueue,r!==null){var f=s.stateNode;try{var h=r.shared.hiddenCallbacks;if(h!==null)for(r.shared.hiddenCallbacks=null,r=0;r<h.length;r++)Co(h[r],f)}catch(S){Ue(s,s.return,S)}}a&&o&64&&Zu(n),Fs(n,n.return);break;case 27:$u(n);case 26:case 5:Qa(r,n,a),a&&s===null&&o&4&&Fu(n),Fs(n,n.return);break;case 12:Qa(r,n,a);break;case 13:Qa(r,n,a),a&&o&4&&t0(r,n);break;case 22:n.memoizedState===null&&Qa(r,n,a),Fs(n,n.return);break;case 30:break;default:Qa(r,n,a)}t=t.sibling}}function wc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ds(a))}function Sc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ds(e))}function la(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)s0(e,t,a,s),t=t.sibling}function s0(e,t,a,s){var r=t.flags;switch(t.tag){case 0:case 11:case 15:la(e,t,a,s),r&2048&&Ks(9,t);break;case 1:la(e,t,a,s);break;case 3:la(e,t,a,s),r&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Ds(e)));break;case 12:if(r&2048){la(e,t,a,s),e=t.stateNode;try{var n=t.memoizedProps,o=n.id,f=n.onPostCommit;typeof f=="function"&&f(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(h){Ue(t,t.return,h)}}else la(e,t,a,s);break;case 13:la(e,t,a,s);break;case 23:break;case 22:n=t.stateNode,o=t.alternate,t.memoizedState!==null?n._visibility&2?la(e,t,a,s):Js(e,t):n._visibility&2?la(e,t,a,s):(n._visibility|=2,Pl(e,t,a,s,(t.subtreeFlags&10256)!==0)),r&2048&&wc(o,t);break;case 24:la(e,t,a,s),r&2048&&Sc(t.alternate,t);break;default:la(e,t,a,s)}}function Pl(e,t,a,s,r){for(r=r&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var n=e,o=t,f=a,h=s,S=o.flags;switch(o.tag){case 0:case 11:case 15:Pl(n,o,f,h,r),Ks(8,o);break;case 23:break;case 22:var U=o.stateNode;o.memoizedState!==null?U._visibility&2?Pl(n,o,f,h,r):Js(n,o):(U._visibility|=2,Pl(n,o,f,h,r)),r&&S&2048&&wc(o.alternate,o);break;case 24:Pl(n,o,f,h,r),r&&S&2048&&Sc(o.alternate,o);break;default:Pl(n,o,f,h,r)}t=t.sibling}}function Js(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,r=s.flags;switch(s.tag){case 22:Js(a,s),r&2048&&wc(s.alternate,s);break;case 24:Js(a,s),r&2048&&Sc(s.alternate,s);break;default:Js(a,s)}t=t.sibling}}var $s=8192;function Il(e){if(e.subtreeFlags&$s)for(e=e.child;e!==null;)r0(e),e=e.sibling}function r0(e){switch(e.tag){case 26:Il(e),e.flags&$s&&e.memoizedState!==null&&lm(Ft,e.memoizedState,e.memoizedProps);break;case 5:Il(e);break;case 3:case 4:var t=Ft;Ft=Sn(e.stateNode.containerInfo),Il(e),Ft=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=$s,$s=16777216,Il(e),$s=t):Il(e));break;default:Il(e)}}function n0(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ws(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];rt=s,c0(s,e)}n0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)i0(e),e=e.sibling}function i0(e){switch(e.tag){case 0:case 11:case 15:Ws(e),e.flags&2048&&La(9,e,e.return);break;case 3:Ws(e);break;case 12:Ws(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,fn(e)):Ws(e);break;default:Ws(e)}}function fn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];rt=s,c0(s,e)}n0(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:La(8,t,t.return),fn(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,fn(t));break;default:fn(t)}e=e.sibling}}function c0(e,t){for(;rt!==null;){var a=rt;switch(a.tag){case 0:case 11:case 15:La(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ds(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,rt=s;else e:for(a=e;rt!==null;){s=rt;var r=s.sibling,n=s.return;if(Iu(s),s===a){rt=null;break e}if(r!==null){r.return=n,rt=r;break e}rt=n}}}var bg={getCacheForType:function(e){var t=mt(at),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},vg=typeof WeakMap=="function"?WeakMap:Map,ze=0,He=null,be=null,we=0,Re=0,zt=null,Va=!1,es=!1,kc=!1,Na=0,Xe=0,Xa=0,jl=0,Tc=0,Vt=0,ts=0,Ps=null,wt=null,Ac=!1,Ec=0,xn=1/0,gn=null,Ga=null,ut=0,Za=null,as=null,ls=0,_c=0,zc=null,d0=null,Is=0,Rc=null;function Rt(){if((ze&2)!==0&&we!==0)return we&-we;if(O.T!==null){var e=Xl;return e!==0?e:Bc()}return za()}function o0(){Vt===0&&(Vt=(we&536870912)===0||Ee?jr():536870912);var e=Qt.current;return e!==null&&(e.flags|=32),Vt}function Ct(e,t,a){(e===He&&(Re===2||Re===9)||e.cancelPendingCommit!==null)&&(ss(e,0),Ka(e,we,Vt,!1)),Pe(e,a),((ze&2)===0||e!==He)&&(e===He&&((ze&2)===0&&(jl|=a),Xe===4&&Ka(e,we,Vt,!1)),sa(e))}function u0(e,t,a){if((ze&6)!==0)throw Error(d(327));var s=!a&&(t&124)===0&&(t&e.expiredLanes)===0||_a(e,t),r=s?wg(e,t):Oc(e,t,!0),n=s;do{if(r===0){es&&!s&&Ka(e,t,0,!1);break}else{if(a=e.current.alternate,n&&!jg(a)){r=Oc(e,t,!1),n=!1;continue}if(r===2){if(n=t,e.errorRecoveryDisabledLanes&n)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var f=e;r=Ps;var h=f.current.memoizedState.isDehydrated;if(h&&(ss(f,o).flags|=256),o=Oc(f,o,!1),o!==2){if(kc&&!h){f.errorRecoveryDisabledLanes|=n,jl|=n,r=4;break e}n=wt,wt=r,n!==null&&(wt===null?wt=n:wt.push.apply(wt,n))}r=o}if(n=!1,r!==2)continue}}if(r===1){ss(e,0),Ka(e,t,0,!0);break}e:{switch(s=e,n=r,n){case 0:case 1:throw Error(d(345));case 4:if((t&4194048)!==t)break;case 6:Ka(s,t,Vt,!Va);break e;case 2:wt=null;break;case 3:case 5:break;default:throw Error(d(329))}if((t&62914560)===t&&(r=Ec+300-ge(),10<r)){if(Ka(s,t,Vt,!Va),El(s,0,!0)!==0)break e;s.timeoutHandle=L0(f0.bind(null,s,a,wt,gn,Ac,t,Vt,jl,ts,Va,n,2,-0,0),r);break e}f0(s,a,wt,gn,Ac,t,Vt,jl,ts,Va,n,0,-0,0)}}break}while(!0);sa(e)}function f0(e,t,a,s,r,n,o,f,h,S,U,Y,T,E){if(e.timeoutHandle=-1,Y=t.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(nr={stylesheets:null,count:0,unsuspend:am},r0(t),Y=sm(),Y!==null)){e.cancelPendingCommit=Y(b0.bind(null,e,t,n,a,s,r,o,f,h,U,1,T,E)),Ka(e,n,o,!S);return}b0(e,t,n,a,s,r,o,f,h)}function jg(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var r=a[s],n=r.getSnapshot;r=r.value;try{if(!Tt(n(),r))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ka(e,t,a,s){t&=~Tc,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var r=t;0<r;){var n=31-yt(r),o=1<<n;s[n]=-1,r&=~o}a!==0&&wr(e,a,t)}function mn(){return(ze&6)===0?(er(0),!1):!0}function Cc(){if(be!==null){if(Re===0)var e=be.return;else e=be,ga=ml=null,Ji(e),$l=null,Xs=0,e=be;for(;e!==null;)Gu(e.alternate,e),e=e.return;be=null}}function ss(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Hg(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Cc(),He=e,be=a=ua(e.current,null),we=t,Re=0,zt=null,Va=!1,es=_a(e,t),kc=!1,ts=Vt=Tc=jl=Xa=Xe=0,wt=Ps=null,Ac=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var r=31-yt(s),n=1<<r;t|=e[r],s&=~n}return Na=t,Ur(),a}function x0(e,t){me=null,O.H=tn,t===Ms||t===Gr?(t=zo(),Re=3):t===Ao?(t=zo(),Re=4):Re=t===Ru?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,zt=t,be===null&&(Xe=1,nn(e,Bt(t,e.current)))}function g0(){var e=O.H;return O.H=tn,e===null?tn:e}function m0(){var e=O.A;return O.A=bg,e}function Dc(){Xe=4,Va||(we&4194048)!==we&&Qt.current!==null||(es=!0),(Xa&134217727)===0&&(jl&134217727)===0||He===null||Ka(He,we,Vt,!1)}function Oc(e,t,a){var s=ze;ze|=2;var r=g0(),n=m0();(He!==e||we!==t)&&(gn=null,ss(e,t)),t=!1;var o=Xe;e:do try{if(Re!==0&&be!==null){var f=be,h=zt;switch(Re){case 8:Cc(),o=6;break e;case 3:case 2:case 9:case 6:Qt.current===null&&(t=!0);var S=Re;if(Re=0,zt=null,rs(e,f,h,S),a&&es){o=0;break e}break;default:S=Re,Re=0,zt=null,rs(e,f,h,S)}}Ng(),o=Xe;break}catch(U){x0(e,U)}while(!0);return t&&e.shellSuspendCounter++,ga=ml=null,ze=s,O.H=r,O.A=n,be===null&&(He=null,we=0,Ur()),o}function Ng(){for(;be!==null;)h0(be)}function wg(e,t){var a=ze;ze|=2;var s=g0(),r=m0();He!==e||we!==t?(gn=null,xn=ge()+500,ss(e,t)):es=_a(e,t);e:do try{if(Re!==0&&be!==null){t=be;var n=zt;t:switch(Re){case 1:Re=0,zt=null,rs(e,t,n,1);break;case 2:case 9:if(Eo(n)){Re=0,zt=null,y0(t);break}t=function(){Re!==2&&Re!==9||He!==e||(Re=7),sa(e)},n.then(t,t);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:Eo(n)?(Re=0,zt=null,y0(t)):(Re=0,zt=null,rs(e,t,n,7));break;case 5:var o=null;switch(be.tag){case 26:o=be.memoizedState;case 5:case 27:var f=be;if(!o||P0(o)){Re=0,zt=null;var h=f.sibling;if(h!==null)be=h;else{var S=f.return;S!==null?(be=S,hn(S)):be=null}break t}}Re=0,zt=null,rs(e,t,n,5);break;case 6:Re=0,zt=null,rs(e,t,n,6);break;case 8:Cc(),Xe=6;break e;default:throw Error(d(462))}}Sg();break}catch(U){x0(e,U)}while(!0);return ga=ml=null,O.H=s,O.A=r,ze=a,be!==null?0:(He=null,we=0,Ur(),Xe)}function Sg(){for(;be!==null&&!ia();)h0(be)}function h0(e){var t=Vu(e.alternate,e,Na);e.memoizedProps=e.pendingProps,t===null?hn(e):be=t}function y0(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=qu(a,t,t.pendingProps,t.type,void 0,we);break;case 11:t=qu(a,t,t.pendingProps,t.type.render,t.ref,we);break;case 5:Ji(t);default:Gu(a,t),t=be=po(t,Na),t=Vu(a,t,Na)}e.memoizedProps=e.pendingProps,t===null?hn(e):be=t}function rs(e,t,a,s){ga=ml=null,Ji(t),$l=null,Xs=0;var r=t.return;try{if(xg(e,r,t,a,we)){Xe=1,nn(e,Bt(a,e.current)),be=null;return}}catch(n){if(r!==null)throw be=r,n;Xe=1,nn(e,Bt(a,e.current)),be=null;return}t.flags&32768?(Ee||s===1?e=!0:es||(we&536870912)!==0?e=!1:(Va=e=!0,(s===2||s===9||s===3||s===6)&&(s=Qt.current,s!==null&&s.tag===13&&(s.flags|=16384))),p0(t,e)):hn(t)}function hn(e){var t=e;do{if((t.flags&32768)!==0){p0(t,Va);return}e=t.return;var a=mg(t.alternate,t,Na);if(a!==null){be=a;return}if(t=t.sibling,t!==null){be=t;return}be=t=e}while(t!==null);Xe===0&&(Xe=5)}function p0(e,t){do{var a=hg(e.alternate,e);if(a!==null){a.flags&=32767,be=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){be=e;return}be=e=a}while(e!==null);Xe=6,be=null}function b0(e,t,a,s,r,n,o,f,h){e.cancelPendingCommit=null;do yn();while(ut!==0);if((ze&6)!==0)throw Error(d(327));if(t!==null){if(t===e.current)throw Error(d(177));if(n=t.lanes|t.childLanes,n|=Si,ei(e,a,n,o,f,h),e===He&&(be=He=null,we=0),as=t,Za=e,ls=a,_c=n,zc=r,d0=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Eg(Gt,function(){return S0(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=O.T,O.T=null,r=K.p,K.p=2,o=ze,ze|=4;try{yg(e,t,a)}finally{ze=o,K.p=r,O.T=s}}ut=1,v0(),j0(),N0()}}function v0(){if(ut===1){ut=0;var e=Za,t=as,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=O.T,O.T=null;var s=K.p;K.p=2;var r=ze;ze|=4;try{a0(t,e);var n=Zc,o=io(e.containerInfo),f=n.focusedElem,h=n.selectionRange;if(o!==f&&f&&f.ownerDocument&&no(f.ownerDocument.documentElement,f)){if(h!==null&&bi(f)){var S=h.start,U=h.end;if(U===void 0&&(U=S),"selectionStart"in f)f.selectionStart=S,f.selectionEnd=Math.min(U,f.value.length);else{var Y=f.ownerDocument||document,T=Y&&Y.defaultView||window;if(T.getSelection){var E=T.getSelection(),ie=f.textContent.length,se=Math.min(h.start,ie),Oe=h.end===void 0?se:Math.min(h.end,ie);!E.extend&&se>Oe&&(o=Oe,Oe=se,se=o);var v=ro(f,se),p=ro(f,Oe);if(v&&p&&(E.rangeCount!==1||E.anchorNode!==v.node||E.anchorOffset!==v.offset||E.focusNode!==p.node||E.focusOffset!==p.offset)){var N=Y.createRange();N.setStart(v.node,v.offset),E.removeAllRanges(),se>Oe?(E.addRange(N),E.extend(p.node,p.offset)):(N.setEnd(p.node,p.offset),E.addRange(N))}}}}for(Y=[],E=f;E=E.parentNode;)E.nodeType===1&&Y.push({element:E,left:E.scrollLeft,top:E.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<Y.length;f++){var L=Y[f];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}_n=!!Gc,Zc=Gc=null}finally{ze=r,K.p=s,O.T=a}}e.current=t,ut=2}}function j0(){if(ut===2){ut=0;var e=Za,t=as,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=O.T,O.T=null;var s=K.p;K.p=2;var r=ze;ze|=4;try{Pu(e,t.alternate,t)}finally{ze=r,K.p=s,O.T=a}}ut=3}}function N0(){if(ut===4||ut===3){ut=0,gs();var e=Za,t=as,a=ls,s=d0;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?ut=5:(ut=0,as=Za=null,w0(e,e.pendingLanes));var r=e.pendingLanes;if(r===0&&(Ga=null),bs(a),t=t.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Pt,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=O.T,r=K.p,K.p=2,O.T=null;try{for(var n=e.onRecoverableError,o=0;o<s.length;o++){var f=s[o];n(f.value,{componentStack:f.stack})}}finally{O.T=t,K.p=r}}(ls&3)!==0&&yn(),sa(e),r=e.pendingLanes,(a&4194090)!==0&&(r&42)!==0?e===Rc?Is++:(Is=0,Rc=e):Is=0,er(0)}}function w0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Ds(t)))}function yn(e){return v0(),j0(),N0(),S0()}function S0(){if(ut!==5)return!1;var e=Za,t=_c;_c=0;var a=bs(ls),s=O.T,r=K.p;try{K.p=32>a?32:a,O.T=null,a=zc,zc=null;var n=Za,o=ls;if(ut=0,as=Za=null,ls=0,(ze&6)!==0)throw Error(d(331));var f=ze;if(ze|=4,i0(n.current),s0(n,n.current,o,a),ze=f,er(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Pt,n)}catch{}return!0}finally{K.p=r,O.T=s,w0(e,t)}}function k0(e,t,a){t=Bt(a,t),t=dc(e.stateNode,t,2),e=Ua(e,t,2),e!==null&&(Pe(e,2),sa(e))}function Ue(e,t,a){if(e.tag===3)k0(e,e,a);else for(;t!==null;){if(t.tag===3){k0(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ga===null||!Ga.has(s))){e=Bt(a,e),a=_u(2),s=Ua(t,a,2),s!==null&&(zu(a,s,t,e),Pe(s,2),sa(s));break}}t=t.return}}function Mc(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new vg;var r=new Set;s.set(t,r)}else r=s.get(t),r===void 0&&(r=new Set,s.set(t,r));r.has(a)||(kc=!0,r.add(a),e=kg.bind(null,e,t,a),t.then(e,e))}function kg(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,He===e&&(we&a)===a&&(Xe===4||Xe===3&&(we&62914560)===we&&300>ge()-Ec?(ze&2)===0&&ss(e,0):Tc|=a,ts===we&&(ts=0)),sa(e)}function T0(e,t){t===0&&(t=Nr()),e=Ll(e,t),e!==null&&(Pe(e,t),sa(e))}function Tg(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),T0(e,a)}function Ag(e,t){var a=0;switch(e.tag){case 13:var s=e.stateNode,r=e.memoizedState;r!==null&&(a=r.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(d(314))}s!==null&&s.delete(t),T0(e,a)}function Eg(e,t){return ct(e,t)}var pn=null,ns=null,Uc=!1,bn=!1,qc=!1,Nl=0;function sa(e){e!==ns&&e.next===null&&(ns===null?pn=ns=e:ns=ns.next=e),bn=!0,Uc||(Uc=!0,zg())}function er(e,t){if(!qc&&bn){qc=!0;do for(var a=!1,s=pn;s!==null;){if(e!==0){var r=s.pendingLanes;if(r===0)var n=0;else{var o=s.suspendedLanes,f=s.pingedLanes;n=(1<<31-yt(42|e)+1)-1,n&=r&~(o&~f),n=n&201326741?n&201326741|1:n?n|2:0}n!==0&&(a=!0,z0(s,n))}else n=we,n=El(s,s===He?n:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(n&3)===0||_a(s,n)||(a=!0,z0(s,n));s=s.next}while(a);qc=!1}}function _g(){A0()}function A0(){bn=Uc=!1;var e=0;Nl!==0&&(Bg()&&(e=Nl),Nl=0);for(var t=ge(),a=null,s=pn;s!==null;){var r=s.next,n=E0(s,t);n===0?(s.next=null,a===null?pn=r:a.next=r,r===null&&(ns=a)):(a=s,(e!==0||(n&3)!==0)&&(bn=!0)),s=r}er(e)}function E0(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,r=e.expirationTimes,n=e.pendingLanes&-62914561;0<n;){var o=31-yt(n),f=1<<o,h=r[o];h===-1?((f&a)===0||(f&s)!==0)&&(r[o]=_l(f,t)):h<=t&&(e.expiredLanes|=f),n&=~f}if(t=He,a=we,a=El(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(Re===2||Re===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Wt(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||_a(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&Wt(s),bs(a)){case 2:case 8:a=vr;break;case 32:a=Gt;break;case 268435456:a=rl;break;default:a=Gt}return s=_0.bind(null,e),a=ct(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&Wt(s),e.callbackPriority=2,e.callbackNode=null,2}function _0(e,t){if(ut!==0&&ut!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(yn()&&e.callbackNode!==a)return null;var s=we;return s=El(e,e===He?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(u0(e,s,t),E0(e,ge()),e.callbackNode!=null&&e.callbackNode===a?_0.bind(null,e):null)}function z0(e,t){if(yn())return null;u0(e,t,!0)}function zg(){Lg(function(){(ze&6)!==0?ct(sl,_g):A0()})}function Bc(){return Nl===0&&(Nl=jr()),Nl}function R0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:_r(""+e)}function C0(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Rg(e,t,a,s,r){if(t==="submit"&&a&&a.stateNode===r){var n=R0((r[M]||null).action),o=s.submitter;o&&(t=(t=o[M]||null)?R0(t.formAction):o.getAttribute("formAction"),t!==null&&(n=t,o=null));var f=new Dr("action","action",null,s,r);e.push({event:f,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Nl!==0){var h=o?C0(r,o):new FormData(r);sc(a,{pending:!0,data:h,method:r.method,action:n},null,h)}}else typeof n=="function"&&(f.preventDefault(),h=o?C0(r,o):new FormData(r),sc(a,{pending:!0,data:h,method:r.method,action:n},n,h))},currentTarget:r}]})}}for(var Hc=0;Hc<wi.length;Hc++){var Lc=wi[Hc],Cg=Lc.toLowerCase(),Dg=Lc[0].toUpperCase()+Lc.slice(1);Kt(Cg,"on"+Dg)}Kt(uo,"onAnimationEnd"),Kt(fo,"onAnimationIteration"),Kt(xo,"onAnimationStart"),Kt("dblclick","onDoubleClick"),Kt("focusin","onFocus"),Kt("focusout","onBlur"),Kt($x,"onTransitionRun"),Kt(Wx,"onTransitionStart"),Kt(Px,"onTransitionCancel"),Kt(go,"onTransitionEnd"),zl("onMouseEnter",["mouseout","mouseover"]),zl("onMouseLeave",["mouseout","mouseover"]),zl("onPointerEnter",["pointerout","pointerover"]),zl("onPointerLeave",["pointerout","pointerover"]),nl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),nl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),nl("onBeforeInput",["compositionend","keypress","textInput","paste"]),nl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),nl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),nl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Og=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tr));function D0(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],r=s.event;s=s.listeners;e:{var n=void 0;if(t)for(var o=s.length-1;0<=o;o--){var f=s[o],h=f.instance,S=f.currentTarget;if(f=f.listener,h!==n&&r.isPropagationStopped())break e;n=f,r.currentTarget=S;try{n(r)}catch(U){rn(U)}r.currentTarget=null,n=h}else for(o=0;o<s.length;o++){if(f=s[o],h=f.instance,S=f.currentTarget,f=f.listener,h!==n&&r.isPropagationStopped())break e;n=f,r.currentTarget=S;try{n(r)}catch(U){rn(U)}r.currentTarget=null,n=h}}}}function ve(e,t){var a=t[G];a===void 0&&(a=t[G]=new Set);var s=e+"__bubble";a.has(s)||(O0(t,e,2,!1),a.add(s))}function Yc(e,t,a){var s=0;t&&(s|=4),O0(a,e,s,t)}var vn="_reactListening"+Math.random().toString(36).slice(2);function Qc(e){if(!e[vn]){e[vn]=!0,Td.forEach(function(a){a!=="selectionchange"&&(Og.has(a)||Yc(a,!1,e),Yc(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[vn]||(t[vn]=!0,Yc("selectionchange",!1,t))}}function O0(e,t,a,s){switch(sf(t)){case 2:var r=im;break;case 8:r=cm;break;default:r=ad}a=r.bind(null,t,a,e),r=void 0,!oi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(r=!0),s?r!==void 0?e.addEventListener(t,a,{capture:!0,passive:r}):e.addEventListener(t,a,!0):r!==void 0?e.addEventListener(t,a,{passive:r}):e.addEventListener(t,a,!1)}function Vc(e,t,a,s,r){var n=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var f=s.stateNode.containerInfo;if(f===r)break;if(o===4)for(o=s.return;o!==null;){var h=o.tag;if((h===3||h===4)&&o.stateNode.containerInfo===r)return;o=o.return}for(;f!==null;){if(o=dt(f),o===null)return;if(h=o.tag,h===5||h===6||h===26||h===27){s=n=o;continue e}f=f.parentNode}}s=s.return}Ld(function(){var S=n,U=ci(a),Y=[];e:{var T=mo.get(e);if(T!==void 0){var E=Dr,ie=e;switch(e){case"keypress":if(Rr(a)===0)break e;case"keydown":case"keyup":E=Ex;break;case"focusin":ie="focus",E=gi;break;case"focusout":ie="blur",E=gi;break;case"beforeblur":case"afterblur":E=gi;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=Vd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=hx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=Rx;break;case uo:case fo:case xo:E=bx;break;case go:E=Dx;break;case"scroll":case"scrollend":E=gx;break;case"wheel":E=Mx;break;case"copy":case"cut":case"paste":E=jx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Gd;break;case"toggle":case"beforetoggle":E=qx}var se=(t&4)!==0,Oe=!se&&(e==="scroll"||e==="scrollend"),v=se?T!==null?T+"Capture":null:T;se=[];for(var p=S,N;p!==null;){var L=p;if(N=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||N===null||v===null||(L=vs(p,v),L!=null&&se.push(ar(p,L,N))),Oe)break;p=p.return}0<se.length&&(T=new E(T,ie,null,a,U),Y.push({event:T,listeners:se}))}}if((t&7)===0){e:{if(T=e==="mouseover"||e==="pointerover",E=e==="mouseout"||e==="pointerout",T&&a!==ii&&(ie=a.relatedTarget||a.fromElement)&&(dt(ie)||ie[X]))break e;if((E||T)&&(T=U.window===U?U:(T=U.ownerDocument)?T.defaultView||T.parentWindow:window,E?(ie=a.relatedTarget||a.toElement,E=S,ie=ie?dt(ie):null,ie!==null&&(Oe=m(ie),se=ie.tag,ie!==Oe||se!==5&&se!==27&&se!==6)&&(ie=null)):(E=null,ie=S),E!==ie)){if(se=Vd,L="onMouseLeave",v="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(se=Gd,L="onPointerLeave",v="onPointerEnter",p="pointer"),Oe=E==null?T:ca(E),N=ie==null?T:ca(ie),T=new se(L,p+"leave",E,a,U),T.target=Oe,T.relatedTarget=N,L=null,dt(U)===S&&(se=new se(v,p+"enter",ie,a,U),se.target=N,se.relatedTarget=Oe,L=se),Oe=L,E&&ie)t:{for(se=E,v=ie,p=0,N=se;N;N=is(N))p++;for(N=0,L=v;L;L=is(L))N++;for(;0<p-N;)se=is(se),p--;for(;0<N-p;)v=is(v),N--;for(;p--;){if(se===v||v!==null&&se===v.alternate)break t;se=is(se),v=is(v)}se=null}else se=null;E!==null&&M0(Y,T,E,se,!1),ie!==null&&Oe!==null&&M0(Y,Oe,ie,se,!0)}}e:{if(T=S?ca(S):window,E=T.nodeName&&T.nodeName.toLowerCase(),E==="select"||E==="input"&&T.type==="file")var P=Id;else if(Wd(T))if(eo)P=Kx;else{P=Gx;var ye=Xx}else E=T.nodeName,!E||E.toLowerCase()!=="input"||T.type!=="checkbox"&&T.type!=="radio"?S&&ni(S.elementType)&&(P=Id):P=Zx;if(P&&(P=P(e,S))){Pd(Y,P,a,U);break e}ye&&ye(e,T,S),e==="focusout"&&S&&T.type==="number"&&S.memoizedProps.value!=null&&ri(T,"number",T.value)}switch(ye=S?ca(S):window,e){case"focusin":(Wd(ye)||ye.contentEditable==="true")&&(ql=ye,vi=S,Es=null);break;case"focusout":Es=vi=ql=null;break;case"mousedown":ji=!0;break;case"contextmenu":case"mouseup":case"dragend":ji=!1,co(Y,a,U);break;case"selectionchange":if(Jx)break;case"keydown":case"keyup":co(Y,a,U)}var I;if(hi)e:{switch(e){case"compositionstart":var re="onCompositionStart";break e;case"compositionend":re="onCompositionEnd";break e;case"compositionupdate":re="onCompositionUpdate";break e}re=void 0}else Ul?Jd(e,a)&&(re="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(re="onCompositionStart");re&&(Zd&&a.locale!=="ko"&&(Ul||re!=="onCompositionStart"?re==="onCompositionEnd"&&Ul&&(I=Yd()):(Ca=U,ui="value"in Ca?Ca.value:Ca.textContent,Ul=!0)),ye=jn(S,re),0<ye.length&&(re=new Xd(re,e,null,a,U),Y.push({event:re,listeners:ye}),I?re.data=I:(I=$d(a),I!==null&&(re.data=I)))),(I=Hx?Lx(e,a):Yx(e,a))&&(re=jn(S,"onBeforeInput"),0<re.length&&(ye=new Xd("onBeforeInput","beforeinput",null,a,U),Y.push({event:ye,listeners:re}),ye.data=I)),Rg(Y,e,S,a,U)}D0(Y,t)})}function ar(e,t,a){return{instance:e,listener:t,currentTarget:a}}function jn(e,t){for(var a=t+"Capture",s=[];e!==null;){var r=e,n=r.stateNode;if(r=r.tag,r!==5&&r!==26&&r!==27||n===null||(r=vs(e,a),r!=null&&s.unshift(ar(e,r,n)),r=vs(e,t),r!=null&&s.push(ar(e,r,n))),e.tag===3)return s;e=e.return}return[]}function is(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function M0(e,t,a,s,r){for(var n=t._reactName,o=[];a!==null&&a!==s;){var f=a,h=f.alternate,S=f.stateNode;if(f=f.tag,h!==null&&h===s)break;f!==5&&f!==26&&f!==27||S===null||(h=S,r?(S=vs(a,n),S!=null&&o.unshift(ar(a,S,h))):r||(S=vs(a,n),S!=null&&o.push(ar(a,S,h)))),a=a.return}o.length!==0&&e.push({event:t,listeners:o})}var Mg=/\r\n?/g,Ug=/\u0000|\uFFFD/g;function U0(e){return(typeof e=="string"?e:""+e).replace(Mg,`
`).replace(Ug,"")}function q0(e,t){return t=U0(t),U0(e)===t}function Nn(){}function De(e,t,a,s,r,n){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Dl(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Dl(e,""+s);break;case"className":Tr(e,"class",s);break;case"tabIndex":Tr(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Tr(e,a,s);break;case"style":Bd(e,s,n);break;case"data":if(t!=="object"){Tr(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=_r(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof n=="function"&&(a==="formAction"?(t!=="input"&&De(e,t,"name",r.name,r,null),De(e,t,"formEncType",r.formEncType,r,null),De(e,t,"formMethod",r.formMethod,r,null),De(e,t,"formTarget",r.formTarget,r,null)):(De(e,t,"encType",r.encType,r,null),De(e,t,"method",r.method,r,null),De(e,t,"target",r.target,r,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=_r(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=Nn);break;case"onScroll":s!=null&&ve("scroll",e);break;case"onScrollEnd":s!=null&&ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(d(61));if(a=s.__html,a!=null){if(r.children!=null)throw Error(d(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=_r(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":ve("beforetoggle",e),ve("toggle",e),kr(e,"popover",s);break;case"xlinkActuate":da(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":da(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":da(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":da(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":da(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":da(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":da(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":da(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":da(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":kr(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=fx.get(a)||a,kr(e,a,s))}}function Xc(e,t,a,s,r,n){switch(a){case"style":Bd(e,s,n);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(d(61));if(a=s.__html,a!=null){if(r.children!=null)throw Error(d(60));e.innerHTML=a}}break;case"children":typeof s=="string"?Dl(e,s):(typeof s=="number"||typeof s=="bigint")&&Dl(e,""+s);break;case"onScroll":s!=null&&ve("scroll",e);break;case"onScrollEnd":s!=null&&ve("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ad.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(r=a.endsWith("Capture"),t=a.slice(2,r?a.length-7:void 0),n=e[M]||null,n=n!=null?n[a]:null,typeof n=="function"&&e.removeEventListener(t,n,r),typeof s=="function")){typeof n!="function"&&n!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,r);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):kr(e,a,s)}}}function ft(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",e),ve("load",e);var s=!1,r=!1,n;for(n in a)if(a.hasOwnProperty(n)){var o=a[n];if(o!=null)switch(n){case"src":s=!0;break;case"srcSet":r=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:De(e,t,n,o,a,null)}}r&&De(e,t,"srcSet",a.srcSet,a,null),s&&De(e,t,"src",a.src,a,null);return;case"input":ve("invalid",e);var f=n=o=r=null,h=null,S=null;for(s in a)if(a.hasOwnProperty(s)){var U=a[s];if(U!=null)switch(s){case"name":r=U;break;case"type":o=U;break;case"checked":h=U;break;case"defaultChecked":S=U;break;case"value":n=U;break;case"defaultValue":f=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(d(137,t));break;default:De(e,t,s,U,a,null)}}Od(e,n,f,h,S,o,r,!1),Ar(e);return;case"select":ve("invalid",e),s=o=n=null;for(r in a)if(a.hasOwnProperty(r)&&(f=a[r],f!=null))switch(r){case"value":n=f;break;case"defaultValue":o=f;break;case"multiple":s=f;default:De(e,t,r,f,a,null)}t=n,a=o,e.multiple=!!s,t!=null?Cl(e,!!s,t,!1):a!=null&&Cl(e,!!s,a,!0);return;case"textarea":ve("invalid",e),n=r=s=null;for(o in a)if(a.hasOwnProperty(o)&&(f=a[o],f!=null))switch(o){case"value":s=f;break;case"defaultValue":r=f;break;case"children":n=f;break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(d(91));break;default:De(e,t,o,f,a,null)}Ud(e,s,r,n),Ar(e);return;case"option":for(h in a)if(a.hasOwnProperty(h)&&(s=a[h],s!=null))switch(h){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:De(e,t,h,s,a,null)}return;case"dialog":ve("beforetoggle",e),ve("toggle",e),ve("cancel",e),ve("close",e);break;case"iframe":case"object":ve("load",e);break;case"video":case"audio":for(s=0;s<tr.length;s++)ve(tr[s],e);break;case"image":ve("error",e),ve("load",e);break;case"details":ve("toggle",e);break;case"embed":case"source":case"link":ve("error",e),ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(S in a)if(a.hasOwnProperty(S)&&(s=a[S],s!=null))switch(S){case"children":case"dangerouslySetInnerHTML":throw Error(d(137,t));default:De(e,t,S,s,a,null)}return;default:if(ni(t)){for(U in a)a.hasOwnProperty(U)&&(s=a[U],s!==void 0&&Xc(e,t,U,s,a,void 0));return}}for(f in a)a.hasOwnProperty(f)&&(s=a[f],s!=null&&De(e,t,f,s,a,null))}function qg(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,n=null,o=null,f=null,h=null,S=null,U=null;for(E in a){var Y=a[E];if(a.hasOwnProperty(E)&&Y!=null)switch(E){case"checked":break;case"value":break;case"defaultValue":h=Y;default:s.hasOwnProperty(E)||De(e,t,E,null,s,Y)}}for(var T in s){var E=s[T];if(Y=a[T],s.hasOwnProperty(T)&&(E!=null||Y!=null))switch(T){case"type":n=E;break;case"name":r=E;break;case"checked":S=E;break;case"defaultChecked":U=E;break;case"value":o=E;break;case"defaultValue":f=E;break;case"children":case"dangerouslySetInnerHTML":if(E!=null)throw Error(d(137,t));break;default:E!==Y&&De(e,t,T,E,s,Y)}}si(e,o,f,h,S,U,n,r);return;case"select":E=o=f=T=null;for(n in a)if(h=a[n],a.hasOwnProperty(n)&&h!=null)switch(n){case"value":break;case"multiple":E=h;default:s.hasOwnProperty(n)||De(e,t,n,null,s,h)}for(r in s)if(n=s[r],h=a[r],s.hasOwnProperty(r)&&(n!=null||h!=null))switch(r){case"value":T=n;break;case"defaultValue":f=n;break;case"multiple":o=n;default:n!==h&&De(e,t,r,n,s,h)}t=f,a=o,s=E,T!=null?Cl(e,!!a,T,!1):!!s!=!!a&&(t!=null?Cl(e,!!a,t,!0):Cl(e,!!a,a?[]:"",!1));return;case"textarea":E=T=null;for(f in a)if(r=a[f],a.hasOwnProperty(f)&&r!=null&&!s.hasOwnProperty(f))switch(f){case"value":break;case"children":break;default:De(e,t,f,null,s,r)}for(o in s)if(r=s[o],n=a[o],s.hasOwnProperty(o)&&(r!=null||n!=null))switch(o){case"value":T=r;break;case"defaultValue":E=r;break;case"children":break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(d(91));break;default:r!==n&&De(e,t,o,r,s,n)}Md(e,T,E);return;case"option":for(var ie in a)if(T=a[ie],a.hasOwnProperty(ie)&&T!=null&&!s.hasOwnProperty(ie))switch(ie){case"selected":e.selected=!1;break;default:De(e,t,ie,null,s,T)}for(h in s)if(T=s[h],E=a[h],s.hasOwnProperty(h)&&T!==E&&(T!=null||E!=null))switch(h){case"selected":e.selected=T&&typeof T!="function"&&typeof T!="symbol";break;default:De(e,t,h,T,s,E)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var se in a)T=a[se],a.hasOwnProperty(se)&&T!=null&&!s.hasOwnProperty(se)&&De(e,t,se,null,s,T);for(S in s)if(T=s[S],E=a[S],s.hasOwnProperty(S)&&T!==E&&(T!=null||E!=null))switch(S){case"children":case"dangerouslySetInnerHTML":if(T!=null)throw Error(d(137,t));break;default:De(e,t,S,T,s,E)}return;default:if(ni(t)){for(var Oe in a)T=a[Oe],a.hasOwnProperty(Oe)&&T!==void 0&&!s.hasOwnProperty(Oe)&&Xc(e,t,Oe,void 0,s,T);for(U in s)T=s[U],E=a[U],!s.hasOwnProperty(U)||T===E||T===void 0&&E===void 0||Xc(e,t,U,T,s,E);return}}for(var v in a)T=a[v],a.hasOwnProperty(v)&&T!=null&&!s.hasOwnProperty(v)&&De(e,t,v,null,s,T);for(Y in s)T=s[Y],E=a[Y],!s.hasOwnProperty(Y)||T===E||T==null&&E==null||De(e,t,Y,T,s,E)}var Gc=null,Zc=null;function wn(e){return e.nodeType===9?e:e.ownerDocument}function B0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function H0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Kc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fc=null;function Bg(){var e=window.event;return e&&e.type==="popstate"?e===Fc?!1:(Fc=e,!0):(Fc=null,!1)}var L0=typeof setTimeout=="function"?setTimeout:void 0,Hg=typeof clearTimeout=="function"?clearTimeout:void 0,Y0=typeof Promise=="function"?Promise:void 0,Lg=typeof queueMicrotask=="function"?queueMicrotask:typeof Y0<"u"?function(e){return Y0.resolve(null).then(e).catch(Yg)}:L0;function Yg(e){setTimeout(function(){throw e})}function Fa(e){return e==="head"}function Q0(e,t){var a=t,s=0,r=0;do{var n=a.nextSibling;if(e.removeChild(a),n&&n.nodeType===8)if(a=n.data,a==="/$"){if(0<s&&8>s){a=s;var o=e.ownerDocument;if(a&1&&lr(o.documentElement),a&2&&lr(o.body),a&4)for(a=o.head,lr(a),o=a.firstChild;o;){var f=o.nextSibling,h=o.nodeName;o[Ke]||h==="SCRIPT"||h==="STYLE"||h==="LINK"&&o.rel.toLowerCase()==="stylesheet"||a.removeChild(o),o=f}}if(r===0){e.removeChild(n),ur(t);return}r--}else a==="$"||a==="$?"||a==="$!"?r++:s=a.charCodeAt(0)-48;else s=0;a=n}while(a);ur(t)}function Jc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Jc(a),Mt(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Qg(e,t,a,s){for(;e.nodeType===1;){var r=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Ke])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(n=e.getAttribute("rel"),n==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(n!==r.rel||e.getAttribute("href")!==(r.href==null||r.href===""?null:r.href)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin)||e.getAttribute("title")!==(r.title==null?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(n=e.getAttribute("src"),(n!==(r.src==null?null:r.src)||e.getAttribute("type")!==(r.type==null?null:r.type)||e.getAttribute("crossorigin")!==(r.crossOrigin==null?null:r.crossOrigin))&&n&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var n=r.name==null?null:""+r.name;if(r.type==="hidden"&&e.getAttribute("name")===n)return e}else return e;if(e=Jt(e.nextSibling),e===null)break}return null}function Vg(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Jt(e.nextSibling),e===null))return null;return e}function $c(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Xg(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Jt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Wc=null;function V0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function X0(e,t,a){switch(t=wn(a),e){case"html":if(e=t.documentElement,!e)throw Error(d(452));return e;case"head":if(e=t.head,!e)throw Error(d(453));return e;case"body":if(e=t.body,!e)throw Error(d(454));return e;default:throw Error(d(451))}}function lr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Mt(e)}var Xt=new Map,G0=new Set;function Sn(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var wa=K.d;K.d={f:Gg,r:Zg,D:Kg,C:Fg,L:Jg,m:$g,X:Pg,S:Wg,M:Ig};function Gg(){var e=wa.f(),t=mn();return e||t}function Zg(e){var t=Zt(e);t!==null&&t.tag===5&&t.type==="form"?uu(t):wa.r(e)}var cs=typeof document>"u"?null:document;function Z0(e,t,a){var s=cs;if(s&&typeof t=="string"&&t){var r=qt(t);r='link[rel="'+e+'"][href="'+r+'"]',typeof a=="string"&&(r+='[crossorigin="'+a+'"]'),G0.has(r)||(G0.add(r),e={rel:e,crossOrigin:a,href:t},s.querySelector(r)===null&&(t=s.createElement("link"),ft(t,"link",e),Ie(t),s.head.appendChild(t)))}}function Kg(e){wa.D(e),Z0("dns-prefetch",e,null)}function Fg(e,t){wa.C(e,t),Z0("preconnect",e,t)}function Jg(e,t,a){wa.L(e,t,a);var s=cs;if(s&&e&&t){var r='link[rel="preload"][as="'+qt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(r+='[imagesrcset="'+qt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(r+='[imagesizes="'+qt(a.imageSizes)+'"]')):r+='[href="'+qt(e)+'"]';var n=r;switch(t){case"style":n=ds(e);break;case"script":n=os(e)}Xt.has(n)||(e=j({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Xt.set(n,e),s.querySelector(r)!==null||t==="style"&&s.querySelector(sr(n))||t==="script"&&s.querySelector(rr(n))||(t=s.createElement("link"),ft(t,"link",e),Ie(t),s.head.appendChild(t)))}}function $g(e,t){wa.m(e,t);var a=cs;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",r='link[rel="modulepreload"][as="'+qt(s)+'"][href="'+qt(e)+'"]',n=r;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":n=os(e)}if(!Xt.has(n)&&(e=j({rel:"modulepreload",href:e},t),Xt.set(n,e),a.querySelector(r)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(rr(n)))return}s=a.createElement("link"),ft(s,"link",e),Ie(s),a.head.appendChild(s)}}}function Wg(e,t,a){wa.S(e,t,a);var s=cs;if(s&&e){var r=Ra(s).hoistableStyles,n=ds(e);t=t||"default";var o=r.get(n);if(!o){var f={loading:0,preload:null};if(o=s.querySelector(sr(n)))f.loading=5;else{e=j({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Xt.get(n))&&Pc(e,a);var h=o=s.createElement("link");Ie(h),ft(h,"link",e),h._p=new Promise(function(S,U){h.onload=S,h.onerror=U}),h.addEventListener("load",function(){f.loading|=1}),h.addEventListener("error",function(){f.loading|=2}),f.loading|=4,kn(o,t,s)}o={type:"stylesheet",instance:o,count:1,state:f},r.set(n,o)}}}function Pg(e,t){wa.X(e,t);var a=cs;if(a&&e){var s=Ra(a).hoistableScripts,r=os(e),n=s.get(r);n||(n=a.querySelector(rr(r)),n||(e=j({src:e,async:!0},t),(t=Xt.get(r))&&Ic(e,t),n=a.createElement("script"),Ie(n),ft(n,"link",e),a.head.appendChild(n)),n={type:"script",instance:n,count:1,state:null},s.set(r,n))}}function Ig(e,t){wa.M(e,t);var a=cs;if(a&&e){var s=Ra(a).hoistableScripts,r=os(e),n=s.get(r);n||(n=a.querySelector(rr(r)),n||(e=j({src:e,async:!0,type:"module"},t),(t=Xt.get(r))&&Ic(e,t),n=a.createElement("script"),Ie(n),ft(n,"link",e),a.head.appendChild(n)),n={type:"script",instance:n,count:1,state:null},s.set(r,n))}}function K0(e,t,a,s){var r=(r=We.current)?Sn(r):null;if(!r)throw Error(d(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=ds(a.href),a=Ra(r).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=ds(a.href);var n=Ra(r).hoistableStyles,o=n.get(e);if(o||(r=r.ownerDocument||r,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},n.set(e,o),(n=r.querySelector(sr(e)))&&!n._p&&(o.instance=n,o.state.loading=5),Xt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Xt.set(e,a),n||em(r,e,a,o.state))),t&&s===null)throw Error(d(528,""));return o}if(t&&s!==null)throw Error(d(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=os(a),a=Ra(r).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(d(444,e))}}function ds(e){return'href="'+qt(e)+'"'}function sr(e){return'link[rel="stylesheet"]['+e+"]"}function F0(e){return j({},e,{"data-precedence":e.precedence,precedence:null})}function em(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),ft(t,"link",a),Ie(t),e.head.appendChild(t))}function os(e){return'[src="'+qt(e)+'"]'}function rr(e){return"script[async]"+e}function J0(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+qt(a.href)+'"]');if(s)return t.instance=s,Ie(s),s;var r=j({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Ie(s),ft(s,"style",r),kn(s,a.precedence,e),t.instance=s;case"stylesheet":r=ds(a.href);var n=e.querySelector(sr(r));if(n)return t.state.loading|=4,t.instance=n,Ie(n),n;s=F0(a),(r=Xt.get(r))&&Pc(s,r),n=(e.ownerDocument||e).createElement("link"),Ie(n);var o=n;return o._p=new Promise(function(f,h){o.onload=f,o.onerror=h}),ft(n,"link",s),t.state.loading|=4,kn(n,a.precedence,e),t.instance=n;case"script":return n=os(a.src),(r=e.querySelector(rr(n)))?(t.instance=r,Ie(r),r):(s=a,(r=Xt.get(n))&&(s=j({},a),Ic(s,r)),e=e.ownerDocument||e,r=e.createElement("script"),Ie(r),ft(r,"link",s),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(d(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,kn(s,a.precedence,e));return t.instance}function kn(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=s.length?s[s.length-1]:null,n=r,o=0;o<s.length;o++){var f=s[o];if(f.dataset.precedence===t)n=f;else if(n!==r)break}n?n.parentNode.insertBefore(e,n.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Pc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ic(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Tn=null;function $0(e,t,a){if(Tn===null){var s=new Map,r=Tn=new Map;r.set(a,s)}else r=Tn,s=r.get(a),s||(s=new Map,r.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),r=0;r<a.length;r++){var n=a[r];if(!(n[Ke]||n[D]||e==="link"&&n.getAttribute("rel")==="stylesheet")&&n.namespaceURI!=="http://www.w3.org/2000/svg"){var o=n.getAttribute(t)||"";o=e+o;var f=s.get(o);f?f.push(n):s.set(o,[n])}}return s}function W0(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function tm(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function P0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var nr=null;function am(){}function lm(e,t,a){if(nr===null)throw Error(d(475));var s=nr;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var r=ds(a.href),n=e.querySelector(sr(r));if(n){e=n._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=An.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=n,Ie(n);return}n=e.ownerDocument||e,a=F0(a),(r=Xt.get(r))&&Pc(a,r),n=n.createElement("link"),Ie(n);var o=n;o._p=new Promise(function(f,h){o.onload=f,o.onerror=h}),ft(n,"link",a),t.instance=n}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(s.count++,t=An.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}function sm(){if(nr===null)throw Error(d(475));var e=nr;return e.stylesheets&&e.count===0&&ed(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&ed(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function An(){if(this.count--,this.count===0){if(this.stylesheets)ed(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var En=null;function ed(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,En=new Map,t.forEach(rm,e),En=null,An.call(e))}function rm(e,t){if(!(t.state.loading&4)){var a=En.get(e);if(a)var s=a.get(null);else{a=new Map,En.set(e,a);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),n=0;n<r.length;n++){var o=r[n];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(a.set(o.dataset.precedence,o),s=o)}s&&a.set(null,s)}r=t.instance,o=r.getAttribute("data-precedence"),n=a.get(o)||s,n===s&&a.set(null,r),a.set(o,r),this.count++,s=An.bind(this),r.addEventListener("load",s),r.addEventListener("error",s),n?n.parentNode.insertBefore(r,n.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(r,e.firstChild)),t.state.loading|=4}}var ir={$$typeof:te,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function nm(e,t,a,s,r,n,o,f){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hs(0),this.hiddenUpdates=hs(null),this.identifierPrefix=s,this.onUncaughtError=r,this.onCaughtError=n,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=f,this.incompleteTransitions=new Map}function I0(e,t,a,s,r,n,o,f,h,S,U,Y){return e=new nm(e,t,a,o,f,h,S,Y),t=1,n===!0&&(t|=24),n=At(3,null,null,t),e.current=n,n.stateNode=e,t=Mi(),t.refCount++,e.pooledCache=t,t.refCount++,n.memoizedState={element:s,isDehydrated:a,cache:t},Hi(n),e}function ef(e){return e?(e=Yl,e):Yl}function tf(e,t,a,s,r,n){r=ef(r),s.context===null?s.context=r:s.pendingContext=r,s=Ma(t),s.payload={element:a},n=n===void 0?null:n,n!==null&&(s.callback=n),a=Ua(e,s,t),a!==null&&(Ct(a,e,t),qs(a,e,t))}function af(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function td(e,t){af(e,t),(e=e.alternate)&&af(e,t)}function lf(e){if(e.tag===13){var t=Ll(e,67108864);t!==null&&Ct(t,e,67108864),td(e,67108864)}}var _n=!0;function im(e,t,a,s){var r=O.T;O.T=null;var n=K.p;try{K.p=2,ad(e,t,a,s)}finally{K.p=n,O.T=r}}function cm(e,t,a,s){var r=O.T;O.T=null;var n=K.p;try{K.p=8,ad(e,t,a,s)}finally{K.p=n,O.T=r}}function ad(e,t,a,s){if(_n){var r=ld(s);if(r===null)Vc(e,t,s,zn,a),rf(e,s);else if(om(r,e,t,a,s))s.stopPropagation();else if(rf(e,s),t&4&&-1<dm.indexOf(e)){for(;r!==null;){var n=Zt(r);if(n!==null)switch(n.tag){case 3:if(n=n.stateNode,n.current.memoizedState.isDehydrated){var o=It(n.pendingLanes);if(o!==0){var f=n;for(f.pendingLanes|=2,f.entangledLanes|=2;o;){var h=1<<31-yt(o);f.entanglements[1]|=h,o&=~h}sa(n),(ze&6)===0&&(xn=ge()+500,er(0))}}break;case 13:f=Ll(n,2),f!==null&&Ct(f,n,2),mn(),td(n,2)}if(n=ld(s),n===null&&Vc(e,t,s,zn,a),n===r)break;r=n}r!==null&&s.stopPropagation()}else Vc(e,t,s,null,a)}}function ld(e){return e=ci(e),sd(e)}var zn=null;function sd(e){if(zn=null,e=dt(e),e!==null){var t=m(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=y(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return zn=e,null}function sf(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fn()){case sl:return 2;case vr:return 8;case Gt:case Jn:return 32;case rl:return 268435456;default:return 32}default:return 32}}var rd=!1,Ja=null,$a=null,Wa=null,cr=new Map,dr=new Map,Pa=[],dm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rf(e,t){switch(e){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":$a=null;break;case"mouseover":case"mouseout":Wa=null;break;case"pointerover":case"pointerout":cr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":dr.delete(t.pointerId)}}function or(e,t,a,s,r,n){return e===null||e.nativeEvent!==n?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:n,targetContainers:[r]},t!==null&&(t=Zt(t),t!==null&&lf(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,r!==null&&t.indexOf(r)===-1&&t.push(r),e)}function om(e,t,a,s,r){switch(t){case"focusin":return Ja=or(Ja,e,t,a,s,r),!0;case"dragenter":return $a=or($a,e,t,a,s,r),!0;case"mouseover":return Wa=or(Wa,e,t,a,s,r),!0;case"pointerover":var n=r.pointerId;return cr.set(n,or(cr.get(n)||null,e,t,a,s,r)),!0;case"gotpointercapture":return n=r.pointerId,dr.set(n,or(dr.get(n)||null,e,t,a,s,r)),!0}return!1}function nf(e){var t=dt(e.target);if(t!==null){var a=m(t);if(a!==null){if(t=a.tag,t===13){if(t=y(a),t!==null){e.blockedOn=t,Sr(e.priority,function(){if(a.tag===13){var s=Rt();s=ps(s);var r=Ll(a,s);r!==null&&Ct(r,a,s),td(a,s)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Rn(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=ld(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);ii=s,a.target.dispatchEvent(s),ii=null}else return t=Zt(a),t!==null&&lf(t),e.blockedOn=a,!1;t.shift()}return!0}function cf(e,t,a){Rn(e)&&a.delete(t)}function um(){rd=!1,Ja!==null&&Rn(Ja)&&(Ja=null),$a!==null&&Rn($a)&&($a=null),Wa!==null&&Rn(Wa)&&(Wa=null),cr.forEach(cf),dr.forEach(cf)}function Cn(e,t){e.blockedOn===t&&(e.blockedOn=null,rd||(rd=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,um)))}var Dn=null;function df(e){Dn!==e&&(Dn=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Dn===e&&(Dn=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],r=e[t+2];if(typeof s!="function"){if(sd(s||a)===null)continue;break}var n=Zt(a);n!==null&&(e.splice(t,3),t-=3,sc(n,{pending:!0,data:r,method:a.method,action:s},s,r))}}))}function ur(e){function t(h){return Cn(h,e)}Ja!==null&&Cn(Ja,e),$a!==null&&Cn($a,e),Wa!==null&&Cn(Wa,e),cr.forEach(t),dr.forEach(t);for(var a=0;a<Pa.length;a++){var s=Pa[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Pa.length&&(a=Pa[0],a.blockedOn===null);)nf(a),a.blockedOn===null&&Pa.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var r=a[s],n=a[s+1],o=r[M]||null;if(typeof n=="function")o||df(a);else if(o){var f=null;if(n&&n.hasAttribute("formAction")){if(r=n,o=n[M]||null)f=o.formAction;else if(sd(r)!==null)continue}else f=o.action;typeof f=="function"?a[s+1]=f:(a.splice(s,3),s-=3),df(a)}}}function nd(e){this._internalRoot=e}On.prototype.render=nd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(d(409));var a=t.current,s=Rt();tf(a,s,e,t,null,null)},On.prototype.unmount=nd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;tf(e.current,2,null,e,null,null),mn(),t[X]=null}};function On(e){this._internalRoot=e}On.prototype.unstable_scheduleHydration=function(e){if(e){var t=za();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Pa.length&&t!==0&&t<Pa[a].priority;a++);Pa.splice(a,0,e),a===0&&nf(e)}};var of=c.version;if(of!=="19.1.1")throw Error(d(527,of,"19.1.1"));K.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(d(188)):(e=Object.keys(e).join(","),Error(d(268,e)));return e=k(t),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var fm={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mn=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mn.isDisabled&&Mn.supportsFiber)try{Pt=Mn.inject(fm),Be=Mn}catch{}}return xr.createRoot=function(e,t){if(!x(e))throw Error(d(299));var a=!1,s="",r=ku,n=Tu,o=Au,f=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(r=t.onUncaughtError),t.onCaughtError!==void 0&&(n=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(f=t.unstable_transitionCallbacks)),t=I0(e,1,!1,null,null,a,s,r,n,o,f,null),e[X]=t.current,Qc(e),new nd(t)},xr.hydrateRoot=function(e,t,a){if(!x(e))throw Error(d(299));var s=!1,r="",n=ku,o=Tu,f=Au,h=null,S=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(r=a.identifierPrefix),a.onUncaughtError!==void 0&&(n=a.onUncaughtError),a.onCaughtError!==void 0&&(o=a.onCaughtError),a.onRecoverableError!==void 0&&(f=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(h=a.unstable_transitionCallbacks),a.formState!==void 0&&(S=a.formState)),t=I0(e,1,!0,t,a??null,s,r,n,o,f,h,S),t.context=ef(null),a=t.current,s=Rt(),s=ps(s),r=Ma(s),r.callback=null,Ua(a,r,s),a=s,t.current.lanes=a,Pe(t,a),sa(t),e[X]=t.current,Qc(e),new On(t)},xr.version="19.1.1",xr}var hf;function Sm(){if(hf)return cd.exports;hf=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(c){console.error(c)}}return i(),cd.exports=wm(),cd.exports}var km=Sm();function Rf(i,c){return function(){return i.apply(c,arguments)}}const{toString:Tm}=Object.prototype,{getPrototypeOf:jd}=Object,{iterator:Yn,toStringTag:Cf}=Symbol,Qn=(i=>c=>{const u=Tm.call(c);return i[u]||(i[u]=u.slice(8,-1).toLowerCase())})(Object.create(null)),$t=i=>(i=i.toLowerCase(),c=>Qn(c)===i),Vn=i=>c=>typeof c===i,{isArray:fs}=Array,mr=Vn("undefined");function hr(i){return i!==null&&!mr(i)&&i.constructor!==null&&!mr(i.constructor)&&St(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const Df=$t("ArrayBuffer");function Am(i){let c;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?c=ArrayBuffer.isView(i):c=i&&i.buffer&&Df(i.buffer),c}const Em=Vn("string"),St=Vn("function"),Of=Vn("number"),yr=i=>i!==null&&typeof i=="object",_m=i=>i===!0||i===!1,Un=i=>{if(Qn(i)!=="object")return!1;const c=jd(i);return(c===null||c===Object.prototype||Object.getPrototypeOf(c)===null)&&!(Cf in i)&&!(Yn in i)},zm=i=>{if(!yr(i)||hr(i))return!1;try{return Object.keys(i).length===0&&Object.getPrototypeOf(i)===Object.prototype}catch{return!1}},Rm=$t("Date"),Cm=$t("File"),Dm=$t("Blob"),Om=$t("FileList"),Mm=i=>yr(i)&&St(i.pipe),Um=i=>{let c;return i&&(typeof FormData=="function"&&i instanceof FormData||St(i.append)&&((c=Qn(i))==="formdata"||c==="object"&&St(i.toString)&&i.toString()==="[object FormData]"))},qm=$t("URLSearchParams"),[Bm,Hm,Lm,Ym]=["ReadableStream","Request","Response","Headers"].map($t),Qm=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pr(i,c,{allOwnKeys:u=!1}={}){if(i===null||typeof i>"u")return;let d,x;if(typeof i!="object"&&(i=[i]),fs(i))for(d=0,x=i.length;d<x;d++)c.call(null,i[d],d,i);else{if(hr(i))return;const m=u?Object.getOwnPropertyNames(i):Object.keys(i),y=m.length;let b;for(d=0;d<y;d++)b=m[d],c.call(null,i[b],b,i)}}function Mf(i,c){if(hr(i))return null;c=c.toLowerCase();const u=Object.keys(i);let d=u.length,x;for(;d-- >0;)if(x=u[d],c===x.toLowerCase())return x;return null}const wl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Uf=i=>!mr(i)&&i!==wl;function gd(){const{caseless:i}=Uf(this)&&this||{},c={},u=(d,x)=>{const m=i&&Mf(c,x)||x;Un(c[m])&&Un(d)?c[m]=gd(c[m],d):Un(d)?c[m]=gd({},d):fs(d)?c[m]=d.slice():c[m]=d};for(let d=0,x=arguments.length;d<x;d++)arguments[d]&&pr(arguments[d],u);return c}const Vm=(i,c,u,{allOwnKeys:d}={})=>(pr(c,(x,m)=>{u&&St(x)?i[m]=Rf(x,u):i[m]=x},{allOwnKeys:d}),i),Xm=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),Gm=(i,c,u,d)=>{i.prototype=Object.create(c.prototype,d),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:c.prototype}),u&&Object.assign(i.prototype,u)},Zm=(i,c,u,d)=>{let x,m,y;const b={};if(c=c||{},i==null)return c;do{for(x=Object.getOwnPropertyNames(i),m=x.length;m-- >0;)y=x[m],(!d||d(y,i,c))&&!b[y]&&(c[y]=i[y],b[y]=!0);i=u!==!1&&jd(i)}while(i&&(!u||u(i,c))&&i!==Object.prototype);return c},Km=(i,c,u)=>{i=String(i),(u===void 0||u>i.length)&&(u=i.length),u-=c.length;const d=i.indexOf(c,u);return d!==-1&&d===u},Fm=i=>{if(!i)return null;if(fs(i))return i;let c=i.length;if(!Of(c))return null;const u=new Array(c);for(;c-- >0;)u[c]=i[c];return u},Jm=(i=>c=>i&&c instanceof i)(typeof Uint8Array<"u"&&jd(Uint8Array)),$m=(i,c)=>{const d=(i&&i[Yn]).call(i);let x;for(;(x=d.next())&&!x.done;){const m=x.value;c.call(i,m[0],m[1])}},Wm=(i,c)=>{let u;const d=[];for(;(u=i.exec(c))!==null;)d.push(u);return d},Pm=$t("HTMLFormElement"),Im=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(u,d,x){return d.toUpperCase()+x}),yf=(({hasOwnProperty:i})=>(c,u)=>i.call(c,u))(Object.prototype),eh=$t("RegExp"),qf=(i,c)=>{const u=Object.getOwnPropertyDescriptors(i),d={};pr(u,(x,m)=>{let y;(y=c(x,m,i))!==!1&&(d[m]=y||x)}),Object.defineProperties(i,d)},th=i=>{qf(i,(c,u)=>{if(St(i)&&["arguments","caller","callee"].indexOf(u)!==-1)return!1;const d=i[u];if(St(d)){if(c.enumerable=!1,"writable"in c){c.writable=!1;return}c.set||(c.set=()=>{throw Error("Can not rewrite read-only method '"+u+"'")})}})},ah=(i,c)=>{const u={},d=x=>{x.forEach(m=>{u[m]=!0})};return fs(i)?d(i):d(String(i).split(c)),u},lh=()=>{},sh=(i,c)=>i!=null&&Number.isFinite(i=+i)?i:c;function rh(i){return!!(i&&St(i.append)&&i[Cf]==="FormData"&&i[Yn])}const nh=i=>{const c=new Array(10),u=(d,x)=>{if(yr(d)){if(c.indexOf(d)>=0)return;if(hr(d))return d;if(!("toJSON"in d)){c[x]=d;const m=fs(d)?[]:{};return pr(d,(y,b)=>{const k=u(y,x+1);!mr(k)&&(m[b]=k)}),c[x]=void 0,m}}return d};return u(i,0)},ih=$t("AsyncFunction"),ch=i=>i&&(yr(i)||St(i))&&St(i.then)&&St(i.catch),Bf=((i,c)=>i?setImmediate:c?((u,d)=>(wl.addEventListener("message",({source:x,data:m})=>{x===wl&&m===u&&d.length&&d.shift()()},!1),x=>{d.push(x),wl.postMessage(u,"*")}))(`axios@${Math.random()}`,[]):u=>setTimeout(u))(typeof setImmediate=="function",St(wl.postMessage)),dh=typeof queueMicrotask<"u"?queueMicrotask.bind(wl):typeof process<"u"&&process.nextTick||Bf,oh=i=>i!=null&&St(i[Yn]),R={isArray:fs,isArrayBuffer:Df,isBuffer:hr,isFormData:Um,isArrayBufferView:Am,isString:Em,isNumber:Of,isBoolean:_m,isObject:yr,isPlainObject:Un,isEmptyObject:zm,isReadableStream:Bm,isRequest:Hm,isResponse:Lm,isHeaders:Ym,isUndefined:mr,isDate:Rm,isFile:Cm,isBlob:Dm,isRegExp:eh,isFunction:St,isStream:Mm,isURLSearchParams:qm,isTypedArray:Jm,isFileList:Om,forEach:pr,merge:gd,extend:Vm,trim:Qm,stripBOM:Xm,inherits:Gm,toFlatObject:Zm,kindOf:Qn,kindOfTest:$t,endsWith:Km,toArray:Fm,forEachEntry:$m,matchAll:Wm,isHTMLForm:Pm,hasOwnProperty:yf,hasOwnProp:yf,reduceDescriptors:qf,freezeMethods:th,toObjectSet:ah,toCamelCase:Im,noop:lh,toFiniteNumber:sh,findKey:Mf,global:wl,isContextDefined:Uf,isSpecCompliantForm:rh,toJSONObject:nh,isAsyncFn:ih,isThenable:ch,setImmediate:Bf,asap:dh,isIterable:oh};function fe(i,c,u,d,x){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",c&&(this.code=c),u&&(this.config=u),d&&(this.request=d),x&&(this.response=x,this.status=x.status?x.status:null)}R.inherits(fe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:R.toJSONObject(this.config),code:this.code,status:this.status}}});const Hf=fe.prototype,Lf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{Lf[i]={value:i}});Object.defineProperties(fe,Lf);Object.defineProperty(Hf,"isAxiosError",{value:!0});fe.from=(i,c,u,d,x,m)=>{const y=Object.create(Hf);return R.toFlatObject(i,y,function(k){return k!==Error.prototype},b=>b!=="isAxiosError"),fe.call(y,i.message,c,u,d,x),y.cause=i,y.name=i.name,m&&Object.assign(y,m),y};const uh=null;function md(i){return R.isPlainObject(i)||R.isArray(i)}function Yf(i){return R.endsWith(i,"[]")?i.slice(0,-2):i}function pf(i,c,u){return i?i.concat(c).map(function(x,m){return x=Yf(x),!u&&m?"["+x+"]":x}).join(u?".":""):c}function fh(i){return R.isArray(i)&&!i.some(md)}const xh=R.toFlatObject(R,{},null,function(c){return/^is[A-Z]/.test(c)});function Xn(i,c,u){if(!R.isObject(i))throw new TypeError("target must be an object");c=c||new FormData,u=R.toFlatObject(u,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,Q){return!R.isUndefined(Q[w])});const d=u.metaTokens,x=u.visitor||j,m=u.dots,y=u.indexes,k=(u.Blob||typeof Blob<"u"&&Blob)&&R.isSpecCompliantForm(c);if(!R.isFunction(x))throw new TypeError("visitor must be a function");function A(H){if(H===null)return"";if(R.isDate(H))return H.toISOString();if(R.isBoolean(H))return H.toString();if(!k&&R.isBlob(H))throw new fe("Blob is not supported. Use a Buffer instead.");return R.isArrayBuffer(H)||R.isTypedArray(H)?k&&typeof Blob=="function"?new Blob([H]):Buffer.from(H):H}function j(H,w,Q){let J=H;if(H&&!Q&&typeof H=="object"){if(R.endsWith(w,"{}"))w=d?w:w.slice(0,-2),H=JSON.stringify(H);else if(R.isArray(H)&&fh(H)||(R.isFileList(H)||R.endsWith(w,"[]"))&&(J=R.toArray(H)))return w=Yf(w),J.forEach(function(te,ue){!(R.isUndefined(te)||te===null)&&c.append(y===!0?pf([w],ue,m):y===null?w:w+"[]",A(te))}),!1}return md(H)?!0:(c.append(pf(Q,w,m),A(H)),!1)}const z=[],_=Object.assign(xh,{defaultVisitor:j,convertValue:A,isVisitable:md});function Z(H,w){if(!R.isUndefined(H)){if(z.indexOf(H)!==-1)throw Error("Circular reference detected in "+w.join("."));z.push(H),R.forEach(H,function(J,ee){(!(R.isUndefined(J)||J===null)&&x.call(c,J,R.isString(ee)?ee.trim():ee,w,_))===!0&&Z(J,w?w.concat(ee):[ee])}),z.pop()}}if(!R.isObject(i))throw new TypeError("data must be an object");return Z(i),c}function bf(i){const c={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(d){return c[d]})}function Nd(i,c){this._pairs=[],i&&Xn(i,this,c)}const Qf=Nd.prototype;Qf.append=function(c,u){this._pairs.push([c,u])};Qf.toString=function(c){const u=c?function(d){return c.call(this,d,bf)}:bf;return this._pairs.map(function(x){return u(x[0])+"="+u(x[1])},"").join("&")};function gh(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Vf(i,c,u){if(!c)return i;const d=u&&u.encode||gh;R.isFunction(u)&&(u={serialize:u});const x=u&&u.serialize;let m;if(x?m=x(c,u):m=R.isURLSearchParams(c)?c.toString():new Nd(c,u).toString(d),m){const y=i.indexOf("#");y!==-1&&(i=i.slice(0,y)),i+=(i.indexOf("?")===-1?"?":"&")+m}return i}class vf{constructor(){this.handlers=[]}use(c,u,d){return this.handlers.push({fulfilled:c,rejected:u,synchronous:d?d.synchronous:!1,runWhen:d?d.runWhen:null}),this.handlers.length-1}eject(c){this.handlers[c]&&(this.handlers[c]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(c){R.forEach(this.handlers,function(d){d!==null&&c(d)})}}const Xf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mh=typeof URLSearchParams<"u"?URLSearchParams:Nd,hh=typeof FormData<"u"?FormData:null,yh=typeof Blob<"u"?Blob:null,ph={isBrowser:!0,classes:{URLSearchParams:mh,FormData:hh,Blob:yh},protocols:["http","https","file","blob","url","data"]},wd=typeof window<"u"&&typeof document<"u",hd=typeof navigator=="object"&&navigator||void 0,bh=wd&&(!hd||["ReactNative","NativeScript","NS"].indexOf(hd.product)<0),vh=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",jh=wd&&window.location.href||"http://localhost",Nh=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:wd,hasStandardBrowserEnv:bh,hasStandardBrowserWebWorkerEnv:vh,navigator:hd,origin:jh},Symbol.toStringTag,{value:"Module"})),ht={...Nh,...ph};function wh(i,c){return Xn(i,new ht.classes.URLSearchParams,{visitor:function(u,d,x,m){return ht.isNode&&R.isBuffer(u)?(this.append(d,u.toString("base64")),!1):m.defaultVisitor.apply(this,arguments)},...c})}function Sh(i){return R.matchAll(/\w+|\[(\w*)]/g,i).map(c=>c[0]==="[]"?"":c[1]||c[0])}function kh(i){const c={},u=Object.keys(i);let d;const x=u.length;let m;for(d=0;d<x;d++)m=u[d],c[m]=i[m];return c}function Gf(i){function c(u,d,x,m){let y=u[m++];if(y==="__proto__")return!0;const b=Number.isFinite(+y),k=m>=u.length;return y=!y&&R.isArray(x)?x.length:y,k?(R.hasOwnProp(x,y)?x[y]=[x[y],d]:x[y]=d,!b):((!x[y]||!R.isObject(x[y]))&&(x[y]=[]),c(u,d,x[y],m)&&R.isArray(x[y])&&(x[y]=kh(x[y])),!b)}if(R.isFormData(i)&&R.isFunction(i.entries)){const u={};return R.forEachEntry(i,(d,x)=>{c(Sh(d),x,u,0)}),u}return null}function Th(i,c,u){if(R.isString(i))try{return(c||JSON.parse)(i),R.trim(i)}catch(d){if(d.name!=="SyntaxError")throw d}return(u||JSON.stringify)(i)}const br={transitional:Xf,adapter:["xhr","http","fetch"],transformRequest:[function(c,u){const d=u.getContentType()||"",x=d.indexOf("application/json")>-1,m=R.isObject(c);if(m&&R.isHTMLForm(c)&&(c=new FormData(c)),R.isFormData(c))return x?JSON.stringify(Gf(c)):c;if(R.isArrayBuffer(c)||R.isBuffer(c)||R.isStream(c)||R.isFile(c)||R.isBlob(c)||R.isReadableStream(c))return c;if(R.isArrayBufferView(c))return c.buffer;if(R.isURLSearchParams(c))return u.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),c.toString();let b;if(m){if(d.indexOf("application/x-www-form-urlencoded")>-1)return wh(c,this.formSerializer).toString();if((b=R.isFileList(c))||d.indexOf("multipart/form-data")>-1){const k=this.env&&this.env.FormData;return Xn(b?{"files[]":c}:c,k&&new k,this.formSerializer)}}return m||x?(u.setContentType("application/json",!1),Th(c)):c}],transformResponse:[function(c){const u=this.transitional||br.transitional,d=u&&u.forcedJSONParsing,x=this.responseType==="json";if(R.isResponse(c)||R.isReadableStream(c))return c;if(c&&R.isString(c)&&(d&&!this.responseType||x)){const y=!(u&&u.silentJSONParsing)&&x;try{return JSON.parse(c)}catch(b){if(y)throw b.name==="SyntaxError"?fe.from(b,fe.ERR_BAD_RESPONSE,this,null,this.response):b}}return c}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ht.classes.FormData,Blob:ht.classes.Blob},validateStatus:function(c){return c>=200&&c<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};R.forEach(["delete","get","head","post","put","patch"],i=>{br.headers[i]={}});const Ah=R.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Eh=i=>{const c={};let u,d,x;return i&&i.split(`
`).forEach(function(y){x=y.indexOf(":"),u=y.substring(0,x).trim().toLowerCase(),d=y.substring(x+1).trim(),!(!u||c[u]&&Ah[u])&&(u==="set-cookie"?c[u]?c[u].push(d):c[u]=[d]:c[u]=c[u]?c[u]+", "+d:d)}),c},jf=Symbol("internals");function gr(i){return i&&String(i).trim().toLowerCase()}function qn(i){return i===!1||i==null?i:R.isArray(i)?i.map(qn):String(i)}function _h(i){const c=Object.create(null),u=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let d;for(;d=u.exec(i);)c[d[1]]=d[2];return c}const zh=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function ud(i,c,u,d,x){if(R.isFunction(d))return d.call(this,c,u);if(x&&(c=u),!!R.isString(c)){if(R.isString(d))return c.indexOf(d)!==-1;if(R.isRegExp(d))return d.test(c)}}function Rh(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(c,u,d)=>u.toUpperCase()+d)}function Ch(i,c){const u=R.toCamelCase(" "+c);["get","set","has"].forEach(d=>{Object.defineProperty(i,d+u,{value:function(x,m,y){return this[d].call(this,c,x,m,y)},configurable:!0})})}let kt=class{constructor(c){c&&this.set(c)}set(c,u,d){const x=this;function m(b,k,A){const j=gr(k);if(!j)throw new Error("header name must be a non-empty string");const z=R.findKey(x,j);(!z||x[z]===void 0||A===!0||A===void 0&&x[z]!==!1)&&(x[z||k]=qn(b))}const y=(b,k)=>R.forEach(b,(A,j)=>m(A,j,k));if(R.isPlainObject(c)||c instanceof this.constructor)y(c,u);else if(R.isString(c)&&(c=c.trim())&&!zh(c))y(Eh(c),u);else if(R.isObject(c)&&R.isIterable(c)){let b={},k,A;for(const j of c){if(!R.isArray(j))throw TypeError("Object iterator must return a key-value pair");b[A=j[0]]=(k=b[A])?R.isArray(k)?[...k,j[1]]:[k,j[1]]:j[1]}y(b,u)}else c!=null&&m(u,c,d);return this}get(c,u){if(c=gr(c),c){const d=R.findKey(this,c);if(d){const x=this[d];if(!u)return x;if(u===!0)return _h(x);if(R.isFunction(u))return u.call(this,x,d);if(R.isRegExp(u))return u.exec(x);throw new TypeError("parser must be boolean|regexp|function")}}}has(c,u){if(c=gr(c),c){const d=R.findKey(this,c);return!!(d&&this[d]!==void 0&&(!u||ud(this,this[d],d,u)))}return!1}delete(c,u){const d=this;let x=!1;function m(y){if(y=gr(y),y){const b=R.findKey(d,y);b&&(!u||ud(d,d[b],b,u))&&(delete d[b],x=!0)}}return R.isArray(c)?c.forEach(m):m(c),x}clear(c){const u=Object.keys(this);let d=u.length,x=!1;for(;d--;){const m=u[d];(!c||ud(this,this[m],m,c,!0))&&(delete this[m],x=!0)}return x}normalize(c){const u=this,d={};return R.forEach(this,(x,m)=>{const y=R.findKey(d,m);if(y){u[y]=qn(x),delete u[m];return}const b=c?Rh(m):String(m).trim();b!==m&&delete u[m],u[b]=qn(x),d[b]=!0}),this}concat(...c){return this.constructor.concat(this,...c)}toJSON(c){const u=Object.create(null);return R.forEach(this,(d,x)=>{d!=null&&d!==!1&&(u[x]=c&&R.isArray(d)?d.join(", "):d)}),u}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([c,u])=>c+": "+u).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(c){return c instanceof this?c:new this(c)}static concat(c,...u){const d=new this(c);return u.forEach(x=>d.set(x)),d}static accessor(c){const d=(this[jf]=this[jf]={accessors:{}}).accessors,x=this.prototype;function m(y){const b=gr(y);d[b]||(Ch(x,y),d[b]=!0)}return R.isArray(c)?c.forEach(m):m(c),this}};kt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);R.reduceDescriptors(kt.prototype,({value:i},c)=>{let u=c[0].toUpperCase()+c.slice(1);return{get:()=>i,set(d){this[u]=d}}});R.freezeMethods(kt);function fd(i,c){const u=this||br,d=c||u,x=kt.from(d.headers);let m=d.data;return R.forEach(i,function(b){m=b.call(u,m,x.normalize(),c?c.status:void 0)}),x.normalize(),m}function Zf(i){return!!(i&&i.__CANCEL__)}function xs(i,c,u){fe.call(this,i??"canceled",fe.ERR_CANCELED,c,u),this.name="CanceledError"}R.inherits(xs,fe,{__CANCEL__:!0});function Kf(i,c,u){const d=u.config.validateStatus;!u.status||!d||d(u.status)?i(u):c(new fe("Request failed with status code "+u.status,[fe.ERR_BAD_REQUEST,fe.ERR_BAD_RESPONSE][Math.floor(u.status/100)-4],u.config,u.request,u))}function Dh(i){const c=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return c&&c[1]||""}function Oh(i,c){i=i||10;const u=new Array(i),d=new Array(i);let x=0,m=0,y;return c=c!==void 0?c:1e3,function(k){const A=Date.now(),j=d[m];y||(y=A),u[x]=k,d[x]=A;let z=m,_=0;for(;z!==x;)_+=u[z++],z=z%i;if(x=(x+1)%i,x===m&&(m=(m+1)%i),A-y<c)return;const Z=j&&A-j;return Z?Math.round(_*1e3/Z):void 0}}function Mh(i,c){let u=0,d=1e3/c,x,m;const y=(A,j=Date.now())=>{u=j,x=null,m&&(clearTimeout(m),m=null),i(...A)};return[(...A)=>{const j=Date.now(),z=j-u;z>=d?y(A,j):(x=A,m||(m=setTimeout(()=>{m=null,y(x)},d-z)))},()=>x&&y(x)]}const Hn=(i,c,u=3)=>{let d=0;const x=Oh(50,250);return Mh(m=>{const y=m.loaded,b=m.lengthComputable?m.total:void 0,k=y-d,A=x(k),j=y<=b;d=y;const z={loaded:y,total:b,progress:b?y/b:void 0,bytes:k,rate:A||void 0,estimated:A&&b&&j?(b-y)/A:void 0,event:m,lengthComputable:b!=null,[c?"download":"upload"]:!0};i(z)},u)},Nf=(i,c)=>{const u=i!=null;return[d=>c[0]({lengthComputable:u,total:i,loaded:d}),c[1]]},wf=i=>(...c)=>R.asap(()=>i(...c)),Uh=ht.hasStandardBrowserEnv?((i,c)=>u=>(u=new URL(u,ht.origin),i.protocol===u.protocol&&i.host===u.host&&(c||i.port===u.port)))(new URL(ht.origin),ht.navigator&&/(msie|trident)/i.test(ht.navigator.userAgent)):()=>!0,qh=ht.hasStandardBrowserEnv?{write(i,c,u,d,x,m){const y=[i+"="+encodeURIComponent(c)];R.isNumber(u)&&y.push("expires="+new Date(u).toGMTString()),R.isString(d)&&y.push("path="+d),R.isString(x)&&y.push("domain="+x),m===!0&&y.push("secure"),document.cookie=y.join("; ")},read(i){const c=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return c?decodeURIComponent(c[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Bh(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function Hh(i,c){return c?i.replace(/\/?\/$/,"")+"/"+c.replace(/^\/+/,""):i}function Ff(i,c,u){let d=!Bh(c);return i&&(d||u==!1)?Hh(i,c):c}const Sf=i=>i instanceof kt?{...i}:i;function kl(i,c){c=c||{};const u={};function d(A,j,z,_){return R.isPlainObject(A)&&R.isPlainObject(j)?R.merge.call({caseless:_},A,j):R.isPlainObject(j)?R.merge({},j):R.isArray(j)?j.slice():j}function x(A,j,z,_){if(R.isUndefined(j)){if(!R.isUndefined(A))return d(void 0,A,z,_)}else return d(A,j,z,_)}function m(A,j){if(!R.isUndefined(j))return d(void 0,j)}function y(A,j){if(R.isUndefined(j)){if(!R.isUndefined(A))return d(void 0,A)}else return d(void 0,j)}function b(A,j,z){if(z in c)return d(A,j);if(z in i)return d(void 0,A)}const k={url:m,method:m,data:m,baseURL:y,transformRequest:y,transformResponse:y,paramsSerializer:y,timeout:y,timeoutMessage:y,withCredentials:y,withXSRFToken:y,adapter:y,responseType:y,xsrfCookieName:y,xsrfHeaderName:y,onUploadProgress:y,onDownloadProgress:y,decompress:y,maxContentLength:y,maxBodyLength:y,beforeRedirect:y,transport:y,httpAgent:y,httpsAgent:y,cancelToken:y,socketPath:y,responseEncoding:y,validateStatus:b,headers:(A,j,z)=>x(Sf(A),Sf(j),z,!0)};return R.forEach(Object.keys({...i,...c}),function(j){const z=k[j]||x,_=z(i[j],c[j],j);R.isUndefined(_)&&z!==b||(u[j]=_)}),u}const Jf=i=>{const c=kl({},i);let{data:u,withXSRFToken:d,xsrfHeaderName:x,xsrfCookieName:m,headers:y,auth:b}=c;c.headers=y=kt.from(y),c.url=Vf(Ff(c.baseURL,c.url,c.allowAbsoluteUrls),i.params,i.paramsSerializer),b&&y.set("Authorization","Basic "+btoa((b.username||"")+":"+(b.password?unescape(encodeURIComponent(b.password)):"")));let k;if(R.isFormData(u)){if(ht.hasStandardBrowserEnv||ht.hasStandardBrowserWebWorkerEnv)y.setContentType(void 0);else if((k=y.getContentType())!==!1){const[A,...j]=k?k.split(";").map(z=>z.trim()).filter(Boolean):[];y.setContentType([A||"multipart/form-data",...j].join("; "))}}if(ht.hasStandardBrowserEnv&&(d&&R.isFunction(d)&&(d=d(c)),d||d!==!1&&Uh(c.url))){const A=x&&m&&qh.read(m);A&&y.set(x,A)}return c},Lh=typeof XMLHttpRequest<"u",Yh=Lh&&function(i){return new Promise(function(u,d){const x=Jf(i);let m=x.data;const y=kt.from(x.headers).normalize();let{responseType:b,onUploadProgress:k,onDownloadProgress:A}=x,j,z,_,Z,H;function w(){Z&&Z(),H&&H(),x.cancelToken&&x.cancelToken.unsubscribe(j),x.signal&&x.signal.removeEventListener("abort",j)}let Q=new XMLHttpRequest;Q.open(x.method.toUpperCase(),x.url,!0),Q.timeout=x.timeout;function J(){if(!Q)return;const te=kt.from("getAllResponseHeaders"in Q&&Q.getAllResponseHeaders()),ce={data:!b||b==="text"||b==="json"?Q.responseText:Q.response,status:Q.status,statusText:Q.statusText,headers:te,config:i,request:Q};Kf(function(F){u(F),w()},function(F){d(F),w()},ce),Q=null}"onloadend"in Q?Q.onloadend=J:Q.onreadystatechange=function(){!Q||Q.readyState!==4||Q.status===0&&!(Q.responseURL&&Q.responseURL.indexOf("file:")===0)||setTimeout(J)},Q.onabort=function(){Q&&(d(new fe("Request aborted",fe.ECONNABORTED,i,Q)),Q=null)},Q.onerror=function(){d(new fe("Network Error",fe.ERR_NETWORK,i,Q)),Q=null},Q.ontimeout=function(){let ue=x.timeout?"timeout of "+x.timeout+"ms exceeded":"timeout exceeded";const ce=x.transitional||Xf;x.timeoutErrorMessage&&(ue=x.timeoutErrorMessage),d(new fe(ue,ce.clarifyTimeoutError?fe.ETIMEDOUT:fe.ECONNABORTED,i,Q)),Q=null},m===void 0&&y.setContentType(null),"setRequestHeader"in Q&&R.forEach(y.toJSON(),function(ue,ce){Q.setRequestHeader(ce,ue)}),R.isUndefined(x.withCredentials)||(Q.withCredentials=!!x.withCredentials),b&&b!=="json"&&(Q.responseType=x.responseType),A&&([_,H]=Hn(A,!0),Q.addEventListener("progress",_)),k&&Q.upload&&([z,Z]=Hn(k),Q.upload.addEventListener("progress",z),Q.upload.addEventListener("loadend",Z)),(x.cancelToken||x.signal)&&(j=te=>{Q&&(d(!te||te.type?new xs(null,i,Q):te),Q.abort(),Q=null)},x.cancelToken&&x.cancelToken.subscribe(j),x.signal&&(x.signal.aborted?j():x.signal.addEventListener("abort",j)));const ee=Dh(x.url);if(ee&&ht.protocols.indexOf(ee)===-1){d(new fe("Unsupported protocol "+ee+":",fe.ERR_BAD_REQUEST,i));return}Q.send(m||null)})},Qh=(i,c)=>{const{length:u}=i=i?i.filter(Boolean):[];if(c||u){let d=new AbortController,x;const m=function(A){if(!x){x=!0,b();const j=A instanceof Error?A:this.reason;d.abort(j instanceof fe?j:new xs(j instanceof Error?j.message:j))}};let y=c&&setTimeout(()=>{y=null,m(new fe(`timeout ${c} of ms exceeded`,fe.ETIMEDOUT))},c);const b=()=>{i&&(y&&clearTimeout(y),y=null,i.forEach(A=>{A.unsubscribe?A.unsubscribe(m):A.removeEventListener("abort",m)}),i=null)};i.forEach(A=>A.addEventListener("abort",m));const{signal:k}=d;return k.unsubscribe=()=>R.asap(b),k}},Vh=function*(i,c){let u=i.byteLength;if(u<c){yield i;return}let d=0,x;for(;d<u;)x=d+c,yield i.slice(d,x),d=x},Xh=async function*(i,c){for await(const u of Gh(i))yield*Vh(u,c)},Gh=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const c=i.getReader();try{for(;;){const{done:u,value:d}=await c.read();if(u)break;yield d}}finally{await c.cancel()}},kf=(i,c,u,d)=>{const x=Xh(i,c);let m=0,y,b=k=>{y||(y=!0,d&&d(k))};return new ReadableStream({async pull(k){try{const{done:A,value:j}=await x.next();if(A){b(),k.close();return}let z=j.byteLength;if(u){let _=m+=z;u(_)}k.enqueue(new Uint8Array(j))}catch(A){throw b(A),A}},cancel(k){return b(k),x.return()}},{highWaterMark:2})},Gn=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",$f=Gn&&typeof ReadableStream=="function",Zh=Gn&&(typeof TextEncoder=="function"?(i=>c=>i.encode(c))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),Wf=(i,...c)=>{try{return!!i(...c)}catch{return!1}},Kh=$f&&Wf(()=>{let i=!1;const c=new Request(ht.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!c}),Tf=64*1024,yd=$f&&Wf(()=>R.isReadableStream(new Response("").body)),Ln={stream:yd&&(i=>i.body)};Gn&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(c=>{!Ln[c]&&(Ln[c]=R.isFunction(i[c])?u=>u[c]():(u,d)=>{throw new fe(`Response type '${c}' is not supported`,fe.ERR_NOT_SUPPORT,d)})})})(new Response);const Fh=async i=>{if(i==null)return 0;if(R.isBlob(i))return i.size;if(R.isSpecCompliantForm(i))return(await new Request(ht.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(R.isArrayBufferView(i)||R.isArrayBuffer(i))return i.byteLength;if(R.isURLSearchParams(i)&&(i=i+""),R.isString(i))return(await Zh(i)).byteLength},Jh=async(i,c)=>{const u=R.toFiniteNumber(i.getContentLength());return u??Fh(c)},$h=Gn&&(async i=>{let{url:c,method:u,data:d,signal:x,cancelToken:m,timeout:y,onDownloadProgress:b,onUploadProgress:k,responseType:A,headers:j,withCredentials:z="same-origin",fetchOptions:_}=Jf(i);A=A?(A+"").toLowerCase():"text";let Z=Qh([x,m&&m.toAbortSignal()],y),H;const w=Z&&Z.unsubscribe&&(()=>{Z.unsubscribe()});let Q;try{if(k&&Kh&&u!=="get"&&u!=="head"&&(Q=await Jh(j,d))!==0){let ce=new Request(c,{method:"POST",body:d,duplex:"half"}),q;if(R.isFormData(d)&&(q=ce.headers.get("content-type"))&&j.setContentType(q),ce.body){const[F,oe]=Nf(Q,Hn(wf(k)));d=kf(ce.body,Tf,F,oe)}}R.isString(z)||(z=z?"include":"omit");const J="credentials"in Request.prototype;H=new Request(c,{..._,signal:Z,method:u.toUpperCase(),headers:j.normalize().toJSON(),body:d,duplex:"half",credentials:J?z:void 0});let ee=await fetch(H,_);const te=yd&&(A==="stream"||A==="response");if(yd&&(b||te&&w)){const ce={};["status","statusText","headers"].forEach($=>{ce[$]=ee[$]});const q=R.toFiniteNumber(ee.headers.get("content-length")),[F,oe]=b&&Nf(q,Hn(wf(b),!0))||[];ee=new Response(kf(ee.body,Tf,F,()=>{oe&&oe(),w&&w()}),ce)}A=A||"text";let ue=await Ln[R.findKey(Ln,A)||"text"](ee,i);return!te&&w&&w(),await new Promise((ce,q)=>{Kf(ce,q,{data:ue,headers:kt.from(ee.headers),status:ee.status,statusText:ee.statusText,config:i,request:H})})}catch(J){throw w&&w(),J&&J.name==="TypeError"&&/Load failed|fetch/i.test(J.message)?Object.assign(new fe("Network Error",fe.ERR_NETWORK,i,H),{cause:J.cause||J}):fe.from(J,J&&J.code,i,H)}}),pd={http:uh,xhr:Yh,fetch:$h};R.forEach(pd,(i,c)=>{if(i){try{Object.defineProperty(i,"name",{value:c})}catch{}Object.defineProperty(i,"adapterName",{value:c})}});const Af=i=>`- ${i}`,Wh=i=>R.isFunction(i)||i===null||i===!1,Pf={getAdapter:i=>{i=R.isArray(i)?i:[i];const{length:c}=i;let u,d;const x={};for(let m=0;m<c;m++){u=i[m];let y;if(d=u,!Wh(u)&&(d=pd[(y=String(u)).toLowerCase()],d===void 0))throw new fe(`Unknown adapter '${y}'`);if(d)break;x[y||"#"+m]=d}if(!d){const m=Object.entries(x).map(([b,k])=>`adapter ${b} `+(k===!1?"is not supported by the environment":"is not available in the build"));let y=c?m.length>1?`since :
`+m.map(Af).join(`
`):" "+Af(m[0]):"as no adapter specified";throw new fe("There is no suitable adapter to dispatch the request "+y,"ERR_NOT_SUPPORT")}return d},adapters:pd};function xd(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new xs(null,i)}function Ef(i){return xd(i),i.headers=kt.from(i.headers),i.data=fd.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),Pf.getAdapter(i.adapter||br.adapter)(i).then(function(d){return xd(i),d.data=fd.call(i,i.transformResponse,d),d.headers=kt.from(d.headers),d},function(d){return Zf(d)||(xd(i),d&&d.response&&(d.response.data=fd.call(i,i.transformResponse,d.response),d.response.headers=kt.from(d.response.headers))),Promise.reject(d)})}const If="1.11.0",Zn={};["object","boolean","number","function","string","symbol"].forEach((i,c)=>{Zn[i]=function(d){return typeof d===i||"a"+(c<1?"n ":" ")+i}});const _f={};Zn.transitional=function(c,u,d){function x(m,y){return"[Axios v"+If+"] Transitional option '"+m+"'"+y+(d?". "+d:"")}return(m,y,b)=>{if(c===!1)throw new fe(x(y," has been removed"+(u?" in "+u:"")),fe.ERR_DEPRECATED);return u&&!_f[y]&&(_f[y]=!0,console.warn(x(y," has been deprecated since v"+u+" and will be removed in the near future"))),c?c(m,y,b):!0}};Zn.spelling=function(c){return(u,d)=>(console.warn(`${d} is likely a misspelling of ${c}`),!0)};function Ph(i,c,u){if(typeof i!="object")throw new fe("options must be an object",fe.ERR_BAD_OPTION_VALUE);const d=Object.keys(i);let x=d.length;for(;x-- >0;){const m=d[x],y=c[m];if(y){const b=i[m],k=b===void 0||y(b,m,i);if(k!==!0)throw new fe("option "+m+" must be "+k,fe.ERR_BAD_OPTION_VALUE);continue}if(u!==!0)throw new fe("Unknown option "+m,fe.ERR_BAD_OPTION)}}const Bn={assertOptions:Ph,validators:Zn},na=Bn.validators;let Sl=class{constructor(c){this.defaults=c||{},this.interceptors={request:new vf,response:new vf}}async request(c,u){try{return await this._request(c,u)}catch(d){if(d instanceof Error){let x={};Error.captureStackTrace?Error.captureStackTrace(x):x=new Error;const m=x.stack?x.stack.replace(/^.+\n/,""):"";try{d.stack?m&&!String(d.stack).endsWith(m.replace(/^.+\n.+\n/,""))&&(d.stack+=`
`+m):d.stack=m}catch{}}throw d}}_request(c,u){typeof c=="string"?(u=u||{},u.url=c):u=c||{},u=kl(this.defaults,u);const{transitional:d,paramsSerializer:x,headers:m}=u;d!==void 0&&Bn.assertOptions(d,{silentJSONParsing:na.transitional(na.boolean),forcedJSONParsing:na.transitional(na.boolean),clarifyTimeoutError:na.transitional(na.boolean)},!1),x!=null&&(R.isFunction(x)?u.paramsSerializer={serialize:x}:Bn.assertOptions(x,{encode:na.function,serialize:na.function},!0)),u.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?u.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:u.allowAbsoluteUrls=!0),Bn.assertOptions(u,{baseUrl:na.spelling("baseURL"),withXsrfToken:na.spelling("withXSRFToken")},!0),u.method=(u.method||this.defaults.method||"get").toLowerCase();let y=m&&R.merge(m.common,m[u.method]);m&&R.forEach(["delete","get","head","post","put","patch","common"],H=>{delete m[H]}),u.headers=kt.concat(y,m);const b=[];let k=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(u)===!1||(k=k&&w.synchronous,b.unshift(w.fulfilled,w.rejected))});const A=[];this.interceptors.response.forEach(function(w){A.push(w.fulfilled,w.rejected)});let j,z=0,_;if(!k){const H=[Ef.bind(this),void 0];for(H.unshift(...b),H.push(...A),_=H.length,j=Promise.resolve(u);z<_;)j=j.then(H[z++],H[z++]);return j}_=b.length;let Z=u;for(z=0;z<_;){const H=b[z++],w=b[z++];try{Z=H(Z)}catch(Q){w.call(this,Q);break}}try{j=Ef.call(this,Z)}catch(H){return Promise.reject(H)}for(z=0,_=A.length;z<_;)j=j.then(A[z++],A[z++]);return j}getUri(c){c=kl(this.defaults,c);const u=Ff(c.baseURL,c.url,c.allowAbsoluteUrls);return Vf(u,c.params,c.paramsSerializer)}};R.forEach(["delete","get","head","options"],function(c){Sl.prototype[c]=function(u,d){return this.request(kl(d||{},{method:c,url:u,data:(d||{}).data}))}});R.forEach(["post","put","patch"],function(c){function u(d){return function(m,y,b){return this.request(kl(b||{},{method:c,headers:d?{"Content-Type":"multipart/form-data"}:{},url:m,data:y}))}}Sl.prototype[c]=u(),Sl.prototype[c+"Form"]=u(!0)});let Ih=class ex{constructor(c){if(typeof c!="function")throw new TypeError("executor must be a function.");let u;this.promise=new Promise(function(m){u=m});const d=this;this.promise.then(x=>{if(!d._listeners)return;let m=d._listeners.length;for(;m-- >0;)d._listeners[m](x);d._listeners=null}),this.promise.then=x=>{let m;const y=new Promise(b=>{d.subscribe(b),m=b}).then(x);return y.cancel=function(){d.unsubscribe(m)},y},c(function(m,y,b){d.reason||(d.reason=new xs(m,y,b),u(d.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(c){if(this.reason){c(this.reason);return}this._listeners?this._listeners.push(c):this._listeners=[c]}unsubscribe(c){if(!this._listeners)return;const u=this._listeners.indexOf(c);u!==-1&&this._listeners.splice(u,1)}toAbortSignal(){const c=new AbortController,u=d=>{c.abort(d)};return this.subscribe(u),c.signal.unsubscribe=()=>this.unsubscribe(u),c.signal}static source(){let c;return{token:new ex(function(x){c=x}),cancel:c}}};function ey(i){return function(u){return i.apply(null,u)}}function ty(i){return R.isObject(i)&&i.isAxiosError===!0}const bd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(bd).forEach(([i,c])=>{bd[c]=i});function tx(i){const c=new Sl(i),u=Rf(Sl.prototype.request,c);return R.extend(u,Sl.prototype,c,{allOwnKeys:!0}),R.extend(u,c,null,{allOwnKeys:!0}),u.create=function(x){return tx(kl(i,x))},u}const Me=tx(br);Me.Axios=Sl;Me.CanceledError=xs;Me.CancelToken=Ih;Me.isCancel=Zf;Me.VERSION=If;Me.toFormData=Xn;Me.AxiosError=fe;Me.Cancel=Me.CanceledError;Me.all=function(c){return Promise.all(c)};Me.spread=ey;Me.isAxiosError=ty;Me.mergeConfig=kl;Me.AxiosHeaders=kt;Me.formToJSON=i=>Gf(R.isHTMLForm(i)?new FormData(i):i);Me.getAdapter=Pf.getAdapter;Me.HttpStatusCode=bd;Me.default=Me;const{Axios:Uy,AxiosError:qy,CanceledError:By,isCancel:Hy,CancelToken:Ly,VERSION:Yy,all:Qy,Cancel:Vy,isAxiosError:Xy,spread:Gy,toFormData:Zy,AxiosHeaders:Ky,HttpStatusCode:Fy,formToJSON:Jy,getAdapter:$y,mergeConfig:Wy}=Me,ay="api",pe=Me.create({baseURL:ay,headers:{"Content-Type":"application/json",Accept:"application/json"},withCredentials:!0});pe.interceptors.request.use(i=>i);pe.interceptors.response.use(i=>i,i=>(console.error("API Error:",i),Promise.reject(i)));const Sa={getProducts:()=>pe.get("products.php"),createSale:i=>pe.post("sales.php",i),createSaleForm:i=>pe.post("sales.php",i,{headers:{"Content-Type":"multipart/form-data"}}),getSales:()=>pe.get("sales.php"),getSaleDetails:i=>pe.get("sale_details.php",{params:{sale_id:i}}),processReturn:i=>pe.post("process_return.php",i),login:i=>pe.post("login.php",i),logout:()=>pe.post("logout.php"),checkAuth:()=>pe.get("login.php"),get:i=>pe.get(i),post:(i,c)=>pe.post(i,c),put:(i,c)=>pe.put(i,c),delete:i=>pe.delete(i)},ax=C.createContext(void 0),ly=({children:i})=>{const[c,u]=C.useState(null),[d,x]=C.useState(!0),[m,y]=C.useState(!1),b=async()=>{if(!m)try{const z=await Sa.checkAuth();z.data.success&&z.data.logged_in?u(z.data.user):u(null)}catch{u(null)}finally{x(!1),y(!0)}},k=async(z,_)=>{try{const Z=await Sa.login({username:z,password:_});return Z.data.success?(u(Z.data.user),x(!1),!0):!1}catch{return!1}},A=async()=>{try{await Sa.logout()}catch(z){console.error("Logout error:",z)}finally{u(null)}};C.useEffect(()=>{b()},[]);const j={user:c,isAuthenticated:!!c,loading:d,login:k,logout:A,checkAuth:b};return l.jsx(ax.Provider,{value:j,children:i})},us={name:"Your Business Name",address:"123 Street, City",phone:"+92 300 0000000",logoUrl:"/logo-light.png"},lx=C.createContext(void 0),sy=({children:i})=>{const[c,u]=C.useState("compact"),[d,x]=C.useState(us);C.useEffect(()=>{(async()=>{try{const b=(await Me.get("/api/settings.php")).data?.settings;b&&(b.receipt_template&&u(b.receipt_template),x({name:b.business_name||us.name,address:b.business_address||us.address,phone:b.business_phone||us.phone,logoUrl:b.logo_url||us.logoUrl}))}catch{try{const y=localStorage.getItem("pos_settings");if(y){const b=JSON.parse(y);b.receiptTemplate&&u(b.receiptTemplate),b.business&&x({...us,...b.business})}}catch{}}})()},[]),C.useEffect(()=>{(async()=>{try{await Me.post("/api/settings.php",{business_name:d.name,business_address:d.address,business_phone:d.phone,logo_url:d.logoUrl,receipt_template:c})}catch{}try{localStorage.setItem("pos_settings",JSON.stringify({receiptTemplate:c,business:d}))}catch{}})()},[c,d]);const m=C.useMemo(()=>({receiptTemplate:c,business:d,setReceiptTemplate:y=>u(y),updateBusiness:y=>x(b=>({...b,...y}))}),[c,d]);return l.jsx(lx.Provider,{value:m,children:i})},Tl=()=>{const i=C.useContext(lx);if(!i)throw new Error("useSettings must be used within SettingsProvider");return i},sx=C.createContext(void 0),Kn=()=>{const i=C.useContext(sx);if(!i)throw new Error("useConfirm must be used within ConfirmProvider");return i},ry=({children:i})=>{const[c,u]=C.useState(!1),[d,x]=C.useState({}),m=C.useRef(()=>{}),y=C.useRef(null),b=C.useCallback(j=>(x(j),u(!0),new Promise(z=>{m.current=z})),[]),k=C.useCallback(j=>{u(!1),m.current&&m.current(j)},[]);C.useEffect(()=>{if(!c)return;y.current?.focus();const j=z=>{z.key==="Enter"&&(z.preventDefault(),k(!0)),z.key==="Escape"&&(z.preventDefault(),k(!1))};return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[c,k]);const A=C.useMemo(()=>({confirm:b}),[b]);return l.jsxs(sx.Provider,{value:A,children:[i,c&&l.jsxs("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center",children:[l.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:()=>k(!1)}),l.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-sm mx-4 p-5",children:[l.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:d.title||"Please confirm"}),d.message&&l.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-4",children:d.message}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{className:"px-3 py-2 rounded border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600",onClick:()=>k(!1),children:d.cancelText||"Cancel"}),l.jsx("button",{ref:y,className:`${d.danger?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"} px-3 py-2 rounded text-white`,onClick:()=>k(!0),children:d.confirmText||"Confirm"})]})]})]})]})},rx=C.createContext(void 0),ka=()=>{const i=C.useContext(rx);if(i===void 0)throw new Error("useHeader must be used within a HeaderProvider");return i},ny=()=>{try{const i=localStorage.getItem("header_visible");if(i!==null)return JSON.parse(i)}catch(i){console.error("Error loading header state from localStorage:",i)}return!0},iy=({children:i})=>{const[c,u]=C.useState(ny);C.useEffect(()=>{try{localStorage.setItem("header_visible",JSON.stringify(c))}catch(x){console.error("Error saving header state to localStorage:",x)}},[c]);const d=()=>{u(x=>!x)};return l.jsx(rx.Provider,{value:{showHeader:c,setShowHeader:u,toggleHeader:d},children:i})},Ta=()=>{const i=C.useContext(ax);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i},ll=()=>{const[i,c]=C.useState(!1),[u,d]=C.useState(!1),{user:x,logout:m}=Ta();ka();const[y,b]=C.useState(!1),[k,A]=C.useState(!1),j=zf(),z=gm(),{business:_}=Tl();C.useEffect(()=>{const Q=localStorage.getItem("theme");Q==="dark"||!Q&&window.matchMedia("(prefers-color-scheme: dark)").matches?(c(!0),document.documentElement.classList.add("dark"),document.documentElement.classList.remove("theme-light")):(c(!1),document.documentElement.classList.remove("dark"),document.documentElement.classList.add("theme-light"))},[]);const Z=()=>{const Q=!i;c(Q),Q?(document.documentElement.classList.add("dark"),document.documentElement.classList.remove("theme-light"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),document.documentElement.classList.add("theme-light"),localStorage.setItem("theme","light"))},H=async()=>{await m(),j("/login")},w=Q=>z.pathname===Q;return l.jsx("div",{className:"bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:l.jsxs("nav",{className:"relative z-40 bg-white dark:bg-gray-800/60 shadow-lg backdrop-blur",children:[l.jsx("div",{className:"w-full px-3 sm:px-4",children:l.jsxs("div",{className:"flex justify-between h-16",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsx(xt,{to:"/dashboard",className:"flex-shrink-0 flex items-center min-w-0",children:l.jsx("img",{src:_.logoUrl||"/logo-light.png",alt:"Logo",className:"h-8 w-24 rounded mr-2"})}),l.jsxs("div",{className:"hidden sm:ml-4 sm:flex sm:space-x-3",children:[l.jsxs(xt,{to:"/dashboard",className:`inline-flex items-center px-3 py-2 rounded-md text-sm font-medium ${w("/dashboard")?"!text-blue-700 dark:!text-blue-100 !bg-blue-100/80 dark:!bg-blue-900/80":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[l.jsx("i",{className:"fas fa-tachometer-alt mr-2"}),"Dashboard"]}),l.jsxs(xt,{to:"/products",className:`inline-flex items-center px-3 py-2 rounded-md text-sm font-medium ${w("/products")?"!text-blue-700 dark:!text-blue-100 !bg-blue-100/80 dark:!bg-blue-900/80":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[l.jsx("i",{className:"fas fa-box mr-2"}),"Products"]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>A(Q=>!Q),className:`inline-flex items-center px-3 py-2 rounded-md text-sm font-medium ${w("/vendors")||w("/purchases")?"!text-blue-700 dark:!text-blue-100 !bg-blue-100/80 dark:!bg-blue-900/80":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[l.jsx("i",{className:"fas fa-truck mr-2"}),"Vendors",l.jsx("i",{className:`fas fa-chevron-down ml-2 text-xs transition-transform ${k?"rotate-180":""}`})]}),k&&l.jsx("div",{className:"absolute z-[999] mt-2 w-44 rounded-md shadow-lg bg-white dark:bg-gray-800/60 backdrop-blur border border-gray-200 dark:border-gray-700",children:l.jsxs("div",{className:"py-1",children:[l.jsxs(xt,{to:"/vendors",onClick:()=>A(!1),className:`block px-4 py-2 text-sm ${w("/vendors")?"text-blue-700 dark:text-blue-500":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[l.jsx("i",{className:"fas fa-users mr-2"}),"Vendors"]}),l.jsxs(xt,{to:"/purchases",onClick:()=>A(!1),className:`block px-4 py-2 text-sm ${w("/purchases")?"text-blue-700 dark:text-blue-500":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[l.jsx("i",{className:"fas fa-shopping-cart mr-2"}),"Purchases"]})]})})]}),l.jsxs(xt,{to:"/sales",className:`inline-flex items-center px-3 py-2 rounded-md text-sm font-medium ${w("/sales")?"!text-blue-700 dark:!text-blue-100 !bg-blue-100/80 dark:!bg-blue-900/80":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[l.jsx("i",{className:"fas fa-cash-register mr-2"}),"POS Sales"]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{onClick:()=>b(Q=>!Q),className:`inline-flex items-center px-3 py-2 rounded-md text-sm font-medium ${w("/reports")||w("/returns")?"!text-blue-700 dark:!text-blue-100 !bg-blue-100/80 dark:!bg-blue-900/80":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[l.jsx("i",{className:"fas fa-chart-bar mr-2"}),"Reports",l.jsx("i",{className:`fas fa-chevron-down ml-2 text-xs transition-transform ${y?"rotate-180":""}`})]}),y&&l.jsx("div",{className:"absolute z-[999] mt-2 w-44 rounded-md shadow-lg bg-white dark:bg-gray-800/60 backdrop-blur border border-gray-200 dark:border-gray-700",children:l.jsxs("div",{className:"py-1",children:[l.jsxs(xt,{to:"/reports",onClick:()=>b(!1),className:`block px-4 py-2 text-sm ${w("/reports")?"text-blue-700 dark:text-blue-500":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[l.jsx("i",{className:"fas fa-chart-line mr-2"}),"Reports"]}),l.jsxs(xt,{to:"/returns",onClick:()=>b(!1),className:`block px-4 py-2 text-sm ${w("/returns")?"text-blue-700 dark:text-blue-500":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[l.jsx("i",{className:"fas fa-undo mr-2"}),"Returns"]})]})})]}),l.jsxs(xt,{to:"/settings",className:`inline-flex items-center px-3 py-2 rounded-md text-sm font-medium ${w("/settings")?"!text-blue-700 dark:!text-blue-100 !bg-blue-100/80 dark:!bg-blue-900/80":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:[l.jsx("i",{className:"fas fa-cog mr-2"}),"Settings"]})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("button",{id:"mobileMenuToggle",className:"sm:hidden inline-flex items-center justify-center w-9 h-9 mr-2 rounded-md border border-gray-300 text-gray-600 hover:bg-gray-100 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700","aria-expanded":u,"aria-controls":"mobileMenu",title:"Menu",onClick:()=>d(!u),children:l.jsx("i",{className:"fas fa-bars"})}),l.jsx("div",{className:"hidden sm:ml-6 sm:flex sm:items-center",children:l.jsx("div",{className:"ml-3 relative",children:l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsx("button",{id:"darkModeToggle",type:"button",className:"inline-flex items-center justify-center w-9 h-9 rounded-md border border-gray-300 text-gray-600 hover:bg-gray-100 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500","aria-pressed":i,title:i?"Switch to light mode":"Switch to dark mode",onClick:Z,children:l.jsx("i",{className:`fas ${i?"fa-sun":"fa-moon"}`})}),l.jsxs("span",{className:"text-gray-700 dark:text-gray-300 text-sm",children:["Welcome, ",x?.username||"User"]}),l.jsxs("button",{onClick:H,className:"text-gray-500 hover:text-gray-700 text-sm font-medium",children:[l.jsx("i",{className:"fas fa-sign-out-alt mr-1"}),"Logout"]})]})})})]})]})}),l.jsx("div",{id:"mobileMenu",className:`${u?"block":"hidden"} sm:hidden max-h-[60vh] overflow-y-auto`,children:l.jsxs("div",{className:"pt-2 pb-3 space-y-1",children:[l.jsxs(xt,{to:"/dashboard",className:`block pl-3 pr-4 py-2 border-l-4 text-base font-medium ${w("/dashboard")?"border-blue-500 !text-blue-700 dark:!text-blue-100 !bg-blue-100/80 dark:!bg-blue-900/80":"border-transparent text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 hover:border-gray-300 hover:text-gray-700 dark:hover:text-white"}`,children:[l.jsx("i",{className:"fas fa-tachometer-alt mr-2"}),"Dashboard"]}),l.jsxs(xt,{to:"/products",className:`block pl-3 pr-4 py-2 border-l-4 text-base font-medium ${w("/products")?"border-blue-500 !text-blue-700 dark:!text-blue-100 !bg-blue-100/80 dark:!bg-blue-900/80":"border-transparent text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 hover:border-gray-300 hover:text-gray-700 dark:hover:text-white"}`,children:[l.jsx("i",{className:"fas fa-box mr-2"}),"Products"]}),l.jsxs("details",{className:"group",children:[l.jsxs("summary",{className:`pl-3 pr-4 py-2 border-l-4 text-base font-medium list-none cursor-pointer ${w("/vendors")||w("/purchases")?"border-blue-500 !text-blue-700 dark:!text-blue-100 !bg-blue-100/80 dark:!bg-blue-900/80":"border-transparent text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 hover:border-gray-300 hover:text-gray-700 dark:hover:text-white"}`,children:[l.jsx("i",{className:"fas fa-truck mr-2"}),"Vendors",l.jsx("i",{className:"fas fa-chevron-down ml-2 text-xs transition-transform"})]}),l.jsxs("div",{className:"ml-6 mt-1 space-y-1",children:[l.jsxs(xt,{to:"/vendors",className:`block pl-3 pr-4 py-2 text-base font-medium ${w("/vendors")?"!text-blue-700 dark:text-blue-500 bg-blue-100/40 dark:bg-blue-900/10":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 hover:text-gray-700 dark:hover:text-white"}`,children:[l.jsx("i",{className:"fas fa-users mr-2"}),"Vendors"]}),l.jsxs(xt,{to:"/purchases",className:`block pl-3 pr-4 py-2 text-base font-medium ${w("/purchases")?"!text-blue-700 dark:text-blue-500 bg-blue-100/40 dark:bg-blue-900/10":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 hover:text-gray-700 dark:hover:text-white"}`,children:[l.jsx("i",{className:"fas fa-shopping-cart mr-2"}),"Purchases"]})]})]}),l.jsxs(xt,{to:"/sales",className:`block pl-3 pr-4 py-2 border-l-4 text-base font-medium ${w("/sales")?"border-blue-500 !text-blue-700 dark:!text-blue-100 !bg-blue-100/80 dark:!bg-blue-900/80":"border-transparent text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 hover:border-gray-300 hover:text-gray-700 dark:hover:text-white"}`,children:[l.jsx("i",{className:"fas fa-cash-register mr-2"}),"POS Sales"]}),l.jsxs("details",{className:"group",children:[l.jsxs("summary",{className:`pl-3 pr-4 py-2 border-l-4 text-base font-medium list-none cursor-pointer ${w("/reports")||w("/returns")?"border-blue-500 !text-blue-700 dark:!text-blue-100 !bg-blue-100/80 dark:!bg-blue-900/80":"border-transparent text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 hover:border-gray-300 hover:text-gray-700 dark:hover:text-white"}`,children:[l.jsx("i",{className:"fas fa-chart-bar mr-2"}),"Reports",l.jsx("i",{className:"fas fa-chevron-down ml-2 text-xs transition-transform"})]}),l.jsxs("div",{className:"ml-6 mt-1 space-y-1",children:[l.jsxs(xt,{to:"/reports",className:`block pl-3 pr-4 py-2 text-base font-medium ${w("/reports")?"!text-blue-700 dark:text-blue-500 bg-blue-100/40 dark:bg-blue-900/10":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 hover:text-gray-700 dark:hover:text-white"}`,children:[l.jsx("i",{className:"fas fa-chart-line mr-2"}),"Reports"]}),l.jsxs(xt,{to:"/returns",className:`block pl-3 pr-4 py-2 text-base font-medium ${w("/returns")?"!text-blue-700 dark:text-blue-500 bg-blue-100/40 dark:bg-blue-900/10":"text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 hover:text-gray-700 dark:hover:text-white"}`,children:[l.jsx("i",{className:"fas fa-undo mr-2"}),"Returns"]})]})]}),l.jsxs(xt,{to:"/settings",className:`block pl-3 pr-4 py-2 border-l-4 text-base font-medium ${w("/settings")?"border-blue-500 !text-blue-700 dark:!text-blue-100 !bg-blue-100/80 dark:!bg-blue-900/80":"border-transparent text-gray-600 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800 hover:border-gray-300 hover:text-gray-700 dark:hover:text-white"}`,children:[l.jsx("i",{className:"fas fa-cog mr-2"}),"Settings"]})]})})]})})};function cy(){const[i,c]=C.useState([]),[u,d]=C.useState([]),[x,m]=C.useState(""),[y,b]=C.useState(!0),[k,A]=C.useState(0),[j,z]=C.useState(!1),[_,Z]=C.useState("cash"),[H,w]=C.useState(0),[Q,J]=C.useState(0),{showHeader:ee,toggleHeader:te}=ka(),[ue,ce]=C.useState(!1),[q,F]=C.useState(!1),[oe,$]=C.useState(""),[Ne,V]=C.useState(!1),[le,Le]=C.useState([]),[it,Ge]=C.useState(!1),[O,K]=C.useState("grid"),[ae,Se]=C.useState(!1),[_e,Ze]=C.useState([]),[he,ke]=C.useState(null),[qe,gt]=C.useState([]),[We,Aa]=C.useState("cash"),[bt,B]=C.useState(0),[W,de]=C.useState(0),[je,ct]=C.useState(new Set),Wt=C.useRef(!1),[ia,gs]=C.useState(!1),[ge,Fn]=C.useState(null);C.useEffect(()=>{const g=D=>{const M=D.key,X=M.toLowerCase();if((D.ctrlKey||D.metaKey)&&X==="f"){D.preventDefault(),(document.getElementById("searchInputReact")||document.getElementById("searchInput"))?.focus();return}if(M==="F2"){D.preventDefault(),(document.getElementById("searchInputReact")||document.getElementById("searchInput"))?.focus();return}if(D.ctrlKey&&M==="Enter"||D.altKey&&X==="p"){D.preventDefault(),u.length>0&&z(!0);return}if(D.altKey&&X==="k"){D.preventDefault(),u.length>0&&($(""),F(!0));return}if(D.altKey&&X==="r"){D.preventDefault(),V(!0);return}if(M==="Delete"){u.length>0&&Ea();return}if(D.altKey&&X==="c"){D.preventDefault(),u.length>0&&Ea();return}if(M==="+"||M==="="){if(D.preventDefault(),u.length>0){const G=u[u.length-1];rl(G.product.id,G.quantity+1)}return}if(M==="-"){if(D.preventDefault(),u.length>0){const G=u[u.length-1];rl(G.product.id,G.quantity-1)}return}};return window.addEventListener("keydown",g),()=>window.removeEventListener("keydown",g)},[u.length]),C.useEffect(()=>{if(!Wt.current)try{const g=localStorage.getItem("pos_cart");if(console.log("Loading cart from localStorage:",g),g){const X=JSON.parse(g);console.log("Parsed cart:",X),Array.isArray(X)&&X.length>0?(d(X),console.log("Cart loaded successfully with",X.length,"items")):console.log("Parsed cart is empty or invalid")}else console.log("No saved cart found in localStorage");const D=localStorage.getItem("parked_carts");if(D){const X=JSON.parse(D);Array.isArray(X)&&Le(X)}const M=localStorage.getItem("search_layout");(M==="list"||M==="grid")&&K(M),Wt.current=!0}catch(g){console.error("Error loading cart from localStorage:",g),Wt.current=!0}},[]),C.useEffect(()=>{try{console.log("Saving cart to localStorage:",u),u.length>0?(localStorage.setItem("pos_cart",JSON.stringify(u)),console.log("Cart saved successfully")):(localStorage.removeItem("pos_cart"),console.log("Cart cleared from localStorage"))}catch(g){console.error("Error saving cart to localStorage:",g)}},[u]),C.useEffect(()=>{try{localStorage.setItem("search_layout",O)}catch(g){console.error("Error saving search layout to localStorage:",g)}},[O]),C.useEffect(()=>{vr()},[]);const sl=(...g)=>{for(const D of g)if(D!=null){const M=String(D);if(M.trim().length>0)return M}return""},vr=async()=>{try{const M=(await Sa.getProducts()).data,X=Array.isArray(M)?M.map(G=>({id:Number(G.id),name:sl(G.name),sku:sl(G.sku,G.SKU,G.product_sku,G.code,G.product_code),barcode:sl(G.barcode,G.BARCODE,G.product_barcode,G.ean,G.upc),category_name:sl(G.category_name,G.category),price:Number(G.price??0),stock:Number(G.stock??0),tax_rate:G.tax_rate!=null?Number(G.tax_rate):0})):[];c(X)}catch(g){console.error("Error loading products:",g),c([])}finally{b(!1)}},Gt=g=>{d(D=>{const M=D.find(xe=>xe.product.id===g.id),X=M?M.quantity:0;if(X+1>g.stock){const xe=g.stock-X;return xe<=0?alert(` Out of Stock!

"${g.name}" is currently out of stock.
Available: ${g.stock}
In cart: ${X}`):alert(` Low Stock Alert!

"${g.name}" has limited stock remaining.
Available: ${g.stock}
In cart: ${X}
Remaining: ${xe}`),D}let ne=-1;if(M){const xe=D.map(Te=>Te.product.id===g.id?{...Te,quantity:Te.quantity+1}:Te);return ne=xe.findIndex(Te=>Te.product.id===g.id),ct(new Set([g.id])),setTimeout(()=>{const Te=document.querySelectorAll("#cartItems tbody tr");ne>=0&&Te[ne]&&Te[ne].scrollIntoView({behavior:"smooth",block:"center"})},100),xe}else{const xe=[...D,{product:g,quantity:1}];return ne=xe.length-1,ct(new Set([g.id])),setTimeout(()=>{const Te=document.querySelectorAll("#cartItems tbody tr");ne>=0&&Te[ne]&&Te[ne].scrollIntoView({behavior:"smooth",block:"center"})},100),xe}})};C.useEffect(()=>{if(je.size>0){const g=setTimeout(()=>{ct(new Set)},2e3);return()=>clearTimeout(g)}},[je]);const Jn=g=>{d(D=>D.filter(M=>M.product.id!==g)),ct(D=>{const M=new Set(D);return M.delete(g),M})},rl=(g,D)=>{if(D<=0){Jn(g);return}d(M=>{const X=M.find(G=>G.product.id===g);return X?D>X.product.stock?(alert(` Low Stock Alert!

"${X.product.name}" has limited stock.
Available: ${X.product.stock}
Requested: ${D}

Quantity has been set to maximum available stock.`),M.map(G=>G.product.id===g?{...G,quantity:X.product.stock}:G)):M.map(G=>G.product.id===g?{...G,quantity:D}:G):M}),ct(M=>{const X=new Set(M);return X.delete(g),X})},$n=()=>{let g=0,D=0,M=0;for(const xe of u){const Te=Number(xe.product.tax_rate||0),Ke=xe.product.price*xe.quantity,Mt=Te>0?Ke/(1+Te/100):Ke,dt=Ke-Mt;g+=Mt,D+=dt,M+=Ke}const X=Math.max(0,M-k);let G=g,ne=D;if(k>0&&M>0){const xe=X/M;G=g*xe,ne=D*xe}return{subtotal:G,tax:ne,total:X}},{subtotal:ms,tax:Pt,total:Be}=$n(),Ot=g=>{Le(g);try{localStorage.setItem("parked_carts",JSON.stringify(g))}catch{}},yt=()=>{$(""),F(!0)},Wn=()=>{if(u.length===0)return;const D=[{id:String(Date.now()),note:oe.trim(),createdAt:new Date().toISOString(),cart:u},...le];Ot(D),F(!1),d([])},Pn=g=>{d(g.cart);const D=le.filter(M=>M.id!==g.id);Ot(D),V(!1)},In=g=>{Ot(le.filter(D=>D.id!==g.id))},{confirm:Al}=Kn(),Ea=async()=>{u.length===0||!await Al({title:"Clear cart?",message:"Remove all items from the cart.",confirmText:"Clear"})||(d([]),localStorage.removeItem("pos_cart"))},It=async()=>{try{const g=await Sa.getSales();Ze(g.data||[])}catch(g){console.error("Error loading sales:",g),Ze([])}},El=async g=>{try{const M=(await Sa.getSaleDetails(g)).data.sale,X={id:M.id,date:M.date,total_amount:M.total_amount,items:M.items.map(ne=>({sale_item_id:ne.id,product_id:ne.product_id||0,product_name:ne.product_name,quantity:ne.quantity,price:ne.price,tax_rate:ne.tax_rate,returned_qty:0,remaining_qty:ne.quantity}))};ke(X);const G=X.items.map(ne=>({sale_item_id:ne.sale_item_id,product_id:ne.product_id,product_name:ne.product_name,quantity:ne.quantity,return_qty:0,reason:"",refund_amount:0}));gt(G),Se(!1),Ge(!0)}catch(D){console.error("Error loading sale details:",D),alert("Error loading sale details")}},_a=(g,D,M)=>{if(gt(X=>X.map((G,ne)=>{if(ne===g){const xe={...G,[D]:M};if(D==="return_qty"){const Ke=(he?.items[g]?.price||0)*Number(M);xe.refund_amount=Ke}return xe}return G})),D==="return_qty"){const X=qe.reduce((G,ne,xe)=>{if(xe===g){const Te=he?.items[g]?.price||0;return G+Te*Number(M)}return G+ne.refund_amount},0);if(We==="cash")B(X),de(0);else if(We==="card")B(0),de(X);else if(We==="mixed"){const G=X/2;B(G),de(X-G)}}},_l=()=>qe.reduce((g,D)=>g+D.refund_amount,0),jr=g=>{Aa(g);const D=_l();if(g==="cash")B(D),de(0);else if(g==="card")B(0),de(D);else if(g==="mixed"){const M=D/2;B(M),de(D-M)}},Nr=async()=>{const g=qe.filter(M=>M.return_qty>0&&M.reason.trim());if(g.length===0){alert("Please select items to return and provide reasons");return}const D=_l();if(We==="cash"&&bt<D){alert("Cash refund amount is less than total refund");return}if(We==="card"&&W<D){alert("Card refund amount is less than total refund");return}if(We==="mixed"&&bt+W<D){alert("Total refund amount is less than required");return}try{const M=await Sa.processReturn({sale_id:he.id,items:g.map(G=>({sale_item_id:G.sale_item_id,product_id:G.product_id,quantity:G.return_qty,reason:G.reason})),refund_method:We,refund_cash:bt,refund_card:W}),X=M?.data?.receipt_id??M?.data?.receipt?.id;X&&await hs(X),Ge(!1),ke(null),gt([])}catch(M){console.error("Error processing return:",M),alert("Error processing return")}},hs=async g=>{try{const D=await Sa.get(`return_receipt.php?receipt_id=${g}`);if(!D?.data?.success)return;const M=D.data.receipt,X=window.open("","_blank","width=400,height=600,scrollbars=yes,resizable=yes");if(!X)return;const G=(M.items||[]).map(xe=>{const Te=Number(xe.price||0),Ke=Number(xe.return_qty||0),Mt=Number(xe.refund_amount??Te*Ke);return`
          <tr>
            <td style="padding: 2px; font-size: 12px;">${xe.product_name||xe.name||""}</td>
            <td style="padding: 2px; font-size: 12px; text-align: center;">${Ke}</td>
            <td style="padding: 2px; font-size: 12px; text-align: right;">${Te.toFixed(2)}</td>
            <td style="padding: 2px; font-size: 12px; text-align: right;">${Mt.toFixed(2)}</td>
          </tr>
        `}).join(""),ne=`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Return #${M.id}</title>
          <style>
            body{font-family: Arial, sans-serif; margin:0; padding:2mm; font-size:11px; line-height:1.2; width:76mm; overflow-x:hidden}
            table{width:100%; border-collapse:collapse; font-size:10px; table-layout:fixed}
            th,td{padding:1px; text-align:left; word-wrap:break-word}
            th:nth-child(1),td:nth-child(1){width:45%}
            th:nth-child(2),td:nth-child(2){width:15%; text-align:center}
            th:nth-child(3),td:nth-child(3){width:20%; text-align:right}
            th:nth-child(4),td:nth-child(4){width:20%; text-align:right}
            @media print{body{margin:0; padding:2mm; width:76mm} @page{margin:0; size:80mm auto}}
          </style>
        </head>
        <body>
          <div style="font-size:14px; line-height:1.3; width:100%; margin:0; padding:0 3mm;">
            <div style="margin-bottom:3px; text-align:center;">
              <h2 style="font-size:18px; margin:0;">RETURN RECEIPT</h2>
              <p style="font-size:12px; margin:2px 0;">Return #${M.id}</p>
              ${M.sale_id?`<p style="font-size:12px; margin:2px 0;">Original Sale #${M.sale_id}</p>`:""}
              <p style="font-size:12px; margin:2px 0;">${new Date(M.date||Date.now()).toLocaleDateString()} ${new Date(M.date||Date.now()).toLocaleTimeString()}</p>
            </div>

            <div style="margin-bottom:3px;">
              <table>
                <thead>
                  <tr style="border-bottom:1px solid #ccc;">
                    <th style="padding:2px; font-size:12px;">Item</th>
                    <th style="padding:2px; font-size:12px;">Qty</th>
                    <th style="padding:2px; font-size:12px;">Price</th>
                    <th style="padding:2px; font-size:12px;">Refund</th>
                  </tr>
                </thead>
                <tbody>
                  ${G}
                </tbody>
              </table>
            </div>

            <div style="margin-top:3px; border-top:1px solid #ccc;">
              <table style="width:100%; border-collapse:collapse;">
                <tr>
                  <td style="text-align:left; padding:1px 2px; font-size:12px;">Total Refund:</td>
                  <td style="text-align:right; padding:1px 2px; font-size:12px;">Rs. ${Number(M.total_refund||M.total||0).toFixed(2)}</td>
                </tr>
                ${Number(M.cash_refund||M.cash_amount||0)>0?`<tr><td style="text-align:left; padding:1px 2px; font-size:12px;">Cash Refund:</td><td style="text-align:right; padding:1px 2px; font-size:12px;">Rs. ${Number(M.cash_refund||M.cash_amount||0).toFixed(2)}</td></tr>`:""}
                ${Number(M.card_refund||M.card_amount||0)>0?`<tr><td style="text-align:left; padding:1px 2px; font-size:12px;">Card Refund:</td><td style="text-align:right; padding:1px 2px; font-size:12px;">Rs. ${Number(M.card_refund||M.card_amount||0).toFixed(2)}</td></tr>`:""}
              </table>
            </div>

            <div style="margin-top:3px; text-align:center;">
              <p style="font-size:12px; margin:2px 0;">Thank you!</p>
            </div>
          </div>
          <script>
            window.onload = function(){ window.print(); window.close(); };
          <\/script>
        </body>
        </html>
      `;X.document.write(ne),X.document.close()}catch(D){console.error("Failed to print return receipt",D)}},{business:Pe}=Tl(),ei=()=>{z(!0);const g=Math.max(0,Be-k);if(_==="cash")w(Number(g.toFixed(2))),J(0);else if(_==="card")w(0),J(Number(g.toFixed(2)));else{const D=Number((g/2).toFixed(2));w(D),J(Number((g-D).toFixed(2)))}},wr=g=>{Z(g);const D=Math.max(0,Be-k);if(g==="cash")w(Number(D.toFixed(2))),J(0);else if(g==="card")w(0),J(Number(D.toFixed(2)));else{const M=Number((D/2).toFixed(2));w(M),J(Number((D-M).toFixed(2)))}};C.useEffect(()=>{if(j){const g=Math.max(0,Be-k);if(_==="cash")w(Number(g.toFixed(2))),J(0);else if(_==="card")w(0),J(Number(g.toFixed(2)));else{const D=Number((g/2).toFixed(2));w(D),J(Number((g-D).toFixed(2)))}}},[k,Be,_,j]);const ys=(()=>{const g=Math.max(0,Be-k),D=Number((H+Q).toFixed(2)),M=Number(g.toFixed(2));return _==="cash"?H>=M&&Q===0:_==="card"?Q>=M&&H===0:Math.abs(D-M)<.01})(),ps=async()=>{if(!ys){alert("Payment amounts do not match the total amount");return}if(u.length===0){alert("Cart is empty");return}try{const g=Math.max(0,Be-k),D={items:u.map(X=>({product_id:X.product.id,quantity:X.quantity,price:X.product.price,tax_rate:X.product.tax_rate||0})),total:g,subtotal_amount:ms,tax_amount:Pt,discount_amount:k,payment_method:_,cash_amount:H,card_amount:Q},M=await Sa.createSale(D);if(M.data.success){d([]),z(!1),w(0),J(0),A(0);const X={id:M.data.sale_id,items:u.map(G=>({name:G.product.name,quantity:G.quantity,price:G.product.price,tax_rate:G.product.tax_rate||0,total:G.product.price*G.quantity})),total:Be,tax:Pt,discount:k,final:g,payment_method:_,cash_amount:H,card_amount:Q,balance:Math.max(0,H+Q-g)};Fn(X),gs(!0),setTimeout(()=>{const G=window.open("","_blank","width=400,height=600,scrollbars=yes,resizable=yes");if(!G)return;const ne=new Date().toLocaleDateString(),xe=new Date().toLocaleTimeString();let Te="";X.items.forEach(dt=>{const Zt=dt.price*dt.quantity,ca=parseFloat(dt.tax_rate.toString())||0,Ra=ca>0?Zt/(1+ca/100):Zt,Ie=Zt-Ra;Te+=`
              <tr style="border-bottom: 1px solid #ddd;">
                <td style="padding: 2px; font-size: 12px; text-align: left;">${dt.name}</td>
                <td style="padding: 2px; font-size: 12px; text-align: center;">${dt.quantity}</td>
                <td style="padding: 2px; font-size: 12px; text-align: right;">${dt.price.toFixed(2)}</td>
                <td style="padding: 2px; font-size: 12px; text-align: right;">${Zt.toFixed(2)}</td>
              </tr>
                              <tr><td colspan="4" style="padding: 1px 2px; font-size: 10px; color: #666; text-align: right;">Tax: Rs. ${Ie.toFixed(2)} (${ca}%)</td></tr>
              <tr><td colspan="4" style="padding: 0; font-size: 10px; color: #666;"><div style="border-bottom: 1px solid #eee; margin: 1px 0;"></div></td></tr>
            `});const Ke=`
            <!DOCTYPE html>
            <html>
            <head>
              <title>Invoice #${X.id}</title>
              <style>
                body { font-family: Arial, sans-serif; margin: 0; padding: 2mm; font-size: 11px; line-height: 1.2; width: 80mm; overflow-x: hidden; }
                table { width: 100%; border-collapse: collapse; font-size: 10px; table-layout: fixed; }
                th, td { padding: 1px; text-align: left; word-wrap: break-word; }
                th:nth-child(1), td:nth-child(1) { width: 45%; }
                th:nth-child(2), td:nth-child(2) { width: 10%; text-align: center; }
                th:nth-child(3), td:nth-child(3) { width: 22%; text-align: right; }
                th:nth-child(4), td:nth-child(4) { width: 23%; text-align: right; }
                .header { text-align: center; margin-bottom: 5px; }
                .title { font-size: 16px; font-weight: bold; margin: 0; }
                .details { font-size: 10px; margin: 2px 0; }
                .totals { margin-top: 5px; }
                .total-row { font-weight: bold; }
                @media print {
                  body { margin: 0; }
                  .no-print { display: none; }
                }
              </style>
            </head>
            <body>
              <div class="header" style="color:#000;">
                ${Pe.logoUrl?`<img src="${Pe.logoUrl}" alt="logo" style="height:42px; object-fit:contain; margin-bottom:4px;" />`:""}
                <h1 class="title">${Pe.name||"INVOICE"}</h1>
                ${Pe.address?`<div class="details">${Pe.address}</div>`:""}
                ${Pe.phone?`<div class="details">${Pe.phone}</div>`:""}
                <p class="details">Sale #${X.id}</p>
                <p class="details">${ne} ${xe}</p>
              </div>
              
              <table>
                <thead>
                  <tr>
                    <th>Item</th>
                    <th>Qty</th>
                    <th>Price</th>
                    <th>Total</th>
                  </tr>
                </thead>
                <tbody>
                  ${Te}
                </tbody>
              </table>
              
              <div class="totals">
                <table style="width: 100%; border-collapse: collapse;">
                  <tr>
                    <td style="text-align: left; padding: 1px 2px; font-size: 10px;">Subtotal:</td>
                    <td style="text-align: right; padding: 1px 2px; font-size: 10px;">Rs. ${X.total.toFixed(2)}</td>
                  </tr>
                  <tr>
                    <td style="text-align: left; padding: 1px 2px; font-size: 10px;">Tax:</td>
                    <td style="text-align: right; padding: 1px 2px; font-size: 10px;">Rs. ${X.tax.toFixed(2)}</td>
                  </tr>
                  <tr>
                    <td style="text-align: left; padding: 1px 2px; font-size: 10px;">Discount:</td>
                    <td style="text-align: right; padding: 1px 2px; font-size: 10px;">-Rs. ${X.discount.toFixed(2)}</td>
                  </tr>
                  <tr class="total-row">
                    <td style="text-align: left; padding: 1px 2px; font-size: 12px; font-weight: bold;">Total:</td>
                    <td style="text-align: right; padding: 1px 2px; font-size: 12px; font-weight: bold;">Rs. ${X.final.toFixed(2)}</td>
                  </tr>
                  <tr>
                    <td style="text-align: left; padding: 1px 2px; font-size: 10px;">Payment:</td>
                    <td style="text-align: right; padding: 1px 2px; font-size: 10px;">${X.payment_method.toUpperCase()}</td>
                  </tr>
                  ${X.cash_amount>0?`<tr><td style="text-align: left; padding: 1px 2px; font-size: 10px;">Cash:</td><td style="text-align: right; padding: 1px 2px; font-size: 10px;">Rs. ${X.cash_amount.toFixed(2)}</td></tr>`:""}
                  ${X.card_amount>0?`<tr><td style="text-align: left; padding: 1px 2px; font-size: 10px;">Card:</td><td style="text-align: right; padding: 1px 2px; font-size: 10px;">Rs. ${X.card_amount.toFixed(2)}</td></tr>`:""}
                  ${X.balance>0?`<tr><td style="text-align: left; padding: 1px 2px; font-size: 10px;">Change:</td><td style="text-align: right; padding: 1px 2px; font-size: 10px;">Rs. ${X.balance.toFixed(2)}</td></tr>`:""}
                </table>
              </div>
              
              <div style="text-align: center; margin-top: 10px;">
                <p style="font-size: 10px; margin: 2px 0;">Thank you for your purchase!</p>
              </div>
              
              <div class="no-print" style="text-align: center; margin-top: 10px;">
                <button onclick="window.print()">Print Invoice</button>
                <button onclick="window.close()">Close</button>
              </div>
            </body>
            </html>
          `;G.document.write(Ke),G.document.close(),G.onload=()=>{G.print()};const Mt=setInterval(()=>{G.closed&&clearInterval(Mt)},1e3);G.addEventListener("afterprint",()=>{G.close()})},500),localStorage.removeItem("pos_cart")}else alert("Checkout failed: "+(M.data.error||"Unknown error"))}catch(g){console.error("Checkout error:",g);const D=g instanceof Error?g.message:"Network error";alert("Checkout failed: "+D)}},bs=g=>((g.name||"")+" "+(g.sku||"")+" "+(g.barcode||"")+" "+(g.category_name||"")).toLowerCase(),za=C.useMemo(()=>{const g=(x||"").toLowerCase().trim();return g?i.filter(D=>bs(D).includes(g)):i},[i,x]),Sr=g=>{const D="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium",M=g<=5?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300":g<=20?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300":"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300";return l.jsx("span",{title:`Stock: ${g}`,className:`${D} ${M}`,children:g<=0?"Out":g})};return y?l.jsx("div",{className:"h-screen flex flex-col overflow-hidden",children:l.jsx("div",{className:"flex-1 min-h-0",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-10 gap-3 sm:gap-6 h-full px-2 sm:px-3 py-2 sm:py-3",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-3 sm:p-4 flex flex-col min-h-0 md:col-span-1 lg:col-span-5",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"h-6 bg-gray-100 dark:bg-gray-700 rounded animate-pulse w-32"}),l.jsx("div",{className:"h-8 w-8 bg-gray-100 dark:bg-gray-700 rounded animate-pulse"})]}),l.jsx("div",{className:"mb-3 sm:mb-4",children:l.jsx("div",{className:"h-10 bg-gray-100 dark:bg-gray-700 rounded-md animate-pulse"})}),l.jsx("div",{className:"overflow-y-auto border border-gray-200 dark:border-gray-700 rounded-md p-2 flex-1",children:l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:[...Array(12)].map((g,D)=>l.jsx("div",{className:"p-3 border border-gray-200 dark:border-gray-700 rounded-lg",children:l.jsxs("div",{className:"space-y-2",children:[l.jsx("div",{className:"h-4 bg-gray-100 dark:bg-gray-700 rounded animate-pulse"}),l.jsx("div",{className:"h-3 bg-gray-100 dark:bg-gray-700 rounded animate-pulse w-3/4"}),l.jsx("div",{className:"h-3 bg-gray-100 dark:bg-gray-700 rounded animate-pulse w-1/2"}),l.jsxs("div",{className:"flex items-center justify-between mt-2",children:[l.jsx("div",{className:"h-4 bg-gray-100 dark:bg-gray-700 rounded animate-pulse w-16"}),l.jsx("div",{className:"h-3 bg-gray-100 dark:bg-gray-700 rounded animate-pulse w-8"})]}),l.jsx("div",{className:"h-2 bg-gray-100 dark:bg-gray-700 rounded animate-pulse w-12"})]})},D))})})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-3 sm:p-4 flex flex-col min-h-0 md:col-span-1 lg:col-span-5 relative",children:[l.jsx("div",{className:"absolute top-2 right-2 flex items-center gap-2",children:[...Array(4)].map((g,D)=>l.jsx("div",{className:"h-8 w-8 bg-gray-100 dark:bg-gray-700 rounded animate-pulse"},D))}),l.jsx("div",{className:"h-6 bg-gray-100 dark:bg-gray-700 rounded animate-pulse w-32 mb-4"}),l.jsx("div",{className:"overflow-y-auto mb-4 flex-1",children:l.jsx("div",{className:"space-y-3",children:[...Array(6)].map((g,D)=>l.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded p-3",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-3 flex-1",children:[l.jsx("div",{className:"h-4 w-4 bg-gray-100 dark:bg-gray-700 rounded animate-pulse"}),l.jsxs("div",{className:"space-y-1 flex-1",children:[l.jsx("div",{className:"h-4 bg-gray-100 dark:bg-gray-700 rounded animate-pulse w-3/4"}),l.jsx("div",{className:"h-3 bg-gray-100 dark:bg-gray-700 rounded animate-pulse w-1/2"})]})]}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx("div",{className:"h-8 w-8 bg-gray-100 dark:bg-gray-700 rounded animate-pulse"}),l.jsx("div",{className:"h-6 w-12 bg-gray-100 dark:bg-gray-700 rounded animate-pulse"}),l.jsx("div",{className:"h-8 w-8 bg-gray-100 dark:bg-gray-700 rounded animate-pulse"})]})]})},D))})}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("div",{className:"h-4 bg-gray-100 dark:bg-gray-700 rounded animate-pulse w-16"}),l.jsx("div",{className:"h-4 bg-gray-100 dark:bg-gray-700 rounded animate-pulse w-20"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("div",{className:"h-4 bg-gray-100 dark:bg-gray-700 rounded animate-pulse w-12"}),l.jsx("div",{className:"h-4 bg-gray-100 dark:bg-gray-700 rounded animate-pulse w-16"})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("div",{className:"h-4 bg-gray-100 dark:bg-gray-700 rounded animate-pulse w-20"}),l.jsx("div",{className:"h-4 bg-gray-100 dark:bg-gray-700 rounded animate-pulse w-24"})]}),l.jsx("div",{className:"border-t pt-2",children:l.jsxs("div",{className:"flex justify-between",children:[l.jsx("div",{className:"h-5 bg-gray-100 dark:bg-gray-700 rounded animate-pulse w-16"}),l.jsx("div",{className:"h-5 bg-gray-100 dark:bg-gray-700 rounded animate-pulse w-24"})]})})]}),l.jsxs("div",{className:"mt-4 space-y-2",children:[l.jsx("div",{className:"h-10 bg-gray-100 dark:bg-gray-700 rounded animate-pulse"}),l.jsx("div",{className:"h-10 bg-gray-100 dark:bg-gray-700 rounded animate-pulse"})]})]})]})})}):l.jsxs("div",{className:"h-screen flex flex-col overflow-hidden",children:[l.jsx("div",{id:"headerSection",className:`flex-shrink-0 ${ee?"p-3":"h-0"}`}),l.jsx("div",{className:"flex-1 min-h-0",children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-10 gap-3 sm:gap-6 h-full px-2 sm:px-3 py-2 sm:py-3",children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-3 sm:p-4 flex flex-col min-h-0 md:col-span-1 lg:col-span-5 text-gray-900 dark:text-gray-100",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:[l.jsx("i",{className:"fas fa-search mr-2"}),"Product Search"]}),l.jsxs("button",{className:"relative inline-flex w-24 h-8 items-center rounded-full bg-gray-200 dark:bg-gray-700 transition-colors",title:"Toggle layout",onClick:()=>K(g=>g==="grid"?"list":"grid"),children:[l.jsxs("div",{className:"absolute inset-0 flex z-0",children:[l.jsx("div",{className:"w-1/2 flex items-center justify-center",children:l.jsx("i",{className:"fas fa-th-large text-sm text-gray-700 dark:text-gray-300 opacity-60"})}),l.jsx("div",{className:"w-1/2 flex items-center justify-center",children:l.jsx("i",{className:"fas fa-list text-sm text-gray-700 dark:text-gray-300 opacity-60"})})]}),l.jsx("span",{className:`absolute top-1 left-1 h-6 w-10 rounded-full bg-blue-600 transition-transform z-10 ${O==="grid"?"translate-x-0":"translate-x-12"} flex items-center justify-center text-white`,children:l.jsx("i",{className:`fas ${O==="grid"?"fa-th-large":"fa-list"} text-xs`})})]})]}),l.jsx("div",{className:"mb-3 sm:mb-4",children:l.jsxs("div",{className:"relative",children:[l.jsx("i",{className:"fas fa-search absolute left-2 sm:left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{id:"searchInputReact","aria-labelledby":"searchInput",type:"text",placeholder:"Search by product name or SKU...",value:x,onChange:g=>m(g.target.value),onKeyDown:g=>{if(g.key==="Enter"){g.preventDefault();const D=(x||"").trim().toLowerCase();if(za.length===1){Gt(za[0]),m("");return}const M=i.find(ne=>(ne.sku||"").toLowerCase()===D);if(M){Gt(M),m("");return}const X=i.find(ne=>(ne.barcode||"").toLowerCase()===D);if(X){Gt(X),m("");return}const G=i.find(ne=>(ne.name||"").toLowerCase()===D);G&&(Gt(G),m(""))}},className:"w-full pl-8 sm:pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100 dark:placeholder-gray-400"}),l.jsx("span",{id:"searchInput",className:"sr-only",children:"Product Search"})]})}),l.jsx("div",{id:"searchResults",className:"overflow-y-auto border border-gray-200 dark:border-gray-700 rounded-md p-2 flex-1 bg-white dark:bg-gray-800",children:za.length===0?l.jsx("div",{className:"text-gray-500 text-center p-4 text-sm",children:"No products found"}):O==="grid"?l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:za.map(g=>l.jsxs("button",{onClick:()=>Gt(g),className:"p-3 border border-gray-200 dark:border-gray-700 rounded-lg hover:shadow cursor-pointer bg-white dark:bg-gray-800 text-left",children:[l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100 text-sm line-clamp-2",children:g.name}),l.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["SKU: ",g.sku||"-"]}),l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:g.category_name||""})]}),l.jsxs("div",{className:"flex items-center justify-between mt-2",children:[l.jsxs("div",{className:"font-semibold text-gray-900 dark:text-gray-100 text-sm",children:["Rs. ",g.price.toFixed(2)]}),Sr(g.stock)]}),l.jsx("div",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:"inc. tax"})]},g.id))}):l.jsx("div",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:za.map(g=>l.jsx("div",{className:"p-2 border border-gray-200 dark:border-gray-700 rounded hover:bg-gray-50 cursor-pointer dark:hover:bg-gray-700",onClick:()=>Gt(g),children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("div",{className:"flex-1 min-w-0",children:l.jsxs("div",{className:"flex items-center space-x-1",children:[l.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100 text-sm truncate",children:g.name}),l.jsx("span",{className:"text-xs text-gray-400",children:"|"}),l.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-300",children:g.sku||"-"}),l.jsx("span",{className:"text-xs text-gray-400",children:"|"}),l.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-300",children:g.category_name||""})]})}),l.jsx("div",{className:"text-right flex-shrink-0 ml-2",children:l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsxs("p",{className:"font-semibold text-gray-900 dark:text-gray-100 text-sm",children:["Rs. ",g.price.toFixed(2)]}),l.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-300",children:"inc. tax"}),Sr(g.stock)]})})]})},g.id))})})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-3 sm:p-4 flex flex-col min-h-0 md:col-span-1 lg:col-span-5 relative text-gray-900 dark:text-gray-100 z-0",children:[l.jsxs("div",{className:"absolute top-2 right-2 flex items-center gap-2 z-10",children:[l.jsx("button",{className:"bg-gray-500 hover:bg-gray-700 dark:bg-gray-600 dark:hover:bg-gray-500 text-white p-2 rounded text-sm",title:"Show Controls",onClick:()=>ce(!0),children:l.jsx("i",{className:"fas fa-keyboard"})}),l.jsx("button",{className:"bg-indigo-600 hover:bg-indigo-700 text-white p-2 rounded text-sm",title:"View Returns",onClick:()=>{Se(!0),It()},children:l.jsx("i",{className:"fas fa-clipboard-list"})}),l.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white p-2 rounded text-sm",title:"Returns/Exchanges",onClick:()=>{Se(!0),It()},children:l.jsx("i",{className:"fas fa-undo"})}),l.jsx("button",{className:"bg-gray-500 hover:bg-gray-700 dark:bg-gray-600 dark:hover:bg-gray-500 text-white p-2 rounded text-sm",onClick:te,title:ee?"Hide Header":"Show Header",children:l.jsx("i",{className:`fas ${ee?"fa-eye-slash":"fa-eye"}`})})]}),l.jsxs("h2",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-3 sm:mb-4",children:[l.jsx("i",{className:"fas fa-shopping-basket mr-2"}),"Shopping Cart"]}),l.jsx("div",{id:"cartItems",className:"overflow-y-auto overflow-x-hidden mb-4 flex-1 min-w-0 max-h-[50vh] md:max-h-[60vh] lg:max-h-none",children:u.length===0?l.jsxs("table",{className:"w-full text-sm",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:l.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[l.jsx("th",{className:"text-left py-1 px-2 font-medium text-gray-700 dark:text-gray-300 border-r border-gray-200 dark:border-gray-700",children:"Sr."}),l.jsx("th",{className:"text-left py-1 px-2 font-medium text-gray-700 dark:text-gray-300 border-r border-gray-200 dark:border-gray-700",children:"Item Name"}),l.jsx("th",{className:"text-left py-1 px-2 font-medium text-gray-700 dark:text-gray-300 border-r border-gray-200 dark:border-gray-700",children:"Desc"}),l.jsx("th",{className:"text-center py-1 px-2 font-medium text-gray-700 dark:text-gray-300 border-r border-gray-200 dark:border-gray-700",children:"Qty"}),l.jsx("th",{className:"text-right py-1 px-2 font-medium text-gray-700 dark:text-gray-300 border-r border-gray-200 dark:border-gray-700",children:"Price"}),l.jsx("th",{className:"text-right py-1 px-2 font-medium text-gray-700 dark:text-gray-300 border-r border-gray-200 dark:border-gray-700",children:"Tax"}),l.jsx("th",{className:"text-right py-1 px-2 font-medium text-gray-700 dark:text-gray-300 border-r border-gray-200 dark:border-gray-700",children:"Total"}),l.jsx("th",{className:"text-center py-1 px-2 font-medium text-gray-700 dark:text-gray-300",children:"Action"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-gray-800",children:l.jsx("tr",{children:l.jsx("td",{colSpan:8,className:"py-8 text-center text-gray-500 dark:text-gray-400",children:"Cart is empty"})})})]}):l.jsxs("table",{className:"w-full text-sm table-fixed border border-gray-200 dark:border-gray-700",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900 sticky top-0 z-0",children:l.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[l.jsx("th",{className:"text-left py-1 px-1 font-medium text-gray-700 dark:text-gray-300 border-r border-gray-200 dark:border-gray-700 w-8",children:"Sr."}),l.jsx("th",{className:"text-left py-1 px-1 font-medium text-gray-700 dark:text-gray-300 border-r border-gray-200 dark:border-gray-700 w-2/5",children:"Item Name"}),l.jsx("th",{className:"text-left py-1 px-1 font-medium text-gray-700 dark:text-gray-300 border-r border-gray-200 dark:border-gray-700 w-10",children:"Desc"}),l.jsx("th",{className:"text-center py-1 px-1 font-medium text-gray-700 dark:text-gray-300 border-r border-gray-200 dark:border-gray-700 w-10",children:"Qty"}),l.jsx("th",{className:"text-right py-1 px-1 font-medium text-gray-700 dark:text-gray-300 border-r border-gray-200 dark:border-gray-700 w-14",children:"Price"}),l.jsx("th",{className:"text-right py-1 px-1 font-medium text-gray-700 dark:text-gray-300 border-r border-gray-200 dark:border-gray-700 w-14",children:"Tax"}),l.jsx("th",{className:"text-right py-1 px-1 font-medium text-gray-700 dark:text-gray-300 border-r border-gray-200 dark:border-gray-700 w-14",children:"Total"}),l.jsx("th",{className:"text-center py-1 px-1 font-medium text-gray-700 dark:text-gray-300 w-10",children:"Action"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-gray-800",children:u.map((g,D)=>{const M=g.product.price*g.quantity,X=Number(g.product.tax_rate||0),G=X>0?M/(1+X/100):M,ne=M-G,xe=je.has(g.product.id);return l.jsxs("tr",{className:`border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 ${xe?"bg-yellow-300 dark:bg-amber-700/50 border-yellow-500 dark:border-amber-400":""}`,children:[l.jsx("td",{className:"py-1 px-1 text-gray-600 dark:text-gray-400 border-r border-gray-200 dark:border-gray-700",children:D+1}),l.jsx("td",{className:"py-1 px-1 font-medium text-gray-900 dark:text-gray-100 border-r border-gray-200 dark:border-gray-700",children:g.product.name}),l.jsx("td",{className:"py-1 px-1 text-gray-600 dark:text-gray-400 text-xs border-r border-gray-200 dark:border-gray-700 whitespace-nowrap",children:X>0?`${X}% tax`:"No tax"}),l.jsx("td",{className:"py-1 px-1 text-center text-gray-900 dark:text-gray-100 border-r border-gray-200 dark:border-gray-700",children:g.quantity}),l.jsx("td",{className:"py-1 px-1 text-right text-gray-900 dark:text-gray-100 border-r border-gray-200 dark:border-gray-700",children:g.product.price.toFixed(2)}),l.jsx("td",{className:"py-1 px-1 text-right text-red-600 dark:text-red-400 border-r border-gray-200 dark:border-gray-700",children:ne.toFixed(2)}),l.jsx("td",{className:"py-1 px-1 text-right font-medium text-gray-900 dark:text-gray-100 border-r border-gray-200 dark:border-gray-700",children:M.toFixed(2)}),l.jsx("td",{className:"py-1 px-1 text-center",children:l.jsxs("div",{className:"flex items-center justify-center space-x-0.5",children:[l.jsx("button",{onClick:()=>rl(g.product.id,g.quantity-1),className:"bg-red-500 hover:bg-red-700 text-white p-0.5 rounded text-xs",title:"Decrease","aria-label":"Decrease",children:l.jsx("i",{className:"fas fa-minus text-xs"})}),l.jsx("button",{onClick:()=>rl(g.product.id,g.quantity+1),className:"bg-green-500 hover:bg-green-700 text-white p-0.5 rounded text-xs",title:"Increase","aria-label":"Increase",children:l.jsx("i",{className:"fas fa-plus text-xs"})})]})})]},g.product.id)})}),l.jsx("tfoot",{className:"bg-gray-50 dark:bg-gray-900 border-t-2 border-gray-300 dark:border-gray-700 sticky bottom-0 z-0",children:l.jsxs("tr",{className:"border-t border-gray-300 dark:border-gray-700",children:[l.jsx("td",{colSpan:4,className:"py-1 px-1 text-right font-semibold text-gray-800 dark:text-gray-200 border-r border-gray-200 dark:border-gray-700",children:"Total"}),l.jsx("td",{className:"py-1 px-1 text-right font-medium text-gray-900 dark:text-gray-100 border-r border-gray-200 dark:border-gray-700",children:ms.toFixed(2)}),l.jsx("td",{className:"py-1 px-1 text-right font-medium text-red-600 dark:text-red-400 border-r border-gray-200 dark:border-gray-700",children:Pt.toFixed(2)}),l.jsx("td",{className:"py-1 px-1 text-right font-bold text-gray-900 dark:text-gray-100 border-r border-gray-200 dark:border-gray-700",children:Be.toFixed(2)}),l.jsx("td",{className:"py-1 px-1"})]})})]})}),l.jsxs("div",{className:"border-t pt-2 flex-shrink-0",children:[l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-base font-semibold text-gray-900",children:"Final Total:"}),l.jsxs("span",{id:"finalTotal",className:"text-lg sm:text-xl font-bold text-blue-600",children:["Rs. ",Be.toFixed(2)]})]}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2 min-w-0",children:[l.jsxs("button",{onClick:yt,disabled:u.length===0,className:"shrink-0 whitespace-nowrap bg-yellow-600 hover:bg-yellow-700 disabled:bg-gray-400 disabled:hover:bg-gray-400 disabled:cursor-not-allowed text-white font-semibold py-3 px-4 rounded text-base",children:[l.jsx("i",{className:"fas fa-inbox mr-2"}),"Park Sale"]}),l.jsxs("button",{onClick:()=>V(!0),className:"shrink-0 whitespace-nowrap bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3 px-4 rounded text-base",children:[l.jsx("i",{className:"fas fa-folder-open mr-2"}),"Resume"]}),l.jsxs("button",{onClick:Ea,className:"shrink-0 whitespace-nowrap bg-red-600 hover:bg-red-700 text-white font-semibold py-3 px-4 rounded text-base",children:[l.jsx("i",{className:"fas fa-trash mr-2"}),"Clear Cart"]}),l.jsxs("button",{onClick:ei,disabled:u.length===0,className:"flex-1 min-w-0 bg-green-600 hover:bg-green-700 disabled:bg-gray-400 text-white font-bold py-3 px-4 rounded text-base",children:[l.jsx("i",{className:"fas fa-credit-card mr-2"}),"Proceed to Payment"]})]})]})]})]})}),j&&l.jsx("div",{className:"fixed inset-0 bg-gray-900/60 overflow-y-auto h-full w-full modal-overlay",onClick:g=>{g.target===g.currentTarget&&z(!1)},children:l.jsx("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white dark:bg-gray-800 dark:text-gray-100 modal-panel",onClick:g=>g.stopPropagation(),children:l.jsxs("div",{className:"mt-3",children:[l.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4",children:[l.jsx("i",{className:"fas fa-money-bill-wave mr-2"}),"Payment Details"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Method"}),l.jsxs("select",{value:_,onChange:g=>wr(g.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 dark:text-gray-100 text-gray-900 dark:text-gray-100",children:[l.jsx("option",{value:"cash",children:"Cash Only"}),l.jsx("option",{value:"card",children:"Card Only"}),l.jsx("option",{value:"mixed",children:"Cash + Card"})]})]}),l.jsxs("div",{id:"cashSection",className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Cash Amount (Rs.)"}),l.jsx("input",{type:"number",step:"0.01",min:"0",value:H,onChange:g=>w(Number(g.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 dark:text-gray-100 text-gray-900 dark:text-gray-100"})]}),l.jsxs("div",{id:"cardSection",className:`mb-4 ${_==="mixed"?"":"hidden"}`,children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Card Amount (Rs.)"}),l.jsx("input",{type:"number",step:"0.01",min:"0",value:Q,onChange:g=>J(Number(g.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 dark:text-gray-100 text-gray-900 dark:text-gray-100"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[l.jsx("i",{className:"fas fa-percentage mr-1"}),"Discount (Rs.)"]}),l.jsx("input",{type:"number",step:"0.01",min:"0",value:k,onChange:g=>A(Number(g.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 dark:text-gray-100 text-gray-900 dark:text-gray-100"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Balance/Change"}),l.jsx("input",{type:"text",value:`Rs. ${Math.max(0,H+Q-Math.max(0,Be-k)).toFixed(2)}`,readOnly:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-gray-50 dark:bg-gray-600 dark:text-gray-100 text-gray-900 dark:text-gray-100"})]})]}),l.jsx("div",{children:l.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-700 rounded-md h-full",children:[l.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 mb-3",children:"Payment Summary"}),l.jsxs("div",{className:"text-sm space-y-2",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Subtotal:"}),l.jsxs("span",{className:"text-gray-900 dark:text-gray-100",children:["Rs. ",ms.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Tax:"}),l.jsxs("span",{className:"text-gray-900 dark:text-gray-100",children:["Rs. ",Pt.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Total:"}),l.jsxs("span",{className:"text-gray-900 dark:text-gray-100",children:["Rs. ",Be.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Discount:"}),l.jsxs("span",{className:"text-red-600 dark:text-red-400",children:["-Rs. ",k.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between font-semibold border-t border-gray-300 dark:border-gray-600 pt-2 text-base",children:[l.jsx("span",{className:"text-gray-900 dark:text-gray-100",children:"Final Total:"}),l.jsxs("span",{className:"text-gray-900 dark:text-gray-100",children:["Rs. ",Math.max(0,Be-k).toFixed(2)]})]})]})]})})]}),l.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[l.jsxs("button",{onClick:()=>z(!1),className:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded",children:[l.jsx("i",{className:"fas fa-times mr-2"}),"Cancel"]}),l.jsxs("button",{onClick:ps,disabled:!ys,className:"bg-green-600 hover:bg-green-700 disabled:bg-gray-400 disabled:hover:bg-gray-400 text-white font-bold py-2 px-4 rounded",children:[l.jsx("i",{className:"fas fa-check mr-2"}),"Complete Sale"]})]})]})})}),q&&l.jsx("div",{className:"fixed inset-0 bg-gray-900/60 overflow-y-auto h-full w-full modal-overlay",onClick:g=>{g.target===g.currentTarget&&F(!1)},children:l.jsxs("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-sm shadow-lg rounded-md bg-white dark:bg-gray-800 dark:text-gray-100 modal-panel",onClick:g=>g.stopPropagation(),children:[l.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-3",children:[l.jsx("i",{className:"fas fa-sticky-note mr-2"}),"Park Sale Note"]}),l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Note (required)"}),l.jsx("input",{type:"text",value:oe,onChange:g=>$(g.target.value),required:!0,placeholder:"Customer name or reference",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100 mb-4"}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsxs("button",{className:"bg-gray-500 hover:bg-gray-700 text-white py-2 px-4 rounded",onClick:()=>F(!1),children:[l.jsx("i",{className:"fas fa-times mr-1"}),"Cancel"]}),l.jsxs("button",{className:"bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded",onClick:Wn,children:[l.jsx("i",{className:"fas fa-inbox mr-1"}),"Park"]})]})]})}),Ne&&l.jsx("div",{className:"fixed inset-0 bg-gray-900/60 overflow-y-auto h-full w-full modal-overlay",onClick:g=>{g.target===g.currentTarget&&V(!1)},children:l.jsxs("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white dark:bg-gray-800 dark:text-gray-100 modal-panel",onClick:g=>g.stopPropagation(),children:[l.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-3",children:[l.jsx("i",{className:"fas fa-folder-tree mr-2"}),"Parked Sales"]}),l.jsx("div",{className:"mb-3",children:l.jsx("input",{type:"text",placeholder:"Search notes or IDs...",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100"})}),l.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded p-2 max-h-80 overflow-y-auto text-sm",children:le.length===0?l.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"No parked sales"}):l.jsx("div",{className:"space-y-2",children:le.map(g=>l.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded p-2 flex items-center justify-between",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100 truncate",children:g.note||"No note"}),l.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[new Date(g.createdAt).toLocaleString(),"  ",g.cart.length," items"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("button",{className:"bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-1 rounded text-xs",onClick:()=>Pn(g),children:[l.jsx("i",{className:"fas fa-folder-open mr-1"}),"Resume"]}),l.jsxs("button",{className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded text-xs",onClick:()=>In(g),children:[l.jsx("i",{className:"fas fa-trash mr-1"}),"Delete"]})]})]},g.id))})}),l.jsx("div",{className:"flex justify-end space-x-2 mt-4",children:l.jsxs("button",{onClick:()=>V(!1),className:"bg-gray-500 hover:bg-gray-700 text-white py-2 px-4 rounded",children:[l.jsx("i",{className:"fas fa-times mr-1"}),"Close"]})})]})}),ue&&l.jsx("div",{className:"fixed inset-0 bg-gray-900/60 overflow-y-auto h-full w-full modal-overlay",onClick:g=>{g.target===g.currentTarget&&ce(!1)},children:l.jsxs("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white dark:bg-gray-800 dark:text-gray-100 modal-panel",onClick:g=>g.stopPropagation(),children:[l.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-3",children:[l.jsx("i",{className:"fas fa-keyboard mr-2"}),"Sales Controls"]}),l.jsxs("div",{className:"text-sm grid grid-cols-1 gap-2",children:[l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold",children:"F2 / Ctrl+F"}),"  Focus Search"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold",children:"Alt+P"}),"  Proceed to Payment"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold",children:"Alt+K"}),"  Park Sale"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold",children:"Alt+R"}),"  Open Resume"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold",children:"Alt+C"}),"  Clear Cart"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold",children:"+"}),"  Increase last item qty"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold",children:"-"}),"  Decrease last item qty"]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold",children:"Delete"}),"  Remove last item"]})]}),l.jsx("div",{className:"flex justify-end mt-4",children:l.jsxs("button",{className:"bg-gray-500 hover:bg-gray-700 text-white py-2 px-4 rounded",onClick:()=>ce(!1),children:[l.jsx("i",{className:"fas fa-times mr-1"}),"Close"]})})]})}),ae&&l.jsx("div",{className:"fixed inset-0 bg-gray-900/60 overflow-y-auto h-full w-full modal-overlay",onClick:g=>{g.target===g.currentTarget&&Se(!1)},children:l.jsxs("div",{className:"relative top-10 mx-auto p-5 border w-[95vw] max-w-2xl shadow-lg rounded-md bg-white dark:bg-gray-800 dark:text-gray-100 modal-panel max-h-[80vh] flex flex-col",onClick:g=>g.stopPropagation(),children:[l.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-3",children:[l.jsx("i",{className:"fas fa-receipt mr-2"}),"Select a Sale"]}),l.jsx("div",{className:"mb-3",children:l.jsxs("div",{className:"relative",children:[l.jsx("i",{className:"fas fa-search absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 text-gray-400"}),l.jsx("input",{type:"text",placeholder:"Search by Sale ID, cashier, or method...",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100"})]})}),l.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded p-2 overflow-y-auto text-sm flex-1 min-h-0",children:_e.length===0?l.jsx("div",{className:"text-gray-500 dark:text-gray-400",children:"Loading..."}):l.jsx("div",{className:"space-y-2",children:_e.map(g=>l.jsxs("div",{className:"border border-gray-200 dark:border-gray-700 rounded p-2 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:["Sale #",g.id]}),l.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[new Date(g.date).toLocaleString(),"  Rs. ",g.total_amount.toFixed(2)]})]}),l.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-3 py-1 rounded text-xs",onClick:()=>El(g.id),children:[l.jsx("i",{className:"fas fa-undo mr-1"}),"Return"]})]},g.id))})}),l.jsx("div",{className:"flex justify-end gap-2 mt-4",children:l.jsxs("button",{className:"bg-gray-500 hover:bg-gray-700 text-white px-4 py-2 rounded",onClick:()=>Se(!1),children:[l.jsx("i",{className:"fas fa-times mr-1"}),"Close"]})})]})}),it&&he&&l.jsx("div",{className:"fixed inset-0 bg-gray-900/60 overflow-y-auto h-full w-full modal-overlay",onClick:g=>{g.target===g.currentTarget&&Ge(!1)},children:l.jsxs("div",{className:"relative mx-auto p-5 border w-[95vw] max-w-6xl shadow-lg rounded-md bg-white dark:bg-gray-800 dark:text-gray-100 modal-panel max-h-[80vh] flex flex-col",onClick:g=>g.stopPropagation(),children:[l.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-3",children:[l.jsx("i",{className:"fas fa-undo mr-2"}),"Returns / Exchanges - Sale #",he.id]}),l.jsxs("div",{className:"mb-3 flex items-center gap-2",children:[l.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Sale Date: ",new Date(he.date).toLocaleDateString()]}),l.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Total: Rs. ",he.total_amount.toFixed(2)]})]}),l.jsx("div",{className:"border border-gray-200 dark:border-gray-700 rounded mb-3 flex-1 min-h-0 overflow-y-auto",children:l.jsxs("table",{className:"w-full text-sm table-fixed",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:l.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[l.jsx("th",{className:"text-left py-1 px-2 font-medium text-gray-700 dark:text-gray-300 w-1/3 text-xs whitespace-nowrap",children:"Item"}),l.jsx("th",{className:"text-center py-1 px-1 font-medium text-gray-700 dark:text-gray-300 w-12 text-xs whitespace-nowrap",children:"Sold"}),l.jsx("th",{className:"text-center py-1 px-1 font-medium text-gray-700 dark:text-gray-300 w-12 text-xs whitespace-nowrap",children:"Ret."}),l.jsx("th",{className:"text-center py-1 px-1 font-medium text-gray-700 dark:text-gray-300 w-12 text-xs whitespace-nowrap",children:"Rem."}),l.jsx("th",{className:"text-center py-1 px-1 font-medium text-gray-700 dark:text-gray-300 w-20 text-xs whitespace-nowrap",children:"Return Qty"}),l.jsx("th",{className:"text-left py-1 px-2 font-medium text-gray-700 dark:text-gray-300 w-56 text-xs whitespace-nowrap",children:"Reason"}),l.jsx("th",{className:"text-right py-1 px-2 font-medium text-gray-700 dark:text-gray-300 w-24 text-xs whitespace-nowrap",children:"Refund"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-gray-800",children:qe.map((g,D)=>l.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[l.jsx("td",{className:"py-1 px-2 text-gray-900 dark:text-gray-100 text-xs",children:g.product_name}),l.jsx("td",{className:"py-1 px-1 text-center text-gray-900 dark:text-gray-100 text-xs",children:g.quantity}),l.jsx("td",{className:"py-1 px-1 text-center text-gray-900 dark:text-gray-100 text-xs",children:he.items[D]?.returned_qty||0}),l.jsx("td",{className:"py-1 px-1 text-center text-gray-900 dark:text-gray-100 text-xs",children:g.quantity-(he.items[D]?.returned_qty||0)}),l.jsx("td",{className:"py-1 px-1 text-center",children:l.jsx("input",{type:"number",min:"0",max:g.quantity-(he.items[D]?.returned_qty||0),value:g.return_qty,onChange:M=>{const X=g.quantity-(he.items[D]?.returned_qty||0),G=Number(M.target.value)||0,ne=Math.min(Math.max(0,G),X);_a(D,"return_qty",ne)},className:"w-full px-1 py-0.5 border border-gray-300 rounded text-xs bg-white dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100 text-gray-900 dark:text-gray-100"})}),l.jsx("td",{className:"py-1 px-2",children:l.jsx("input",{type:"text",value:g.reason,onChange:M=>_a(D,"reason",M.target.value),placeholder:"Reason for return",className:"w-full px-2 py-1 border border-gray-300 rounded text-xs bg-white dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100 text-gray-900 dark:text-gray-100"})}),l.jsxs("td",{className:"py-1 px-2 text-right text-gray-900 dark:text-gray-100 text-xs",children:["Rs. ",g.refund_amount.toFixed(2)]})]},D))}),l.jsx("tfoot",{className:"bg-gray-50 dark:bg-gray-900 sticky bottom-0 z-10 border-t-2 border-gray-300 dark:border-gray-700",children:l.jsxs("tr",{className:"border-t border-gray-200 dark:border-gray-700",children:[l.jsx("td",{colSpan:6,className:"py-2 px-2 text-right font-semibold text-gray-800 dark:text-gray-200",children:"Total Refund"}),l.jsxs("td",{className:"py-2 px-2 text-right font-bold text-gray-900 dark:text-gray-100",children:["Rs. ",_l().toFixed(2)]})]})})]})}),l.jsxs("div",{className:"border-t pt-3 mb-3",children:[l.jsx("div",{className:"flex items-center justify-between mb-2",children:l.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:"Refund"})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-end",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Refund Method"}),l.jsxs("select",{value:We,onChange:g=>jr(g.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100 text-gray-900 dark:text-gray-100",children:[l.jsx("option",{value:"cash",children:"Cash Only"}),l.jsx("option",{value:"card",children:"Card Only"}),l.jsx("option",{value:"mixed",children:"Cash + Card"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cash Refund (Rs.)"}),l.jsx("input",{type:"number",step:"0.01",min:"0",value:bt,onChange:g=>B(Number(g.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100 text-gray-900 dark:text-gray-100"})]}),l.jsxs("div",{className:We==="mixed"?"":"hidden",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Card Refund (Rs.)"}),l.jsx("input",{type:"number",step:"0.01",min:"0",value:W,onChange:g=>de(Number(g.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-800 dark:border-gray-700 dark:text-gray-100 text-gray-900 dark:text-gray-100"})]})]}),l.jsxs("div",{className:"mt-2 text-xs text-gray-500 dark:text-gray-400",children:["Total refund must equal: ",l.jsxs("span",{className:"font-semibold",children:["Rs. ",_l().toFixed(2)]})]})]}),l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Refund will be issued to original tender (cash/card split as per sale)."}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{className:"bg-gray-500 hover:bg-gray-700 text-white px-4 py-2 rounded",onClick:()=>Ge(!1),children:[l.jsx("i",{className:"fas fa-times mr-1"}),"Close"]}),l.jsxs("button",{className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded disabled:bg-gray-400",disabled:qe.filter(g=>g.return_qty>0&&g.reason.trim()).length===0,onClick:Nr,children:[l.jsx("i",{className:"fas fa-check mr-1"}),"Process Return"]})]})]})]})}),ia&&ge&&l.jsx("div",{className:"fixed inset-0 bg-gray-900/60 overflow-y-auto h-full w-full modal-overlay",onClick:g=>{g.target===g.currentTarget&&gs(!1)},children:l.jsxs("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white dark:bg-gray-800 dark:text-gray-100 modal-panel",onClick:g=>g.stopPropagation(),children:[l.jsxs("div",{className:"text-left",style:{fontSize:"14px",lineHeight:"1.3",width:"100%",margin:0,padding:"0 3mm"},children:[l.jsxs("div",{className:"text-center mb-1",style:{marginBottom:"3px"},children:[l.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",style:{fontSize:"18px",margin:0},children:"INVOICE"}),l.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",style:{fontSize:"12px",margin:"2px 0"},children:["Sale #",ge.id]}),l.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",style:{fontSize:"12px",margin:"2px 0"},children:[new Date().toLocaleDateString()," ",new Date().toLocaleTimeString()]})]}),l.jsx("div",{className:"mb-1",style:{marginBottom:"3px"},children:l.jsxs("table",{className:"w-full text-xs",style:{fontSize:"12px",margin:"2px 0",tableLayout:"fixed"},children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-gray-300 dark:border-gray-600",children:[l.jsx("th",{className:"py-1 text-left text-gray-900 dark:text-gray-100",style:{padding:"2px",fontSize:"12px",width:"45%"},children:"Item"}),l.jsx("th",{className:"py-1 text-center text-gray-900 dark:text-gray-100",style:{padding:"2px",fontSize:"12px",width:"10%"},children:"Qty"}),l.jsx("th",{className:"py-1 text-right text-gray-900 dark:text-gray-100",style:{padding:"2px",fontSize:"12px",width:"22%"},children:"Price"}),l.jsx("th",{className:"py-1 text-right text-gray-900 dark:text-gray-100",style:{padding:"2px",fontSize:"12px",width:"23%"},children:"Total"})]})}),l.jsx("tbody",{children:ge.items.map((g,D)=>{const M=g.price*g.quantity,X=parseFloat(g.tax_rate.toString())||0,G=X>0?M/(1+X/100):M,ne=M-G;return l.jsxs(Dt.Fragment,{children:[l.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[l.jsx("td",{className:"py-1 text-left text-xs text-gray-900 dark:text-gray-100",style:{padding:"2px",fontSize:"12px"},children:g.name}),l.jsx("td",{className:"py-1 text-center text-xs text-gray-900 dark:text-gray-100",style:{padding:"2px",fontSize:"12px"},children:g.quantity}),l.jsx("td",{className:"py-1 text-right text-xs text-gray-900 dark:text-gray-100",style:{padding:"2px",fontSize:"12px"},children:g.price.toFixed(2)}),l.jsx("td",{className:"py-1 text-right text-xs text-gray-900 dark:text-gray-100",style:{padding:"2px",fontSize:"12px"},children:M.toFixed(2)})]}),l.jsx("tr",{children:l.jsxs("td",{colSpan:4,className:"py-0 text-right text-xs text-gray-600 dark:text-gray-400",style:{padding:"1px 2px",fontSize:"10px"},children:["Tax: Rs. ",ne.toFixed(2)," (",X,"%)"]})}),l.jsx("tr",{children:l.jsx("td",{colSpan:4,className:"py-0",style:{padding:0,fontSize:"10px"},children:l.jsx("div",{className:"border-b border-gray-200 dark:border-gray-600",style:{margin:"1px 0"}})})})]},D)})})]})}),l.jsx("div",{className:"border-t border-gray-300 dark:border-gray-600 pt-1",style:{marginTop:"3px"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsxs("tr",{children:[l.jsx("td",{className:"text-gray-900 dark:text-gray-100",style:{textAlign:"left",padding:"1px 2px",fontSize:"12px"},children:"Subtotal:"}),l.jsxs("td",{className:"text-gray-900 dark:text-gray-100",style:{textAlign:"right",padding:"1px 2px",fontSize:"12px"},children:["Rs. ",ge.total.toFixed(2)]})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"text-gray-900 dark:text-gray-100",style:{textAlign:"left",padding:"1px 2px",fontSize:"12px"},children:"Tax:"}),l.jsxs("td",{className:"text-gray-900 dark:text-gray-100",style:{textAlign:"right",padding:"1px 2px",fontSize:"12px"},children:["Rs. ",ge.tax.toFixed(2)]})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"text-gray-900 dark:text-gray-100",style:{textAlign:"left",padding:"1px 2px",fontSize:"12px"},children:"Discount:"}),l.jsxs("td",{className:"text-gray-900 dark:text-gray-100",style:{textAlign:"right",padding:"1px 2px",fontSize:"12px"},children:["-Rs. ",ge.discount.toFixed(2)]})]}),l.jsxs("tr",{children:[l.jsx("td",{className:"text-gray-900 dark:text-gray-100 font-bold",style:{textAlign:"left",padding:"1px 2px",fontSize:"14px"},children:"Total:"}),l.jsxs("td",{className:"text-gray-900 dark:text-gray-100 font-bold",style:{textAlign:"right",padding:"1px 2px",fontSize:"14px"},children:["Rs. ",ge.final.toFixed(2)]})]})]})}),l.jsx("div",{className:"border-t border-gray-300 dark:border-gray-600 pt-1 mt-1",style:{marginTop:"3px"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsxs("tr",{children:[l.jsx("td",{className:"text-gray-900 dark:text-gray-100",style:{textAlign:"left",padding:"1px 2px",fontSize:"12px"},children:"Payment Method:"}),l.jsx("td",{className:"text-gray-900 dark:text-gray-100",style:{textAlign:"right",padding:"1px 2px",fontSize:"12px"},children:ge.payment_method.toUpperCase()})]}),ge.cash_amount>0&&l.jsxs("tr",{children:[l.jsx("td",{className:"text-gray-900 dark:text-gray-100",style:{textAlign:"left",padding:"1px 2px",fontSize:"12px"},children:"Cash:"}),l.jsxs("td",{className:"text-gray-900 dark:text-gray-100",style:{textAlign:"right",padding:"1px 2px",fontSize:"12px"},children:["Rs. ",ge.cash_amount.toFixed(2)]})]}),ge.card_amount>0&&l.jsxs("tr",{children:[l.jsx("td",{className:"text-gray-900 dark:text-gray-100",style:{textAlign:"left",padding:"1px 2px",fontSize:"12px"},children:"Card:"}),l.jsxs("td",{className:"text-gray-900 dark:text-gray-100",style:{textAlign:"right",padding:"1px 2px",fontSize:"12px"},children:["Rs. ",ge.card_amount.toFixed(2)]})]}),ge.balance>0&&l.jsxs("tr",{children:[l.jsx("td",{className:"text-gray-900 dark:text-gray-100",style:{textAlign:"left",padding:"1px 2px",fontSize:"12px"},children:"Change:"}),l.jsxs("td",{className:"text-gray-900 dark:text-gray-100",style:{textAlign:"right",padding:"1px 2px",fontSize:"12px"},children:["Rs. ",ge.balance.toFixed(2)]})]})]})}),l.jsx("div",{className:"text-center mt-1",style:{marginTop:"3px"},children:l.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",style:{fontSize:"12px",margin:"2px 0"},children:"Thank you for your purchase!"})})]}),l.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[l.jsxs("button",{onClick:()=>gs(!1),className:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded",children:[l.jsx("i",{className:"fas fa-times mr-2"}),"Close"]}),l.jsxs("button",{onClick:()=>{const g=window.open("","_blank","width=400,height=600,scrollbars=yes,resizable=yes");if(!g||!ge)return;const D=new Date().toLocaleDateString(),M=new Date().toLocaleTimeString();let X="";ge.items.forEach(xe=>{const Te=xe.price*xe.quantity,Ke=parseFloat(xe.tax_rate.toString())||0,Mt=Ke>0?Te/(1+Ke/100):Te,dt=Te-Mt;X+=`
                    <tr style="border-bottom: 1px solid #ddd;">
                      <td style="padding: 2px; font-size: 12px; text-align: left;">${xe.name}</td>
                      <td style="padding: 2px; font-size: 12px; text-align: center;">${xe.quantity}</td>
                      <td style="padding: 2px; font-size: 12px; text-align: right;">${xe.price.toFixed(2)}</td>
                      <td style="padding: 2px; font-size: 12px; text-align: right;">${Te.toFixed(2)}</td>
                    </tr>
                    <tr><td colspan="4" style="padding: 1px 2px; font-size: 10px; color: #666; text-align: right;">Tax: Rs. ${dt.toFixed(2)} (${Ke}%)</td></tr>
                    <tr><td colspan="4" style="padding: 0; font-size: 10px; color: #666;"><div style="border-bottom: 1px solid #eee; margin: 1px 0;"></div></td></tr>
                  `});const G=`
                  <!DOCTYPE html>
                  <html>
                  <head>
                    <title>Invoice #${ge.id}</title>
                    <style>
                      body { font-family: Arial, sans-serif; margin: 0; padding: 2mm; font-size: 11px; line-height: 1.2; width: 80mm; overflow-x: hidden; }
                      table { width: 100%; border-collapse: collapse; font-size: 10px; table-layout: fixed; }
                      th, td { padding: 1px; text-align: left; word-wrap: break-word; }
                      th:nth-child(1), td:nth-child(1) { width: 45%; }
                      th:nth-child(2), td:nth-child(2) { width: 10%; text-align: center; }
                      th:nth-child(3), td:nth-child(3) { width: 22%; text-align: right; }
                      th:nth-child(4), td:nth-child(4) { width: 23%; text-align: right; }
                      .header { text-align: center; margin-bottom: 5px; }
                      .title { font-size: 16px; font-weight: bold; margin: 0; }
                      .details { font-size: 10px; margin: 2px 0; }
                      .totals { margin-top: 5px; }
                      .total-row { font-weight: bold; }
                      @media print {
                        body { margin: 0; }
                        .no-print { display: none; }
                      }
                    </style>
                  </head>
                  <body>
                    <div class="header" style="color:#000; text-align:center;">
                      ${Pe.logoUrl?`<img src="${Pe.logoUrl}" alt="logo" style="height:42px; object-fit:contain; margin-bottom:4px;" />`:""}
                      <h1 class="title">${Pe.name||"INVOICE"}</h1>
                      ${Pe.address?`<div class="details">${Pe.address}</div>`:""}
                      ${Pe.phone?`<div class="details">${Pe.phone}</div>`:""}
                      <p class="details">Sale #${ge.id}</p>
                      <p class="details">${D} ${M}</p>
                    </div>
                    
                    <table>
                      <thead>
                        <tr>
                          <th>Item</th>
                          <th>Qty</th>
                          <th>Price</th>
                          <th>Total</th>
                        </tr>
                      </thead>
                      <tbody>
                        ${X}
                      </tbody>
                    </table>
                    
                    <div class="totals">
                      <table style="width: 100%; border-collapse: collapse;">
                        <tr>
                          <td style="text-align: left; padding: 1px 2px; font-size: 10px;">Subtotal:</td>
                          <td style="text-align: right; padding: 1px 2px; font-size: 10px;">Rs. ${ge.total.toFixed(2)}</td>
                        </tr>
                        <tr>
                          <td style="text-align: left; padding: 1px 2px; font-size: 10px;">Tax:</td>
                          <td style="text-align: right; padding: 1px 2px; font-size: 10px;">Rs. ${ge.tax.toFixed(2)}</td>
                        </tr>
                        <tr>
                          <td style="text-align: left; padding: 1px 2px; font-size: 10px;">Discount:</td>
                          <td style="text-align: right; padding: 1px 2px; font-size: 10px;">-Rs. ${ge.discount.toFixed(2)}</td>
                        </tr>
                        <tr class="total-row">
                          <td style="text-align: left; padding: 1px 2px; font-size: 12px; font-weight: bold;">Total:</td>
                          <td style="text-align: right; padding: 1px 2px; font-size: 12px; font-weight: bold;">Rs. ${ge.final.toFixed(2)}</td>
                        </tr>
                        <tr>
                          <td style="text-align: left; padding: 1px 2px; font-size: 10px;">Payment:</td>
                          <td style="text-align: right; padding: 1px 2px; font-size: 10px;">${ge.payment_method.toUpperCase()}</td>
                        </tr>
                                          ${ge.cash_amount>0?`<tr><td style="text-align: left; padding: 1px 2px; font-size: 10px;">Cash:</td><td style="text-align: right; padding: 1px 2px; font-size: 10px;">Rs. ${ge.cash_amount.toFixed(2)}</td></tr>`:""}
                  ${ge.card_amount>0?`<tr><td style="text-align: left; padding: 1px 2px; font-size: 10px;">Card:</td><td style="text-align: right; padding: 1px 2px; font-size: 10px;">Rs. ${ge.card_amount.toFixed(2)}</td></tr>`:""}
                  ${ge.balance>0?`<tr><td style="text-align: left; padding: 1px 2px; font-size: 10px;">Change:</td><td style="text-align: right; padding: 1px 2px; font-size: 10px;">Rs. ${ge.balance.toFixed(2)}</td></tr>`:""}
                      </table>
                    </div>
                    
                    <div style="text-align: center; margin-top: 10px;">
                      <p style="font-size: 10px; margin: 2px 0;">Thank you for your purchase!</p>
                    </div>
                    
                    <div class="no-print" style="text-align: center; margin-top: 10px;">
                      <button onclick="window.print()">Print Invoice</button>
                      <button onclick="window.close()">Close</button>
                    </div>
                  </body>
                  </html>
                `;g.document.write(G),g.document.close(),g.onload=()=>{g.print()};const ne=setInterval(()=>{g.closed&&clearInterval(ne)},1e3);g.addEventListener("afterprint",()=>{g.close()})},className:"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded",children:[l.jsx("i",{className:"fas fa-print mr-2"}),"Print"]})]})]})})]})}const tl=({className:i="",width:c="w-full",height:u="h-4"})=>l.jsx("div",{className:`bg-gray-100 dark:bg-gray-700 rounded animate-pulse ${c} ${u} ${i}`}),Sd=()=>l.jsxs("tr",{className:"animate-pulse",children:[l.jsx("td",{className:"px-4 py-3",children:l.jsx(tl,{height:"h-4",width:"w-8"})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx(tl,{height:"h-4",width:"w-32"})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx(tl,{height:"h-4",width:"w-24"})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx(tl,{height:"h-4",width:"w-16"})}),l.jsx("td",{className:"px-4 py-3",children:l.jsx(tl,{height:"h-4",width:"w-20"})})]}),al=()=>l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border-l-4 border-gray-100",children:l.jsxs("div",{className:"flex items-center",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx(tl,{height:"h-3",width:"w-24",className:"mb-2"}),l.jsx(tl,{height:"h-8",width:"w-16"})]}),l.jsx("div",{className:"text-gray-300",children:l.jsx(tl,{height:"h-12",width:"w-12",className:"rounded"})})]})}),dy=()=>{const{isAuthenticated:i,loading:c}=Ta(),[u,d]=C.useState({products:0,sales_today:0,amount_today:0,low_stock:0}),[x,m]=C.useState([]),[y,b]=C.useState(!0);return C.useEffect(()=>{!c&&i?(async()=>{try{b(!0);const A=await pe.get("dashboard_stats.php");A.data.success&&d(A.data.stats);const j=await pe.get("recent_sales.php");j.data.success&&m(j.data.sales)}catch(A){console.error("Error fetching dashboard data:",A)}finally{b(!1)}})():!c&&!i&&b(!1)},[c,i]),y?l.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx("div",{className:"mb-8",children:l.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:[l.jsx("i",{className:"fas fa-tachometer-alt mr-3"}),"Dashboard"]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsx(al,{}),l.jsx(al,{}),l.jsx(al,{}),l.jsx(al,{})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:l.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Recent Sales"})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Cashier"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Total Amount"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:[...Array(5)].map((k,A)=>l.jsxs("tr",{className:"animate-pulse",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"h-4 bg-gray-100 dark:bg-gray-700 rounded w-24"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"h-4 bg-gray-100 dark:bg-gray-700 rounded w-20"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:l.jsx("div",{className:"h-4 bg-gray-100 dark:bg-gray-700 rounded w-16"})})]},A))})]})})]})]})}):l.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx("div",{className:"mb-8",children:l.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:[l.jsx("i",{className:"fas fa-tachometer-alt mr-3"}),"Dashboard"]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border-l-4 border-blue-500",children:l.jsxs("div",{className:"flex items-center",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Total Products"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:u.products})]}),l.jsx("div",{className:"text-blue-500",children:l.jsx("i",{className:"fas fa-box text-3xl"})})]})}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border-l-4 border-green-500",children:l.jsxs("div",{className:"flex items-center",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Sales Today"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:u.sales_today})]}),l.jsx("div",{className:"text-green-500",children:l.jsx("i",{className:"fas fa-shopping-cart text-3xl"})})]})}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border-l-4 border-indigo-500",children:l.jsxs("div",{className:"flex items-center",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-indigo-600 uppercase tracking-wide",children:"Revenue Today"}),l.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:["Rs. ",u.amount_today.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),l.jsx("div",{className:"text-indigo-500",children:l.jsx("i",{className:"fas fa-money-bill-wave text-3xl"})})]})}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border-l-4 border-yellow-500",children:l.jsxs("div",{className:"flex items-center",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-yellow-600 uppercase tracking-wide",children:"Low Stock Items"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:u.low_stock})]}),l.jsx("div",{className:"text-yellow-500",children:l.jsx("i",{className:"fas fa-exclamation-triangle text-3xl"})})]})})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:l.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Recent Sales"})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Cashier"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Total Amount"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:x.length>0?x.map(k=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:new Date(k.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:k.cashier_name}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:["Rs. ",k.total_amount.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]},k.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:3,className:"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-400",children:"No recent sales found"})})})]})})]})]})})},oy=()=>{Ta();const{confirm:i}=Kn(),[c,u]=C.useState([]),[d,x]=C.useState([]),[m,y]=C.useState(!0),[b,k]=C.useState(""),[A,j]=C.useState(""),[z,_]=C.useState(!1),[Z,H]=C.useState(!1),[w,Q]=C.useState(null),[J,ee]=C.useState({name:"",sku:"",barcode:"",category_id:"",price:"",cost_price:"0.00",tax_rate:"0.00",stock:""});C.useEffect(()=>{te()},[]);const te=async()=>{try{y(!0);const V=await pe.get("products_management.php");V.data.success&&u(V.data.products);const le=await pe.get("categories.php");le.data.success&&x(le.data.categories)}catch(V){console.error("Error fetching data:",V),j("Error loading products")}finally{y(!1)}},ue=V=>{const{name:le,value:Le}=V.target;ee(it=>({...it,[le]:Le}))},ce=()=>{ee({name:"",sku:"",barcode:"",category_id:"",price:"",cost_price:"0.00",tax_rate:"0.00",stock:""})},q=async V=>{V.preventDefault();try{const le=await pe.post("products_management.php",{action:"add",...J});le.data.success?(k("Product added successfully."),_(!1),ce(),te()):j(le.data.message||"Error adding product")}catch(le){console.error("Error adding product:",le),j("Error adding product")}},F=async V=>{if(V.preventDefault(),!!w)try{const le=await pe.post("products_management.php",{action:"edit",id:w.id,...J});le.data.success?(k("Product updated successfully."),H(!1),Q(null),ce(),te()):j(le.data.message||"Error updating product")}catch(le){console.error("Error updating product:",le),j("Error updating product")}},oe=async V=>{if(await i({title:"Delete product?",message:"This action cannot be undone.",confirmText:"Delete",danger:!0}))try{const Le=await pe.post("products_management.php",{action:"delete",id:V});Le.data.success?(k("Product deleted successfully."),te()):j(Le.data.message||"Error deleting product")}catch(Le){console.error("Error deleting product:",Le),j("Error deleting product")}},$=V=>{Q(V),ee({name:V.name,sku:V.sku,barcode:V.barcode||"",category_id:V.category_id.toString(),price:V.price.toString(),cost_price:"0.00",tax_rate:V.tax_rate.toString(),stock:V.stock.toString()}),H(!0)},Ne=()=>{ce(),_(!0)};return m?l.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:[l.jsx("i",{className:"fas fa-box mr-3"}),"Product Management"]}),l.jsx("div",{className:"h-10 w-32 bg-gray-200 dark:bg-gray-700 rounded animate-pulse"})]}),l.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Name"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"SKU"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Category"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Price"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Tax Rate"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Cost Price"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Stock"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:[...Array(8)].map((V,le)=>l.jsx(Sd,{},le))})]})})})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:[l.jsx("i",{className:"fas fa-box mr-3"}),"Product Management"]}),l.jsxs("button",{onClick:Ne,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:[l.jsx("i",{className:"fas fa-plus mr-2"}),"Add New Product"]})]}),b&&l.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:b}),A&&l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:A}),l.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Name"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"SKU"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Category"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Price"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Tax Rate"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Cost Price"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Stock"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Web"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:c.length>0?c.map(V=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:V.name}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:V.sku}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:V.category_name}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:["Rs. ",V.price.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:[V.tax_rate.toFixed(2),"%"]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:["Rs. ",V.avg_cost_price.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:l.jsx("span",{className:V.stock<10?"text-red-600 dark:text-red-400 font-semibold":"text-gray-900 dark:text-gray-100",children:V.stock})}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:[l.jsxs("label",{className:"inline-flex items-center mr-4",children:[l.jsx("input",{type:"checkbox",className:"mr-2",checked:!!V.is_published,onChange:async le=>{try{await pe.post("products_management.php",{action:"set_flags",id:V.id,is_published:le.target.checked?1:0}),te()}catch{}}}),l.jsx("span",{children:"Show"})]}),l.jsxs("label",{className:"inline-flex items-center",children:[l.jsx("input",{type:"checkbox",className:"mr-2",checked:!!V.featured,onChange:async le=>{try{await pe.post("products_management.php",{action:"set_flags",id:V.id,featured:le.target.checked?1:0}),te()}catch{}}}),l.jsx("span",{children:"Featured"})]})]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[l.jsxs("button",{onClick:()=>$(V),className:"text-indigo-600 hover:text-indigo-900 mr-3",children:[l.jsx("i",{className:"fas fa-edit mr-1"}),"Edit"]}),l.jsxs("button",{onClick:()=>oe(V.id),className:"text-red-600 hover:text-red-900",children:[l.jsx("i",{className:"fas fa-trash mr-1"}),"Delete"]})]})]},V.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:8,className:"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-400",children:"No products found"})})})]})})})]}),z&&l.jsx("div",{className:"fixed inset-0 bg-gray-900/60 overflow-y-auto h-full w-full modal-overlay",onClick:V=>{V.target===V.currentTarget&&_(!1)},children:l.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-gray-800 dark:text-gray-100 modal-panel",onClick:V=>V.stopPropagation(),children:l.jsxs("div",{className:"mt-3",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4",children:"Add New Product"}),l.jsxs("form",{onSubmit:q,children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2",children:"Name"}),l.jsx("input",{type:"text",name:"name",value:J.name,onChange:ue,required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2",children:"SKU"}),l.jsx("input",{type:"text",name:"sku",value:J.sku,onChange:ue,required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2",children:"Barcode (optional)"}),l.jsx("input",{type:"text",name:"barcode",value:J.barcode,onChange:ue,placeholder:"Scan or enter barcode",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2",children:"Category"}),l.jsxs("select",{name:"category_id",value:J.category_id,onChange:ue,required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[l.jsx("option",{value:"",children:"Select Category"}),d.map(V=>l.jsx("option",{value:V.id,children:V.name},V.id))]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2",children:"Price"}),l.jsx("input",{type:"number",name:"price",step:"0.01",value:J.price,onChange:ue,required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2",children:"Cost Price"}),l.jsx("input",{type:"number",name:"cost_price",step:"0.01",value:J.cost_price,onChange:ue,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2",children:"Tax Rate (%)"}),l.jsx("input",{type:"number",name:"tax_rate",step:"0.01",min:"0",max:"100",value:J.tax_rate,onChange:ue,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2",children:"Stock"}),l.jsx("input",{type:"number",name:"stock",value:J.stock,onChange:ue,required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),l.jsxs("div",{className:"flex justify-end",children:[l.jsxs("button",{type:"button",onClick:()=>_(!1),className:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded mr-2",children:[l.jsx("i",{className:"fas fa-times mr-2"}),"Cancel"]}),l.jsxs("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:[l.jsx("i",{className:"fas fa-plus mr-2"}),"Add Product"]})]})]})]})})}),Z&&w&&l.jsx("div",{className:"fixed inset-0 bg-gray-900/60 overflow-y-auto h-full w-full modal-overlay",onClick:V=>{V.target===V.currentTarget&&H(!1)},children:l.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-gray-800 dark:text-gray-100 modal-panel",onClick:V=>V.stopPropagation(),children:l.jsxs("div",{className:"mt-3",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4",children:"Edit Product"}),l.jsxs("form",{onSubmit:F,children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2",children:"Name"}),l.jsx("input",{type:"text",name:"name",value:J.name,onChange:ue,required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2",children:"SKU"}),l.jsx("input",{type:"text",name:"sku",value:J.sku,onChange:ue,required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2",children:"Barcode (optional)"}),l.jsx("input",{type:"text",name:"barcode",value:J.barcode,onChange:ue,placeholder:"Scan or enter barcode",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2",children:"Category"}),l.jsxs("select",{name:"category_id",value:J.category_id,onChange:ue,required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[l.jsx("option",{value:"",children:"Select Category"}),d.map(V=>l.jsx("option",{value:V.id,children:V.name},V.id))]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2",children:"Price"}),l.jsx("input",{type:"number",name:"price",step:"0.01",value:J.price,onChange:ue,required:!0,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2",children:"Tax Rate (%)"}),l.jsx("input",{type:"number",name:"tax_rate",step:"0.01",min:"0",max:"100",value:J.tax_rate,onChange:ue,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 dark:text-gray-100 bg-white dark:bg-gray-700 leading-tight focus:outline-none focus:shadow-outline"})]}),l.jsxs("div",{className:"flex justify-end",children:[l.jsxs("button",{type:"button",onClick:()=>H(!1),className:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded mr-2",children:[l.jsx("i",{className:"fas fa-times mr-2"}),"Cancel"]}),l.jsxs("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:[l.jsx("i",{className:"fas fa-save mr-2"}),"Update Product"]})]})]})]})})})]})},uy=()=>{Ta();const{confirm:i}=Kn(),[c,u]=C.useState([]),[d,x]=C.useState(!0),[m,y]=C.useState(""),[b,k]=C.useState(""),[A,j]=C.useState(!1),[z,_]=C.useState(!1),[Z,H]=C.useState(null),[w,Q]=C.useState({name:"",contact_person:"",phone:"",email:"",address:""});C.useEffect(()=>{J()},[]);const J=async()=>{try{x(!0);const $=await pe.get("vendors_management.php");$.data.success&&u($.data.vendors)}catch($){console.error("Error fetching vendors:",$),k("Error loading vendors")}finally{x(!1)}},ee=$=>{const{name:Ne,value:V}=$.target;Q(le=>({...le,[Ne]:V}))},te=()=>{Q({name:"",contact_person:"",phone:"",email:"",address:""})},ue=async $=>{$.preventDefault();try{const Ne=await pe.post("vendors_management.php",{action:"add",...w});Ne.data.success?(y("Vendor added successfully."),j(!1),te(),J()):k(Ne.data.message||"Error adding vendor")}catch(Ne){console.error("Error adding vendor:",Ne),k("Error adding vendor")}},ce=async $=>{if($.preventDefault(),!!Z)try{const Ne=await pe.post("vendors_management.php",{action:"edit",id:Z.id,...w});Ne.data.success?(y("Vendor updated successfully."),_(!1),H(null),te(),J()):k(Ne.data.message||"Error updating vendor")}catch(Ne){console.error("Error updating vendor:",Ne),k("Error updating vendor")}},q=async $=>{if(await i({title:"Delete vendor?",message:"This action cannot be undone.",confirmText:"Delete",danger:!0}))try{const V=await pe.post("vendors_management.php",{action:"delete",id:$});V.data.success?(y("Vendor deleted successfully."),J()):k(V.data.message||"Error deleting vendor")}catch(V){console.error("Error deleting vendor:",V),k("Error deleting vendor")}},F=$=>{H($),Q({name:$.name,contact_person:$.contact_person,phone:$.phone,email:$.email,address:$.address}),_(!0)},oe=()=>{te(),j(!0)};return d?l.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading vendors..."})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:[l.jsx("i",{className:"fas fa-truck mr-3"}),"Vendor Management"]}),l.jsxs("button",{onClick:oe,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:[l.jsx("i",{className:"fas fa-plus mr-2"}),"Add New Vendor"]})]}),m&&l.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:m}),b&&l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:b}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:l.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Vendors"})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Name"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Contact Person"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Phone"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Email"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Address"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:c.length>0?c.map($=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:$.name}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:$.contact_person}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:$.phone}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:$.email}),l.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 dark:text-gray-400",children:$.address}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[l.jsxs("button",{onClick:()=>F($),className:"text-indigo-600 hover:text-indigo-900 mr-3",children:[l.jsx("i",{className:"fas fa-edit mr-1"}),"Edit"]}),l.jsxs("button",{onClick:()=>q($.id),className:"text-red-600 hover:text-red-900",children:[l.jsx("i",{className:"fas fa-trash mr-1"}),"Delete"]})]})]},$.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-400",children:"No vendors found"})})})]})})]})]}),A&&l.jsx("div",{className:"fixed inset-0 bg-gray-900/60 overflow-y-auto h-full w-full modal-overlay",onClick:$=>{$.target===$.currentTarget&&j(!1)},children:l.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-gray-800 dark:text-gray-100 modal-panel",onClick:$=>$.stopPropagation(),children:l.jsxs("div",{className:"mt-3",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4",children:"Add New Vendor"}),l.jsxs("form",{onSubmit:ue,children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Vendor Name *"}),l.jsx("input",{type:"text",name:"name",value:w.name,onChange:ee,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contact Person *"}),l.jsx("input",{type:"text",name:"contact_person",value:w.contact_person,onChange:ee,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone *"}),l.jsx("input",{type:"text",name:"phone",value:w.phone,onChange:ee,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),l.jsx("input",{type:"email",name:"email",value:w.email,onChange:ee,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address"}),l.jsx("textarea",{name:"address",rows:3,value:w.address,onChange:ee,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),l.jsxs("div",{className:"flex justify-end space-x-4",children:[l.jsxs("button",{type:"button",onClick:()=>j(!1),className:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded",children:[l.jsx("i",{className:"fas fa-times mr-2"}),"Cancel"]}),l.jsxs("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:[l.jsx("i",{className:"fas fa-plus mr-2"}),"Add Vendor"]})]})]})]})})}),z&&Z&&l.jsx("div",{className:"fixed inset-0 bg-gray-900/60 overflow-y-auto h-full w-full modal-overlay",onClick:$=>{$.target===$.currentTarget&&_(!1)},children:l.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white dark:bg-gray-800 dark:text-gray-100 modal-panel",onClick:$=>$.stopPropagation(),children:l.jsxs("div",{className:"mt-3",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4",children:"Edit Vendor"}),l.jsxs("form",{onSubmit:ce,children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Vendor Name *"}),l.jsx("input",{type:"text",name:"name",value:w.name,onChange:ee,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Contact Person *"}),l.jsx("input",{type:"text",name:"contact_person",value:w.contact_person,onChange:ee,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Phone *"}),l.jsx("input",{type:"text",name:"phone",value:w.phone,onChange:ee,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),l.jsx("input",{type:"email",name:"email",value:w.email,onChange:ee,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Address"}),l.jsx("textarea",{name:"address",rows:3,value:w.address,onChange:ee,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),l.jsxs("div",{className:"flex justify-end space-x-4",children:[l.jsxs("button",{type:"button",onClick:()=>_(!1),className:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded",children:[l.jsx("i",{className:"fas fa-times mr-2"}),"Cancel"]}),l.jsxs("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:[l.jsx("i",{className:"fas fa-save mr-2"}),"Update Vendor"]})]})]})]})})})]})},fy=()=>{Ta();const{confirm:i}=Kn(),[c,u]=C.useState([]),[d,x]=C.useState([]),[m,y]=C.useState([]),[b,k]=C.useState(!0),[A,j]=C.useState(""),[z,_]=C.useState(""),[Z,H]=C.useState(!1),[w,Q]=C.useState(!1),[J,ee]=C.useState(!1),[te,ue]=C.useState("grid"),[ce,q]=C.useState(null),[F,oe]=C.useState(""),[$,Ne]=C.useState([]),[V,le]=C.useState({vendor_id:"",purchase_date:new Date().toISOString().split("T")[0],payment_method:"cash",notes:""}),Le=C.useRef(null);C.useEffect(()=>{it()},[]),C.useEffect(()=>{const B=W=>{if(!Z)return;const de=document.activeElement;de&&(de.tagName==="INPUT"||de.tagName==="TEXTAREA"||de.tagName==="SELECT")||((W.key==="F2"||(W.ctrlKey||W.metaKey)&&W.key==="f")&&(W.preventDefault(),Le.current?.focus()),(W.key==="+"||W.key==="=")&&(W.preventDefault(),Ze(1)),(W.key==="-"||W.key==="_")&&(W.preventDefault(),Ze(-1)))};return document.addEventListener("keydown",B),()=>document.removeEventListener("keydown",B)},[Z,$]);const it=async()=>{try{k(!0);const B=await pe.get("purchases_management.php");B.data.success&&u(B.data.purchases);const W=await pe.get("vendors_management.php");W.data.success&&x(W.data.vendors);const de=await pe.get("products_management.php");de.data.success&&y(de.data.products)}catch(B){console.error("Error fetching data:",B),_("Error loading data")}finally{k(!1)}},Ge=B=>{const{name:W,value:de}=B.target;le(je=>({...je,[W]:de}))},O=()=>{le({vendor_id:"",purchase_date:new Date().toISOString().split("T")[0],payment_method:"cash",notes:""}),Ne([])},K=B=>{Ne(W=>{if(W.find(je=>je.id===B.id))return W.map(je=>je.id===B.id?{...je,quantity:je.quantity+1}:je);{const je=B.avg_cost_price||B.cost_price||0;return[...W,{id:B.id,name:B.name,cost_price:je,quantity:1,stock:B.stock}]}})},ae=(B,W)=>{Ne(de=>{const je=[...de],ct=je[B].quantity+W;return ct<=0?je.splice(B,1):je[B].quantity=ct,je})},Se=(B,W)=>{Ne(de=>{const je=[...de];return je[B].cost_price=W,je})},_e=B=>{Ne(W=>W.filter((de,je)=>je!==B))},Ze=B=>{$.length!==0&&ae($.length-1,B)},he=()=>$.reduce((B,W)=>B+W.cost_price*W.quantity,0),ke=async B=>{if(B.preventDefault(),$.length===0){_("Purchase cart is empty.");return}if(!V.vendor_id||!V.purchase_date||!V.payment_method){_("Please fill all required fields.");return}try{const W=he(),de=await pe.post("purchases_management.php",{action:"add",vendor_id:V.vendor_id,purchase_date:V.purchase_date,total_amount:W,payment_method:V.payment_method,notes:V.notes,items:$});de.data.success?(j("Purchase added successfully! Purchase ID: "+de.data.purchase_id),H(!1),O(),it()):_(de.data.message||"Error adding purchase")}catch(W){console.error("Error adding purchase:",W),_("Error adding purchase")}},qe=async B=>{if(await i({title:"Delete purchase?",message:"This will reverse stock changes.",confirmText:"Delete",danger:!0}))try{const de=await pe.post("purchases_management.php",{action:"delete",id:B});de.data.success?(j("Purchase deleted successfully."),it()):_(de.data.message||"Error deleting purchase")}catch(de){console.error("Error deleting purchase:",de),_("Error deleting purchase")}},gt=async B=>{try{const W=await pe.get(`purchase_details.php?purchase_id=${B}`);W.data.success?(q(W.data.purchase),Q(!0)):_("Error loading purchase details")}catch(W){console.error("Error loading purchase details:",W),_("Error loading purchase details")}},We=()=>{O(),H(!0)},Aa=B=>((B.name||"")+" "+(B.sku||"")+" "+(B.barcode||"")+" "+(B.category_name||"")).toLowerCase(),bt=m.filter(B=>{const W=(F||"").toLowerCase().trim();return W?Aa(B).includes(W):!0});return b?l.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading purchases..."})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsxs("div",{className:"flex justify-between items-center mb-8",children:[l.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:[l.jsx("i",{className:"fas fa-shopping-cart mr-3"}),"Purchase Management"]}),l.jsxs("button",{onClick:We,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:[l.jsx("i",{className:"fas fa-plus mr-2"}),"Add New Purchase"]})]}),A&&l.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:A}),z&&l.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:z}),l.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-md rounded-lg overflow-hidden",children:l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Vendor"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Total Amount"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Payment Method"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Added By"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:c.length>0?c.map(B=>l.jsxs("tr",{children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:new Date(B.purchase_date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:B.vendor_name}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:["Rs. ",B.total_amount.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:B.payment_method}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:B.user_name}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:[l.jsxs("button",{onClick:()=>gt(B.id),className:"text-blue-600 hover:text-blue-900 mr-3",children:[l.jsx("i",{className:"fas fa-eye mr-1"}),"View"]}),l.jsxs("button",{onClick:()=>qe(B.id),className:"text-red-600 hover:text-red-900",children:[l.jsx("i",{className:"fas fa-trash mr-1"}),"Delete"]})]})]},B.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-400",children:"No purchases found"})})})]})})})]}),Z&&l.jsx("div",{className:"fixed inset-0 z-[2000] bg-gray-900/60 overflow-y-auto h-full w-full modal-overlay",onClick:B=>{B.target===B.currentTarget&&H(!1)},children:l.jsx("div",{className:"relative top-5 mx-auto p-4 sm:p-5 border w-full max-w-6xl shadow-lg rounded-md bg-white dark:bg-gray-800 dark:text-gray-100 modal-panel",onClick:B=>B.stopPropagation(),children:l.jsxs("div",{className:"mt-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100",children:[l.jsx("i",{className:"fas fa-plus mr-2"}),"Add New Purchase"]}),l.jsx("button",{className:"bg-gray-500 hover:bg-gray-700 dark:bg-gray-600 dark:hover:bg-gray-500 text-white p-2 rounded text-sm",title:"Show Controls",onClick:()=>ee(!0),children:l.jsx("i",{className:"fas fa-keyboard"})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h4",{className:"text-md font-semibold text-gray-900 dark:text-gray-100",children:[l.jsx("i",{className:"fas fa-search mr-2"}),"Product Search"]}),l.jsxs("button",{className:"relative inline-flex w-24 h-8 items-center rounded-full bg-gray-200 dark:bg-gray-700 transition-colors",title:"Toggle layout",onClick:()=>ue(B=>B==="grid"?"list":"grid"),children:[l.jsxs("div",{className:"absolute inset-0 flex z-0",children:[l.jsx("div",{className:"w-1/2 flex items-center justify-center",children:l.jsx("i",{className:"fas fa-th-large text-sm text-gray-700 dark:text-gray-300 opacity-60"})}),l.jsx("div",{className:"w-1/2 flex items-center justify-center",children:l.jsx("i",{className:"fas fa-list text-sm text-gray-700 dark:text-gray-300 opacity-60"})})]}),l.jsx("span",{className:`absolute top-1 left-1 h-6 w-10 rounded-full bg-blue-600 transition-transform z-10 ${te==="grid"?"translate-x-0":"translate-x-12"} flex items-center justify-center text-white`,children:l.jsx("i",{className:`fas ${te==="grid"?"fa-th-large":"fa-list"} text-xs`})})]})]}),l.jsx("div",{className:"mb-3 sm:mb-4",children:l.jsxs("div",{className:"relative",children:[l.jsx("i",{className:"fas fa-search absolute left-2 sm:left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),l.jsx("input",{ref:Le,type:"text",placeholder:"Search by name, SKU, barcode or category...",value:F,onChange:B=>oe(B.target.value),onKeyDown:B=>{if(B.key==="Enter"){B.preventDefault();const W=(F||"").trim().toLowerCase(),de=bt.length===1?bt[0]:null;if(de){K(de),oe("");return}const je=m.find(ia=>(ia.sku||"").toLowerCase()===W);if(je){K(je),oe("");return}const ct=m.find(ia=>(ia.barcode||"").toLowerCase()===W);if(ct){K(ct),oe("");return}const Wt=m.find(ia=>(ia.name||"").toLowerCase()===W);if(Wt){K(Wt),oe("");return}}},className:"w-full pl-8 sm:pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]})}),l.jsx("div",{className:"overflow-y-auto border border-gray-200 dark:border-gray-700 rounded-md p-2 h-64",children:bt.length>0?l.jsx("div",{className:te==="grid"?"grid grid-cols-2 sm:grid-cols-3 gap-2":"grid grid-cols-1 gap-2",children:bt.map(B=>{const W=(B.avg_cost_price||B.cost_price||0).toFixed(2),de=(()=>{const je="inline-flex items-center px-2 py-0.5 rounded-full text-[10px] font-medium",ct=B.stock<=5?"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-300":B.stock<=20?"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-300":"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300";return l.jsx("span",{className:`${je} ${ct}`,children:B.stock<=0?"Out":B.stock})})();return te==="grid"?l.jsx("button",{onClick:()=>K(B),className:"p-3 border border-gray-200 dark:border-gray-700 rounded-lg hover:shadow cursor-pointer bg-white dark:bg-gray-800 text-left",children:l.jsxs("div",{className:"space-y-1",children:[l.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100 text-sm line-clamp-2",children:B.name}),l.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:["SKU: ",B.sku]}),l.jsxs("div",{className:"flex items-center justify-between mt-2",children:[l.jsxs("div",{className:"font-semibold text-gray-900 dark:text-gray-100 text-sm",children:["Rs. ",W]}),de]})]})},B.id):l.jsx("button",{onClick:()=>K(B),className:"p-3 border border-gray-200 dark:border-gray-700 rounded-lg hover:shadow cursor-pointer bg-white dark:bg-gray-800 text-left",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-sm text-gray-900 dark:text-gray-100 truncate",children:[l.jsx("span",{className:"font-medium",children:B.name}),l.jsxs("span",{className:"text-gray-500 dark:text-gray-400 ml-2",children:["SKU: ",B.sku]}),l.jsxs("span",{className:"ml-2",children:["Rs. ",W]})]}),de]})},B.id)})}):l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"No products found"})})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:[l.jsxs("h4",{className:"text-md font-semibold text-gray-900 dark:text-gray-100 mb-4",children:[l.jsx("i",{className:"fas fa-shopping-basket mr-2"}),"Purchase Cart"]}),l.jsx("div",{className:"overflow-y-auto border border-gray-200 dark:border-gray-700 rounded-md p-2 h-64 mb-4",children:$.length>0?l.jsxs("table",{className:"w-full text-sm table-fixed",children:[l.jsx("thead",{className:"bg-gray-100 dark:bg-gray-900",children:l.jsxs("tr",{children:[l.jsx("th",{className:"text-left py-1 px-2 font-medium text-gray-700 dark:text-gray-300 w-1/2",children:"Item"}),l.jsx("th",{className:"text-center py-1 px-2 font-medium text-gray-700 dark:text-gray-300 w-16",children:"Qty"}),l.jsx("th",{className:"text-right py-1 px-2 font-medium text-gray-700 dark:text-gray-300 w-24",children:"Cost Price"}),l.jsx("th",{className:"text-right py-1 px-2 font-medium text-gray-700 dark:text-gray-300 w-28",children:"Total"}),l.jsx("th",{className:"text-center py-1 px-2 font-medium text-gray-700 dark:text-gray-300 w-10",children:"Action"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-gray-800",children:$.map((B,W)=>{const de=B.cost_price*B.quantity;return l.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[l.jsx("td",{className:"py-1 px-2 text-gray-900 dark:text-gray-100 whitespace-nowrap w-1/2",children:B.name}),l.jsxs("td",{className:"py-1 px-2 text-center text-gray-900 dark:text-gray-100 whitespace-nowrap w-16",children:[l.jsx("button",{onClick:()=>ae(W,-1),className:"bg-red-500 hover:bg-red-700 text-white p-0.5 rounded text-xs mr-1",title:"Decrease",children:l.jsx("i",{className:"fas fa-minus text-xs"})}),l.jsx("span",{className:"mx-1 align-middle text-xs",children:B.quantity}),l.jsx("button",{onClick:()=>ae(W,1),className:"bg-green-500 hover:bg-green-700 text-white p-0.5 rounded text-xs ml-1",title:"Increase",children:l.jsx("i",{className:"fas fa-plus text-xs"})})]}),l.jsx("td",{className:"py-1 px-2 text-right whitespace-nowrap w-24",children:l.jsx("input",{type:"number",step:"0.01",min:"0",value:B.cost_price.toFixed(2),onChange:je=>Se(W,parseFloat(je.target.value)||0),className:"w-20 text-right border border-gray-300 dark:border-gray-700 rounded px-1 py-1 text-xs bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100"})}),l.jsxs("td",{className:"py-1 px-2 text-right font-medium text-gray-900 dark:text-gray-100 whitespace-nowrap w-28",children:["Rs. ",de.toFixed(2)]}),l.jsx("td",{className:"py-1 px-2 text-center whitespace-nowrap w-10",children:l.jsx("button",{onClick:()=>_e(W),className:"text-red-600 hover:text-red-900 text-xs",children:l.jsx("i",{className:"fas fa-trash"})})})]},W)})})]}):l.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-center py-8",children:"Cart is empty"})}),l.jsx("div",{className:"border-t dark:border-gray-700 pt-2",children:l.jsxs("div",{className:"flex justify-between items-center mb-2",children:[l.jsx("span",{className:"text-base font-semibold text-gray-900 dark:text-gray-100",children:"Total Amount:"}),l.jsxs("span",{className:"text-xl font-bold text-blue-600",children:["Rs. ",he().toFixed(2)]})]})})]})]}),l.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Vendor *"}),l.jsxs("select",{name:"vendor_id",value:V.vendor_id,onChange:Ge,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[l.jsx("option",{value:"",children:"Select Vendor"}),d.map(B=>l.jsx("option",{value:B.id,children:B.name},B.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Purchase Date *"}),l.jsx("input",{type:"date",name:"purchase_date",value:V.purchase_date,onChange:Ge,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Payment Method *"}),l.jsxs("select",{name:"payment_method",value:V.payment_method,onChange:Ge,required:!0,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[l.jsx("option",{value:"cash",children:"Cash"}),l.jsx("option",{value:"bank_transfer",children:"Bank Transfer"}),l.jsx("option",{value:"check",children:"Check"}),l.jsx("option",{value:"credit",children:"Credit"})]})]})]}),l.jsxs("div",{className:"mt-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),l.jsx("textarea",{name:"notes",value:V.notes,onChange:Ge,rows:3,className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),l.jsxs("div",{className:"flex justify-end space-x-4 mt-6",children:[l.jsxs("button",{onClick:()=>H(!1),className:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded",children:[l.jsx("i",{className:"fas fa-times mr-2"}),"Cancel"]}),l.jsxs("button",{onClick:ke,disabled:$.length===0,className:"bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-bold py-2 px-4 rounded",children:[l.jsx("i",{className:"fas fa-check mr-2"}),"Complete Purchase"]})]})]})})}),w&&ce&&l.jsx("div",{className:"fixed inset-0 bg-gray-900/60 overflow-y-auto h-full w-full modal-overlay",onClick:B=>{B.target===B.currentTarget&&Q(!1)},children:l.jsx("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-4xl shadow-lg rounded-md bg-white dark:bg-gray-800 dark:text-gray-100 modal-panel",onClick:B=>B.stopPropagation(),children:l.jsxs("div",{className:"mt-3",children:[l.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-4",children:"Purchase Details"}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Purchase Information"}),l.jsxs("p",{children:[l.jsx("strong",{children:"Purchase ID:"})," ",ce.id]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Date:"})," ",ce.purchase_date]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Vendor:"})," ",ce.vendor_name]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Payment Method:"})," ",ce.payment_method]}),l.jsxs("p",{children:[l.jsx("strong",{children:"Added By:"})," ",ce.user_name]})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"Notes"}),l.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:ce.notes||"No notes"})]})]}),l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-900 rounded-lg p-4",children:[l.jsx("h4",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Purchase Items"}),l.jsxs("table",{className:"w-full",children:[l.jsx("thead",{className:"bg-gray-100 dark:bg-gray-900",children:l.jsxs("tr",{children:[l.jsx("th",{className:"text-left py-2 px-4 font-medium text-gray-700 dark:text-gray-300",children:"Item"}),l.jsx("th",{className:"text-center py-2 px-4 font-medium text-gray-700 dark:text-gray-300",children:"Quantity"}),l.jsx("th",{className:"text-right py-2 px-4 font-medium text-gray-700 dark:text-gray-300",children:"Cost Price"}),l.jsx("th",{className:"text-right py-2 px-4 font-medium text-gray-700 dark:text-gray-300",children:"Total"})]})}),l.jsx("tbody",{children:ce.items.map((B,W)=>{const de=B.cost_price*B.quantity;return l.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[l.jsx("td",{className:"py-2 px-4 text-sm text-gray-900 dark:text-gray-100",children:B.product_name}),l.jsx("td",{className:"py-2 px-4 text-sm text-center text-gray-900 dark:text-gray-100",children:B.quantity}),l.jsxs("td",{className:"py-2 px-4 text-sm text-right text-gray-900 dark:text-gray-100",children:["Rs. ",B.cost_price.toFixed(2)]}),l.jsxs("td",{className:"py-2 px-4 text-sm text-right font-medium text-gray-900 dark:text-gray-100",children:["Rs. ",de.toFixed(2)]})]},W)})}),l.jsx("tfoot",{className:"bg-gray-100 dark:bg-gray-900",children:l.jsxs("tr",{children:[l.jsx("td",{colSpan:3,className:"py-2 px-4 text-right font-semibold text-gray-700 dark:text-gray-300",children:"Total:"}),l.jsxs("td",{className:"py-2 px-4 text-right font-bold text-gray-900 dark:text-gray-100",children:["Rs. ",ce.total_amount.toFixed(2)]})]})})]})]}),l.jsx("div",{className:"flex justify-end mt-6",children:l.jsxs("button",{onClick:()=>Q(!1),className:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded",children:[l.jsx("i",{className:"fas fa-times mr-2"}),"Close"]})})]})})}),J&&l.jsx("div",{className:"fixed inset-0 bg-gray-900/60 overflow-y-auto h-full w-full modal-overlay",onClick:B=>{B.target===B.currentTarget&&ee(!1)},children:l.jsxs("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white dark:bg-gray-800 dark:text-gray-100 modal-panel",onClick:B=>B.stopPropagation(),children:[l.jsxs("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-3",children:[l.jsx("i",{className:"fas fa-keyboard mr-2"}),"Purchase Controls"]}),l.jsxs("ul",{className:"text-sm space-y-2",children:[l.jsxs("li",{children:[l.jsx("span",{className:"font-semibold",children:"F2 / Ctrl+F"}),"  Focus Search"]}),l.jsxs("li",{children:[l.jsx("span",{className:"font-semibold",children:"+"}),"  Increase last item qty"]}),l.jsxs("li",{children:[l.jsx("span",{className:"font-semibold",children:"-"}),"  Decrease last item qty"]})]}),l.jsx("div",{className:"flex justify-end mt-4",children:l.jsxs("button",{className:"bg-gray-500 hover:bg-gray-700 text-white py-2 px-4 rounded",onClick:()=>ee(!1),children:[l.jsx("i",{className:"fas fa-times mr-1"}),"Close"]})})]})})]})},xy=()=>{const{business:i}=Tl(),[c,u]=C.useState({total_sales:0,total_amount:0,total_items:0,avg_sale:0}),[d,x]=C.useState([]),[m,y]=C.useState(!0),[b,k]=C.useState("today"),[A,j]=C.useState(""),[z,_]=C.useState(""),[Z,H]=C.useState(!1),[w,Q]=C.useState(null);C.useEffect(()=>{J()},[b,A,z]);const J=async()=>{try{y(!0);const q=new URLSearchParams;q.append("filter",b),b==="custom"&&A&&z&&(q.append("start_date",A),q.append("end_date",z));const F=await pe.get(`reports.php?${q.toString()}`);F.data.success&&(u(F.data.stats),x(F.data.sales))}catch(q){console.error("Error fetching reports:",q)}finally{y(!1)}},ee=q=>{k(q),q!=="custom"&&(j(""),_(""))},te=async q=>{try{const F=await pe.get(`sale_details.php?sale_id=${q}`);F.data.success?(Q(F.data.sale),H(!0)):alert("Error loading invoice: "+F.data.message)}catch(F){console.error("Error loading invoice:",F),alert("Error loading invoice")}},ue=()=>{if(!w)return;const q=window.open("","_blank","width=400,height=600,scrollbars=yes,resizable=yes");if(!q){alert("Popup blocked! Please allow popups for this site and try again.");return}let F="";w.items.forEach($=>{const Ne=parseFloat($.price.toString()),V=parseInt($.quantity.toString()),le=parseFloat($.tax_rate.toString())||0,Le=Ne*V,it=le>0?Le/(1+le/100):Le,Ge=Le-it,O=$.product_name??$.name??"";F+=`
        <tr>
          <td style="padding: 2px; font-size: 12px;">${O}</td>
          <td style="padding: 2px; font-size: 12px; text-align: center;">${$.quantity}</td>
          <td style="padding: 2px; font-size: 12px; text-align: right;">${Ne.toFixed(2)}</td>
          <td style="padding: 2px; font-size: 12px; text-align: right;">${Le.toFixed(2)}</td>
        </tr>
        <tr><td colspan="4" style="padding: 1px 2px; font-size: 10px; color: #666; text-align: right;">Tax: Rs. ${Ge.toFixed(2)} (${le}%)</td></tr>
        <tr style="height: 2px;"><td colspan="4" style="border-bottom: 1px solid #ddd; padding: 0;"></td></tr>
      `});const oe=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Invoice</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 0; padding: 2mm; font-size: 11px; line-height: 1.2; width: 76mm; overflow-x: hidden; color:#000; background:#fff; }
          table { 
            width: 100%; 
            border-collapse: collapse; 
            font-size: 10px; 
            table-layout: fixed; 
          }
          th, td { 
            padding: 1px; 
            text-align: left; 
            word-wrap: break-word; 
          }
          th:nth-child(1), td:nth-child(1) { width: 35%; }
          th:nth-child(2), td:nth-child(2) { width: 15%; text-align: center; }
          th:nth-child(3), td:nth-child(3) { width: 25%; text-align: right; }
          th:nth-child(4), td:nth-child(4) { width: 25%; text-align: right; }
          .text-center { text-align: center; }
          .text-right { text-align: right; }
          .border-t { border-top: 1px solid #ccc; }
          .font-bold { font-weight: bold; }
          .duplicate-watermark { 
            position: absolute; 
            top: 50%; 
            left: 50%; 
            transform: translate(-50%, -50%) rotate(-30deg); 
            font-size: 30px; 
            color: rgba(0,0,0,0.08); 
            letter-spacing: 2px; 
            z-index: 0; 
            pointer-events: none; 
            user-select: none; 
            text-transform: uppercase; 
            font-weight: 900; 
          }
          @media print { 
            body { margin: 0; padding: 2mm; width: 76mm; } 
            @page { margin: 0; size: 80mm auto; } 
          }
        </style>
      </head>
      <body>
        <div class="print-wrapper" style="position: relative; width: 100%;">
          <div class="duplicate-watermark">DUPLICATE</div>
          <div style="font-size: 14px; line-height: 1.3; width: 100%; margin: 0; padding: 0 3mm;">
            <div style="margin-bottom: 3px; text-align: center;">
              ${i.logoUrl?`<img src="${i.logoUrl}" alt="logo" style="height:42px; object-fit:contain; margin-bottom:4px;" />`:""}
              <h2 style="font-size: 18px; margin: 0;">${i.name||"INVOICE"}</h2>
              ${i.address?`<div style="font-size:10px; margin:2px 0;">${i.address}</div>`:""}
              ${i.phone?`<div style="font-size:10px; margin:2px 0;">${i.phone}</div>`:""}
              <p style="font-size: 12px; margin: 2px 0;">Sale #${w.id}</p>
              <p style="font-size: 12px; margin: 2px 0;">${new Date(w.date).toLocaleDateString()} ${new Date(w.date).toLocaleTimeString()}</p>
            </div>
            
            <div style="margin-bottom: 3px;">
              <table>
                <thead>
                  <tr style="border-bottom: 1px solid #ccc;">
                    <th style="padding: 2px; font-size: 12px; width: 45%;">Item</th>
                    <th style="padding: 2px; font-size: 12px; width: 15%;">Qty</th>
                    <th style="padding: 2px; font-size: 12px; width: 20%;">Price</th>
                    <th style="padding: 2px; font-size: 12px; width: 20%;">Total</th>
                  </tr>
                </thead>
                <tbody>
                  ${F}
                </tbody>
              </table>
            </div>
            
            <div style="margin-top: 3px; border-top: 1px solid #ccc;">
              <table style="width: 100%; border-collapse: collapse;">
                <tr>
                  <td style="text-align: left; padding: 1px 2px; font-size: 12px;">Subtotal:</td>
                  <td style="text-align: right; padding: 1px 2px; font-size: 12px;">Rs. ${parseFloat(w.subtotal_amount?.toString()||w.total_amount.toString()).toFixed(2)}</td>
                </tr>
                <tr>
                  <td style="text-align: left; padding: 1px 2px; font-size: 12px;">Tax:</td>
                  <td style="text-align: right; padding: 1px 2px; font-size: 12px;">Rs. ${parseFloat(w.tax_amount?.toString()||"0").toFixed(2)}</td>
                </tr>
                <tr>
                  <td style="text-align: left; padding: 1px 2px; font-size: 12px;">Discount:</td>
                  <td style="text-align: right; padding: 1px 2px; font-size: 12px;">-Rs. ${parseFloat(w.discount_amount.toString()).toFixed(2)}</td>
                </tr>
                <tr>
                  <td style="text-align: left; padding: 1px 2px; font-size: 14px; font-weight: bold;">Total:</td>
                  <td style="text-align: right; padding: 1px 2px; font-size: 14px; font-weight: bold;">Rs. ${(parseFloat(w.total_amount.toString())-parseFloat(w.discount_amount.toString())).toFixed(2)}</td>
                </tr>
              </table>
            </div>
            
            <div style="margin-top: 3px; border-top: 1px solid #ccc;">
              <table style="width: 100%; border-collapse: collapse;">
                <tr>
                  <td style="text-align: left; padding: 1px 2px; font-size: 12px;">Payment Method:</td>
                  <td style="text-align: right; padding: 1px 2px; font-size: 12px;">${w.payment_method.toUpperCase()}</td>
                </tr>
                ${parseFloat(w.cash_amount?.toString()||"0")>0?`<tr><td style="text-align: left; padding: 1px 2px; font-size: 12px;">Cash:</td><td style="text-align: right; padding: 1px 2px; font-size: 12px;">Rs. ${parseFloat(w.cash_amount?.toString()||"0").toFixed(2)}</td></tr>`:""}
                ${parseFloat(w.card_amount?.toString()||"0")>0?`<tr><td style="text-align: left; padding: 1px 2px; font-size: 12px;">Card:</td><td style="text-align: right; padding: 1px 2px; font-size: 12px;">Rs. ${parseFloat(w.card_amount?.toString()||"0").toFixed(2)}</td></tr>`:""}
                <tr><td style="text-align: left; padding: 1px 2px; font-size: 12px;">Change:</td><td style="text-align: right; padding: 1px 2px; font-size: 12px;">Rs. ${(parseFloat(w.cash_amount?.toString()||"0")+parseFloat(w.card_amount?.toString()||"0")-(parseFloat(w.total_amount.toString())-parseFloat(w.discount_amount.toString()))).toFixed(2)}</td></tr>
              </table>
            </div>
            
            <div style="margin-top: 3px; text-align: center;">
              <p style="font-size: 12px; margin: 2px 0;">Thank you for your purchase!</p>
            </div>
          </div>
        </div>
        <script>
          window.onload = function() {
            window.print();
            window.close();
          };
        <\/script>
      </body>
      </html>
    `;q.document.write(oe),q.document.close()},ce=()=>{H(!1),Q(null)};return m?l.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx("div",{className:"mb-8",children:l.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:[l.jsx("i",{className:"fas fa-chart-bar mr-3"}),"Sales Reports"]})}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8",children:[l.jsx("div",{className:"h-6 bg-gray-100 dark:bg-gray-700 rounded animate-pulse w-32 mb-4"}),l.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[l.jsx("div",{className:"h-10 w-32 bg-gray-100 dark:bg-gray-700 rounded animate-pulse"}),l.jsx("div",{className:"h-10 w-32 bg-gray-100 dark:bg-gray-700 rounded animate-pulse"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsx(al,{}),l.jsx(al,{}),l.jsx(al,{}),l.jsx(al,{})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:l.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Sales Details"})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Cashier"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Items"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Total Amount"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Discount"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Final Amount"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Payment Method"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:[...Array(8)].map((q,F)=>l.jsx(Sd,{},F))})]})})]})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx("div",{className:"mb-8",children:l.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:[l.jsx("i",{className:"fas fa-chart-bar mr-3"}),"Sales Reports"]})}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Filter Reports"}),l.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Quick Filter"}),l.jsxs("select",{value:b,onChange:q=>ee(q.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[l.jsx("option",{value:"today",children:"Today"}),l.jsx("option",{value:"yesterday",children:"Yesterday"}),l.jsx("option",{value:"week",children:"Last 7 Days"}),l.jsx("option",{value:"month",children:"Last 30 Days"}),l.jsx("option",{value:"custom",children:"Custom Range"})]})]}),b==="custom"&&l.jsxs("div",{className:"flex gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Start Date"}),l.jsx("input",{type:"date",value:A,onChange:q=>j(q.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"End Date"}),l.jsx("input",{type:"date",value:z,onChange:q=>_(q.target.value),className:"border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),l.jsx("div",{children:l.jsx("button",{onClick:J,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:"Apply Filter"})})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border-l-4 border-blue-500",children:l.jsxs("div",{className:"flex items-center",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-blue-600 uppercase tracking-wide",children:"Total Sales"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:c.total_sales})]}),l.jsx("div",{className:"text-blue-500",children:l.jsx("i",{className:"fas fa-shopping-cart text-3xl"})})]})}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border-l-4 border-green-500",children:l.jsxs("div",{className:"flex items-center",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-green-600 uppercase tracking-wide",children:"Total Revenue"}),l.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:["Rs. ",c.total_amount.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),l.jsx("div",{className:"text-green-500",children:l.jsx("i",{className:"fas fa-money-bill-wave text-3xl"})})]})}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border-l-4 border-indigo-500",children:l.jsxs("div",{className:"flex items-center",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-indigo-600 uppercase tracking-wide",children:"Items Sold"}),l.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:c.total_items})]}),l.jsx("div",{className:"text-indigo-500",children:l.jsx("i",{className:"fas fa-box text-3xl"})})]})}),l.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 border-l-4 border-yellow-500",children:l.jsxs("div",{className:"flex items-center",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium text-yellow-600 uppercase tracking-wide",children:"Avg Sale"}),l.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:["Rs. ",c.avg_sale.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),l.jsx("div",{className:"text-yellow-500",children:l.jsx("i",{className:"fas fa-chart-line text-3xl"})})]})})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:l.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Sales Details"})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date & Time"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Sale ID"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Cashier"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Items"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Subtotal"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Discount"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Final Amount"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Payment Method"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:d.length>0?d.map(q=>l.jsxs("tr",{children:[l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:[new Date(q.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})," ",new Date(q.date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:["#",q.id]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:q.cashier_name}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:q.items_count}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:["Rs. ",q.total_amount.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:["Rs. ",q.discount_amount.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:["Rs. ",q.final_amount.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:q.payment_method.toUpperCase()}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:l.jsxs("button",{onClick:()=>te(q.id),className:"text-blue-600 hover:text-blue-900 font-medium",children:[l.jsx("i",{className:"fas fa-file-invoice mr-1"}),"View Invoice"]})})]},q.id)):l.jsx("tr",{children:l.jsx("td",{colSpan:9,className:"px-6 py-4 text-center text-gray-500 dark:text-gray-400",children:"No sales found for the selected period."})})})]})})]})]}),Z&&w&&l.jsx("div",{className:"fixed inset-0 bg-gray-900/60 overflow-y-auto h-full w-full modal-overlay",onClick:q=>{q.target===q.currentTarget&&ce()},children:l.jsx("div",{className:"relative top-5 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white dark:bg-gray-800 dark:text-gray-100 modal-panel",onClick:q=>q.stopPropagation(),children:l.jsxs("div",{className:"mt-3",children:[l.jsxs("div",{className:"text-center",style:{fontSize:"14px",lineHeight:"1.3",width:"100%",margin:0,padding:"0 3mm"},children:[l.jsxs("div",{style:{marginBottom:"3px"},children:[l.jsx("h2",{style:{fontSize:"18px",margin:0},children:"INVOICE"}),l.jsxs("p",{style:{fontSize:"12px",margin:"2px 0"},children:["Sale #",w.id]}),l.jsxs("p",{style:{fontSize:"12px",margin:"2px 0"},children:[new Date(w.date).toLocaleDateString()," ",new Date(w.date).toLocaleTimeString()]})]}),l.jsx("div",{style:{marginBottom:"3px"},children:l.jsxs("table",{style:{width:"100%",fontSize:"12px",margin:"2px 0",tableLayout:"fixed"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #ccc"},children:[l.jsx("th",{style:{padding:"2px",fontSize:"12px",width:"45%"},children:"Item"}),l.jsx("th",{style:{padding:"2px",fontSize:"12px",width:"15%"},children:"Qty"}),l.jsx("th",{style:{padding:"2px",fontSize:"12px",width:"20%"},children:"Price"}),l.jsx("th",{style:{padding:"2px",fontSize:"12px",width:"20%"},children:"Total"})]})}),l.jsx("tbody",{children:w.items.map((q,F)=>{const oe=parseFloat(q.price.toString()),$=parseInt(q.quantity.toString()),Ne=parseFloat(q.tax_rate.toString())||0,V=oe*$,le=Ne>0?V/(1+Ne/100):V,Le=V-le,it=q.product_name??q.name??"";return l.jsxs(Dt.Fragment,{children:[l.jsxs("tr",{children:[l.jsx("td",{style:{padding:"2px",fontSize:"12px",textAlign:"left"},children:it}),l.jsx("td",{style:{padding:"2px",fontSize:"12px",textAlign:"center"},children:q.quantity}),l.jsx("td",{style:{padding:"2px",fontSize:"12px",textAlign:"right"},children:oe.toFixed(2)}),l.jsx("td",{style:{padding:"2px",fontSize:"12px",textAlign:"right"},children:V.toFixed(2)})]}),l.jsx("tr",{children:l.jsxs("td",{colSpan:4,style:{padding:"1px 2px",fontSize:"10px",color:"#666",textAlign:"right"},children:["Tax: Rs. ",Le.toFixed(2)," (",Ne,"%)"]})}),l.jsx("tr",{style:{height:"2px"},children:l.jsx("td",{colSpan:4,style:{borderBottom:"1px solid #ddd",padding:0}})})]},F)})})]})}),l.jsx("div",{style:{marginTop:"3px",borderTop:"1px solid #ccc"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsxs("tr",{children:[l.jsx("td",{style:{textAlign:"left",padding:"1px 2px",fontSize:"12px"},children:"Subtotal:"}),l.jsxs("td",{style:{textAlign:"right",padding:"1px 2px",fontSize:"12px"},children:["Rs. ",parseFloat(w.subtotal_amount?.toString()||w.total_amount.toString()).toFixed(2)]})]}),l.jsxs("tr",{children:[l.jsx("td",{style:{textAlign:"left",padding:"1px 2px",fontSize:"12px"},children:"Tax:"}),l.jsxs("td",{style:{textAlign:"right",padding:"1px 2px",fontSize:"12px"},children:["Rs. ",parseFloat(w.tax_amount?.toString()||"0").toFixed(2)]})]}),l.jsxs("tr",{children:[l.jsx("td",{style:{textAlign:"left",padding:"1px 2px",fontSize:"12px"},children:"Discount:"}),l.jsxs("td",{style:{textAlign:"right",padding:"1px 2px",fontSize:"12px"},children:["-Rs. ",parseFloat(w.discount_amount.toString()).toFixed(2)]})]}),l.jsxs("tr",{children:[l.jsx("td",{style:{textAlign:"left",padding:"1px 2px",fontSize:"14px",fontWeight:"bold"},children:"Total:"}),l.jsxs("td",{style:{textAlign:"right",padding:"1px 2px",fontSize:"14px",fontWeight:"bold"},children:["Rs. ",(parseFloat(w.total_amount.toString())-parseFloat(w.discount_amount.toString())).toFixed(2)]})]})]})}),l.jsx("div",{style:{marginTop:"3px",borderTop:"1px solid #ccc"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsxs("tr",{children:[l.jsx("td",{style:{textAlign:"left",padding:"1px 2px",fontSize:"12px"},children:"Payment Method:"}),l.jsx("td",{style:{textAlign:"right",padding:"1px 2px",fontSize:"12px"},children:w.payment_method.toUpperCase()})]}),parseFloat(w.cash_amount?.toString()||"0")>0&&l.jsxs("tr",{children:[l.jsx("td",{style:{textAlign:"left",padding:"1px 2px",fontSize:"12px"},children:"Cash:"}),l.jsxs("td",{style:{textAlign:"right",padding:"1px 2px",fontSize:"12px"},children:["Rs. ",parseFloat(w.cash_amount?.toString()||"0").toFixed(2)]})]}),parseFloat(w.card_amount?.toString()||"0")>0&&l.jsxs("tr",{children:[l.jsx("td",{style:{textAlign:"left",padding:"1px 2px",fontSize:"12px"},children:"Card:"}),l.jsxs("td",{style:{textAlign:"right",padding:"1px 2px",fontSize:"12px"},children:["Rs. ",parseFloat(w.card_amount?.toString()||"0").toFixed(2)]})]}),l.jsxs("tr",{children:[l.jsx("td",{style:{textAlign:"left",padding:"1px 2px",fontSize:"12px"},children:"Change:"}),l.jsxs("td",{style:{textAlign:"right",padding:"1px 2px",fontSize:"12px"},children:["Rs. ",(parseFloat(w.cash_amount?.toString()||"0")+parseFloat(w.card_amount?.toString()||"0")-(parseFloat(w.total_amount.toString())-parseFloat(w.discount_amount.toString()))).toFixed(2)]})]})]})}),l.jsx("div",{style:{marginTop:"3px",textAlign:"center"},children:l.jsx("p",{style:{fontSize:"12px",margin:"2px 0"},children:"Thank you for your purchase!"})})]}),l.jsxs("div",{className:"flex justify-center space-x-4 mt-6",children:[l.jsxs("button",{onClick:ue,className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:[l.jsx("i",{className:"fas fa-print mr-2"}),"Print Invoice"]}),l.jsxs("button",{onClick:ce,className:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded",children:[l.jsx("i",{className:"fas fa-times mr-2"}),"Close"]})]})]})})})]})},gy=()=>{const{isAuthenticated:i,loading:c}=Ta(),[u,d]=C.useState([]),[x,m]=C.useState({}),[y,b]=C.useState(!0),[k,A]=C.useState(null),[j,z]=C.useState(!1),[_,Z]=C.useState(null),[H,w]=C.useState(!1),[Q,J]=C.useState({});C.useEffect(()=>{!c&&i&&ee()},[c,i]);const ee=async q=>{try{b(!0);const F=q?`?sale_id=${q}`:"",oe=await pe.get(`list_returns.php${F}`);oe.data.success&&(d(oe.data.sales||[]),m(oe.data.receipts||{}))}catch(F){console.error("Error fetching returns:",F)}finally{b(!1)}},te=q=>{J(F=>({...F,[q]:!F[q]}))},ue=async q=>{try{w(!0);const F=await pe.get(`return_receipt.php?id=${q}`);F.data.success&&(Z({...F.data.receipt,sale_id:F.data.sale_id,receipt_id:q}),z(!0))}catch(F){console.error("Error fetching receipt:",F)}finally{w(!1)}},ce=()=>{if(!_)return;const q=window.open("","_blank","width=400,height=600,scrollbars=yes,resizable=yes");if(!q){alert("Popup blocked! Please allow popups for this site and try again.");return}const F=`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Return Receipt</title>
        <style>
          body { 
            font-family: Arial, sans-serif; 
            margin: 0; 
            padding: 2mm; 
            font-size: 11px; 
            line-height: 1.2; 
            width: 76mm; 
            overflow-x: hidden; 
          }
          table { 
            width: 100%; 
            border-collapse: collapse; 
            font-size: 10px; 
            table-layout: fixed; 
          }
          th, td { 
            padding: 1px; 
            text-align: left; 
            word-wrap: break-word; 
          }
          th:nth-child(1), td:nth-child(1) { width: 40%; }
          th:nth-child(2), td:nth-child(2) { width: 15%; text-align: center; }
          th:nth-child(3), td:nth-child(3) { width: 22%; text-align: right; white-space: nowrap; }
          th:nth-child(4), td:nth-child(4) { width: 23%; text-align: right; white-space: nowrap; }
          .text-center { text-align: center; }
          .text-right { text-align: right; }
          .border-t { border-top: 1px solid #ccc; }
          .font-bold { font-weight: bold; }
          @media print { 
            body { margin: 0; padding: 2mm; width: 76mm; } 
            @page { margin: 0; size: 80mm auto; } 
          }
        </style>
      </head>
      <body>
        <div style="font-size: 14px; line-height: 1.3; width: 100%; margin: 0; padding: 0 3mm;">
          <div style="margin-bottom: 3px; text-align: center;">
            <h2 style="font-size: 18px; margin: 0; font-weight: bold;">RETURN RECEIPT</h2>
            <p style="font-size: 12px; margin: 2px 0;">Return #${_.receipt_id||"N/A"}</p>
            <p style="font-size: 12px; margin: 2px 0;">Original Sale #${_.sale_id||"N/A"}</p>
            <p style="font-size: 12px; margin: 2px 0;">${new Date().toLocaleDateString()} ${new Date().toLocaleTimeString()}</p>
          </div>
          
          <div style="margin-bottom: 3px;">
            <table>
              <thead>
                <tr style="border-bottom: 1px solid #ccc;">
                  <th style="padding: 2px; font-size: 12px; width: 40%;">Item</th>
                  <th style="padding: 2px; font-size: 12px; width: 15%; text-align: center;">Qty</th>
                  <th style="padding: 2px; font-size: 12px; width: 22%; text-align: right;">Price</th>
                  <th style="padding: 2px; font-size: 12px; width: 23%; text-align: right;">Refund</th>
                </tr>
              </thead>
              <tbody>
                ${_.items?_.items.map(oe=>`
                  <tr>
                    <td style="padding: 2px; font-size: 12px;">${oe.product_name||oe.name||"Unknown"}</td>
                    <td style="padding: 2px; font-size: 12px; text-align: center;">${oe.return_qty||oe.quantity||0}</td>
                    <td style="padding: 2px; font-size: 12px; text-align: right;">Rs. ${(oe.price||0).toFixed(2)}</td>
                    <td style="padding: 2px; font-size: 12px; text-align: right;">Rs. ${(oe.refund_amount||0).toFixed(2)}</td>
                  </tr>
                  <tr>
                    <td colspan="4" style="padding: 1px 2px; font-size: 10px; color: #666; text-align: right;">
                      Reason: ${oe.reason||"N/A"}
                    </td>
                  </tr>
                  <tr style="height: 2px;">
                    <td colspan="4" style="border-bottom: 1px solid #ddd; padding: 0;"></td>
                  </tr>
                `).join(""):""}
              </tbody>
            </table>
          </div>
          
          <div style="margin-top: 3px; border-top: 1px solid #ccc;">
            <table style="width: 100%; border-collapse: collapse;">
              <tr>
                <td style="text-align: left; padding: 1px 2px; font-size: 12px;">Total Refund:</td>
                <td style="text-align: right; padding: 1px 2px; font-size: 14px; font-weight: bold;">
                  Rs. ${(_.total_refund||0).toFixed(2)}
                </td>
              </tr>
              ${_.cash_refund>0?`
                <tr>
                  <td style="text-align: left; padding: 1px 2px; font-size: 12px;">Cash Refund:</td>
                  <td style="text-align: right; padding: 1px 2px; font-size: 12px;">
                    Rs. ${_.cash_refund.toFixed(2)}
                  </td>
                </tr>
              `:""}
              ${_.card_refund>0?`
                <tr>
                  <td style="text-align: left; padding: 1px 2px; font-size: 12px;">Card Refund:</td>
                  <td style="text-align: right; padding: 1px 2px; font-size: 12px;">
                    Rs. ${_.card_refund.toFixed(2)}
                  </td>
                </tr>
              `:""}
            </table>
          </div>
          
          <div style="margin-top: 5px; text-align: center; font-size: 10px; color: #666;">
            <p>Thank you for your business!</p>
            <p>Return processed on ${new Date().toLocaleDateString()}</p>
          </div>
        </div>
      </body>
      </html>
    `;q.document.write(F),q.document.close(),q.focus(),q.print(),q.close()};return y?l.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx("div",{className:"mb-8",children:l.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:[l.jsx("i",{className:"fas fa-undo mr-3"}),"Returns Management"]})}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:l.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Returns List"})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Sale ID"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Total Refund"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Items"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:[...Array(8)].map((q,F)=>l.jsx(Sd,{},F))})]})})]})]})}):l.jsxs("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:[l.jsxs("div",{className:"container mx-auto px-4 py-8",children:[l.jsx("div",{className:"mb-8",children:l.jsxs("h1",{className:"text-3xl font-bold text-gray-900 dark:text-gray-100",children:[l.jsx("i",{className:"fas fa-undo mr-3"}),"Returns Management"]})}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-6 mb-8",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Filter Returns"}),l.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Sale ID Filter"}),l.jsx("input",{type:"number",placeholder:"Enter Sale ID to filter",value:k||"",onChange:q=>A(q.target.value?Number(q.target.value):null),className:"border border-gray-300 dark:border-gray-600 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>ee(k||void 0),className:"bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",children:[l.jsx("i",{className:"fas fa-search mr-2"}),"Filter"]}),l.jsxs("button",{onClick:()=>{A(null),ee()},className:"bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded",children:[l.jsx("i",{className:"fas fa-times mr-2"}),"Clear"]})]})]})]}),l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md",children:[l.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-gray-700",children:l.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Returns by Sale"})}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[l.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900",children:l.jsxs("tr",{children:[l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Sale ID"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Total Refund"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Items"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Date"}),l.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),l.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:u.length>0?u.map(q=>l.jsxs(Dt.Fragment,{children:[l.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 dark:text-gray-100",children:q.sale_id}),l.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:["Rs. ",q.total_refund.toFixed(2)]}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:l.jsxs("button",{onClick:()=>te(q.sale_id),className:"text-blue-600 hover:text-blue-900 flex items-center",children:[l.jsx("i",{className:`fas fa-chevron-${Q[q.sale_id]?"up":"down"} mr-2`}),q.items.length," item",q.items.length!==1?"s":""]})}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-gray-100",children:new Date(q.created_at).toLocaleDateString()}),l.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:x[q.sale_id]&&l.jsxs("button",{onClick:()=>ue(x[q.sale_id]),className:"text-blue-600 hover:text-blue-900 mr-3",disabled:H,children:[l.jsx("i",{className:"fas fa-print mr-1"}),"Receipt"]})})]}),Q[q.sale_id]&&l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"px-6 py-0",children:l.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-4",children:[l.jsx("h4",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-3",children:"Returned Items:"}),l.jsx("div",{className:"space-y-2",children:q.items.map(F=>l.jsxs("div",{className:"flex justify-between items-center p-3 bg-white dark:bg-gray-800 rounded border",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium text-gray-900 dark:text-gray-100",children:F.product_name}),l.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Qty: ",F.quantity," | Price: Rs. ",F.price.toFixed(2)," | Total: Rs. ",F.total_price.toFixed(2)]}),l.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Reason: ",F.reason]})]}),l.jsx("div",{className:"text-right",children:l.jsxs("div",{className:"font-medium text-red-600 dark:text-red-400",children:["Refund: Rs. ",F.refund_amount.toFixed(2)]})})]},F.id))})]})})})]},q.sale_id)):l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"px-6 py-4 text-center text-sm text-gray-500 dark:text-gray-400",children:"No returns found"})})})]})})]})]}),j&&_&&l.jsx("div",{className:"fixed inset-0 bg-gray-900/60 overflow-y-auto h-full w-full modal-overlay",onClick:q=>{q.target===q.currentTarget&&z(!1)},children:l.jsxs("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white dark:bg-gray-800 dark:text-gray-100 modal-panel",onClick:q=>q.stopPropagation(),children:[l.jsxs("div",{className:"text-left",style:{fontSize:"14px",lineHeight:"1.3",width:"100%",margin:0,padding:"0 3mm"},children:[l.jsxs("div",{className:"text-center mb-1",style:{marginBottom:"3px"},children:[l.jsx("h2",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",style:{fontSize:"18px",margin:0},children:"RETURN RECEIPT"}),l.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",style:{fontSize:"12px",margin:"2px 0"},children:["Return #$",_.receipt_id||"N/A"]}),l.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",style:{fontSize:"12px",margin:"2px 0"},children:["Original Sale #$",_.sale_id||"N/A"]}),l.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400",style:{fontSize:"12px",margin:"2px 0"},children:[new Date().toLocaleDateString()," ",new Date().toLocaleTimeString()]})]}),l.jsx("div",{className:"mb-1",style:{marginBottom:"3px"},children:l.jsxs("table",{className:"w-full text-xs",style:{fontSize:"12px",margin:"2px 0",tableLayout:"fixed"},children:[l.jsx("thead",{children:l.jsxs("tr",{className:"border-b border-gray-300 dark:border-gray-600",children:[l.jsx("th",{className:"py-1 text-left text-gray-900 dark:text-gray-100",style:{padding:"2px",fontSize:"12px",width:"45%"},children:"Item"}),l.jsx("th",{className:"py-1 text-center text-gray-900 dark:text-gray-100",style:{padding:"2px",fontSize:"12px",width:"15%"},children:"Qty"}),l.jsx("th",{className:"py-1 text-right text-gray-900 dark:text-gray-100",style:{padding:"2px",fontSize:"12px",width:"20%"},children:"Price"}),l.jsx("th",{className:"py-1 text-right text-gray-900 dark:text-gray-100",style:{padding:"2px",fontSize:"12px",width:"20%"},children:"Refund"})]})}),l.jsx("tbody",{children:_.items?_.items.map((q,F)=>l.jsxs(Dt.Fragment,{children:[l.jsxs("tr",{children:[l.jsx("td",{className:"py-1 text-left text-gray-900 dark:text-gray-100",style:{padding:"2px",fontSize:"12px"},children:q.product_name||q.name||"Unknown"}),l.jsx("td",{className:"py-1 text-center text-gray-900 dark:text-gray-100",style:{padding:"2px",fontSize:"12px"},children:q.return_qty||q.quantity||0}),l.jsxs("td",{className:"py-1 text-right text-gray-900 dark:text-gray-100",style:{padding:"2px",fontSize:"12px"},children:["Rs. ",(q.price||0).toFixed(2)]}),l.jsxs("td",{className:"py-1 text-right text-gray-900 dark:text-gray-100",style:{padding:"2px",fontSize:"12px"},children:["Rs. ",(q.refund_amount||0).toFixed(2)]})]}),l.jsx("tr",{children:l.jsxs("td",{colSpan:4,className:"py-0 text-right text-gray-600 dark:text-gray-400",style:{padding:"1px 2px",fontSize:"10px"},children:["Reason: ",q.reason||"N/A"]})}),l.jsx("tr",{style:{height:"2px"},children:l.jsx("td",{colSpan:4,style:{borderBottom:"1px solid #ddd",padding:0}})})]},F)):null})]})}),l.jsx("div",{className:"mt-1",style:{marginTop:"3px",borderTop:"1px solid #ccc"},children:l.jsxs("table",{className:"w-full",style:{width:"100%",borderCollapse:"collapse"},children:[l.jsxs("tr",{children:[l.jsx("td",{className:"text-left py-1 px-2 text-gray-900 dark:text-gray-100",style:{textAlign:"left",padding:"1px 2px",fontSize:"12px"},children:"Total Refund:"}),l.jsxs("td",{className:"text-right py-1 px-2 font-bold text-gray-900 dark:text-gray-100",style:{textAlign:"right",padding:"1px 2px",fontSize:"14px",fontWeight:"bold"},children:["Rs. ",(_.total_refund||0).toFixed(2)]})]}),_.cash_refund>0&&l.jsxs("tr",{children:[l.jsx("td",{className:"text-left py-1 px-2 text-gray-900 dark:text-gray-100",style:{textAlign:"left",padding:"1px 2px",fontSize:"12px"},children:"Cash Refund:"}),l.jsxs("td",{className:"text-right py-1 px-2 text-gray-900 dark:text-gray-100",style:{textAlign:"right",padding:"1px 2px",fontSize:"12px"},children:["Rs. ",_.cash_refund.toFixed(2)]})]}),_.card_refund>0&&l.jsxs("tr",{children:[l.jsx("td",{className:"text-left py-1 px-2 text-gray-900 dark:text-gray-100",style:{textAlign:"left",padding:"1px 2px",fontSize:"12px"},children:"Card Refund:"}),l.jsxs("td",{className:"text-right py-1 px-2 text-gray-900 dark:text-gray-100",style:{textAlign:"right",padding:"1px 2px",fontSize:"12px"},children:["Rs. ",_.card_refund.toFixed(2)]})]})]})}),l.jsxs("div",{className:"mt-2 text-center text-gray-600 dark:text-gray-400",style:{marginTop:"5px",textAlign:"center",fontSize:"10px",color:"#666"},children:[l.jsx("p",{children:"Thank you for your business!"}),l.jsxs("p",{children:["Return processed on ",new Date().toLocaleDateString()]})]})]}),l.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[l.jsxs("button",{className:"bg-gray-500 hover:bg-gray-700 text-white px-4 py-2 rounded",onClick:()=>z(!1),children:[l.jsx("i",{className:"fas fa-times mr-1"}),"Close"]}),l.jsxs("button",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",onClick:ce,children:[l.jsx("i",{className:"fas fa-print mr-1"}),"Print"]})]})]})})]})},kd=[{name:"Sample Item A",qty:1,price:450,taxRate:15},{name:"Sample Item B longer name",qty:2,price:150,taxRate:0}],$e=i=>`Rs. ${i.toFixed(2)}`,my=()=>{const{business:i}=Tl(),c=kd.map(z=>{const _=z.qty*z.price,Z=z.taxRate||0,H=Z>0?_/(1+Z/100):_,w=_-H;return{...z,itemTotal:_,itemSubtotal:H,itemTax:w}}),u=c.reduce((z,_)=>z+_.itemSubtotal,0),d=c.reduce((z,_)=>z+_.itemTax,0),x=c.reduce((z,_)=>z+_.itemTotal,0),b=x+0-x,k=new Date,A=k.toLocaleDateString(),j=k.toLocaleTimeString();return l.jsxs("div",{style:{backgroundColor:"#ffffff",color:"#000000",width:"76mm",padding:"2mm",fontFamily:"Arial, sans-serif",fontSize:"11px",lineHeight:1.2,border:"1px solid #e5e7eb",borderRadius:"6px"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"3px"},children:[i.logoUrl&&l.jsx("img",{src:i.logoUrl,alt:"Logo",style:{height:72,width:72,objectFit:"contain",margin:"0 auto 2px auto"}}),l.jsx("h2",{style:{fontSize:"18px",margin:0,fontWeight:700},children:"INVOICE"}),l.jsx("p",{style:{fontSize:"12px",margin:"2px 0"},children:"Sale #123"}),l.jsxs("p",{style:{fontSize:"12px",margin:"2px 0"},children:[A," ",j]})]}),l.jsxs("div",{style:{textAlign:"center",marginBottom:"3px"},children:[l.jsx("div",{style:{fontWeight:700},children:i.name}),l.jsx("div",{style:{fontSize:"10px",color:"#6b7280"},children:i.address}),l.jsx("div",{style:{fontSize:"10px",color:"#6b7280"},children:i.phone})]}),l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"10px",tableLayout:"fixed"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{borderBottom:"1px solid #cccccc"},children:[l.jsx("th",{style:{padding:"2px",width:"45%",textAlign:"left"},children:"Item"}),l.jsx("th",{style:{padding:"2px",width:"15%",textAlign:"center"},children:"Qty"}),l.jsx("th",{style:{padding:"2px",width:"20%",textAlign:"right"},children:"Price"}),l.jsx("th",{style:{padding:"2px",width:"20%",textAlign:"right"},children:"Total"})]})}),l.jsx("tbody",{children:c.map((z,_)=>l.jsxs(Dt.Fragment,{children:[l.jsxs("tr",{children:[l.jsx("td",{style:{padding:"2px",textAlign:"left"},children:z.name}),l.jsx("td",{style:{padding:"2px",textAlign:"center"},children:z.qty}),l.jsx("td",{style:{padding:"2px",textAlign:"right"},children:$e(z.price)}),l.jsx("td",{style:{padding:"2px",textAlign:"right"},children:$e(z.itemTotal)})]}),l.jsx("tr",{children:l.jsxs("td",{colSpan:4,style:{padding:"1px 2px",fontSize:"10px",color:"#666666",textAlign:"right"},children:["Tax: ",$e(z.itemTax)," (",z.taxRate||0,"%)"]})}),l.jsx("tr",{style:{height:"2px"},children:l.jsx("td",{colSpan:4,style:{borderBottom:"1px solid #dddddd",padding:0}})})]},_))})]}),l.jsx("div",{style:{marginTop:"3px",borderTop:"1px solid #cccccc"},children:l.jsx("table",{style:{width:"100%",borderCollapse:"collapse"},children:l.jsxs("tbody",{children:[l.jsxs("tr",{children:[l.jsx("td",{style:{textAlign:"left",padding:"1px 2px"},children:"Subtotal:"}),l.jsx("td",{style:{textAlign:"right",padding:"1px 2px"},children:$e(u)})]}),l.jsxs("tr",{children:[l.jsx("td",{style:{textAlign:"left",padding:"1px 2px"},children:"Tax:"}),l.jsx("td",{style:{textAlign:"right",padding:"1px 2px"},children:$e(d)})]}),l.jsxs("tr",{children:[l.jsx("td",{style:{textAlign:"left",padding:"1px 2px",fontWeight:700},children:"Total:"}),l.jsx("td",{style:{textAlign:"right",padding:"1px 2px",fontWeight:700},children:$e(x)})]}),l.jsxs("tr",{children:[l.jsx("td",{style:{textAlign:"left",padding:"1px 2px"},children:"Change:"}),l.jsx("td",{style:{textAlign:"right",padding:"1px 2px"},children:$e(b)})]})]})})}),l.jsx("div",{style:{marginTop:"3px",textAlign:"center"},children:l.jsx("p",{style:{fontSize:"12px",margin:"2px 0",color:"#6b7280"},children:"Thank you for your purchase!"})})]})},hy=()=>{const{business:i}=Tl(),c=kd.map(_=>{const Z=_.qty*_.price,H=_.taxRate||0,w=H>0?Z/(1+H/100):Z,Q=Z-w;return{..._,itemTotal:Z,itemSubtotal:w,itemTax:Q}}),u=c.reduce((_,Z)=>_+Z.itemSubtotal,0),d=c.reduce((_,Z)=>_+Z.itemTax,0),x=0,m=c.reduce((_,Z)=>_+Z.itemTotal,0)-x,k=m+0-m,A=new Date,j=A.toLocaleDateString(),z=A.toLocaleTimeString();return l.jsxs("div",{className:"w-[520px] border border-gray-200 rounded p-4 text-sm",style:{backgroundColor:"#ffffff",color:"#000000"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"8px"},children:[l.jsx("h2",{style:{fontSize:"18px",margin:0,fontWeight:700},children:"INVOICE"}),l.jsx("p",{style:{fontSize:"12px",margin:"2px 0"},children:"Sale #123"}),l.jsxs("p",{style:{fontSize:"12px",margin:"2px 0"},children:[j," ",z]})]}),l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-xl font-bold",style:{color:"#111827"},children:i.name}),l.jsx("div",{className:"text-xs",style:{color:"#6b7280"},children:i.address}),l.jsx("div",{className:"text-xs",style:{color:"#6b7280"},children:i.phone})]}),i.logoUrl&&l.jsx("img",{src:i.logoUrl,alt:"Logo",className:"h-24 w-24 object-contain"})]}),l.jsxs("table",{className:"w-full text-xs mb-3",children:[l.jsx("thead",{className:"bg-gray-200",children:l.jsxs("tr",{children:[l.jsx("th",{className:"text-left p-1",children:"Item"}),l.jsx("th",{className:"text-center p-1",children:"Qty"}),l.jsx("th",{className:"text-right p-1",children:"Price"}),l.jsx("th",{className:"text-right p-1",children:"Total"})]})}),l.jsx("tbody",{children:c.map((_,Z)=>l.jsxs(Dt.Fragment,{children:[l.jsxs("tr",{className:"border-b border-gray-100",children:[l.jsx("td",{className:"p-1",children:_.name}),l.jsx("td",{className:"p-1 text-center",children:_.qty}),l.jsx("td",{className:"p-1 text-right",children:$e(_.price)}),l.jsx("td",{className:"p-1 text-right",children:$e(_.itemTotal)})]}),l.jsx("tr",{children:l.jsxs("td",{colSpan:4,className:"text-right",style:{padding:"1px 4px",fontSize:"10px",color:"#666666"},children:["Tax: ",$e(_.itemTax)," (",_.taxRate||0,"%)"]})})]},Z))})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[l.jsx("div",{}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Subtotal"}),l.jsx("span",{children:$e(u)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Tax (15%)"}),l.jsx("span",{children:$e(d)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Discount"}),l.jsxs("span",{children:["-",$e(x)]})]}),l.jsxs("div",{className:"flex justify-between font-semibold",children:[l.jsx("span",{children:"Total"}),l.jsx("span",{children:$e(m)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Change"}),l.jsx("span",{children:$e(k)})]})]})]}),l.jsx("div",{style:{marginTop:"6px",textAlign:"center"},children:l.jsx("p",{style:{fontSize:"12px",margin:0,color:"#6b7280"},children:"Thank you for your purchase!"})})]})},yy=()=>{const i=kd.map(b=>{const k=b.qty*b.price,A=b.taxRate||0,j=A>0?k/(1+A/100):k,z=k-j;return{...b,itemTotal:k,itemSubtotal:j,itemTax:z}}),c=i.reduce((b,k)=>b+k.itemSubtotal,0),u=i.reduce((b,k)=>b+k.itemTax,0),d=i.reduce((b,k)=>b+k.itemTotal,0),y=d+0-d;return l.jsxs("div",{className:"w-[320px] border border-gray-200 rounded p-3 text-sm",style:{backgroundColor:"#ffffff",color:"#000000"},children:[l.jsx("div",{className:"font-bold text-center mb-2",children:"Invoice"}),i.map((b,k)=>l.jsxs("div",{className:"text-xs",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsxs("span",{className:"truncate",children:[b.name," x ",b.qty]}),l.jsx("span",{children:$e(b.itemTotal)})]}),l.jsxs("div",{className:"text-right",style:{fontSize:"10px",color:"#666666"},children:["Tax: ",$e(b.itemTax)," (",b.taxRate||0,"%)"]})]},k)),l.jsx("div",{className:"border-t border-gray-200 my-2"}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Subtotal"}),l.jsx("span",{children:$e(c)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Tax"}),l.jsx("span",{children:$e(u)})]}),l.jsxs("div",{className:"flex justify-between font-semibold",children:[l.jsx("span",{children:"Total"}),l.jsx("span",{children:$e(d)})]}),l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:"Change"}),l.jsx("span",{children:$e(y)})]})]})},py=()=>{const{receiptTemplate:i}=Tl();return i==="detailed"?l.jsx(hy,{}):i==="simple"?l.jsx(yy,{}):l.jsx(my,{})};function by(){const[i,c]=Dt.useState(""),[u,d]=Dt.useState(""),[x,m]=Dt.useState(""),[y,b]=Dt.useState(""),[k,A]=Dt.useState(!1),[j,z]=Dt.useState(null);Dt.useEffect(()=>{let Z=!0;return(async()=>{try{const w=(await Me.get("/api/shop_content.php")).data?.content||{};if(!Z)return;c(w.hero_title||""),d(w.hero_subtitle||""),m(w.promo_text||""),b(w.featured_product_ids||"")}catch{}})(),()=>{Z=!1}},[]);const _=async()=>{A(!0),z(null);try{await Me.post("/api/shop_content.php",{hero_title:i,hero_subtitle:u,promo_text:x,featured_product_ids:y}),z("Shop content saved")}catch(Z){z(Z?.response?.data?.error||"Failed to save")}finally{A(!1),setTimeout(()=>z(null),2e3)}};return l.jsxs("div",{className:"space-y-4",children:[j&&l.jsx("div",{className:"text-sm text-green-700 bg-green-50 border border-green-200 rounded px-3 py-2",children:j}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hero Title"}),l.jsx("input",{value:i,onChange:Z=>c(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hero Subtitle"}),l.jsx("input",{value:u,onChange:Z=>d(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Promo Text (top bar)"}),l.jsx("input",{value:x,onChange:Z=>m(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Featured Product IDs (comma-separated)"}),l.jsx("input",{value:y,onChange:Z=>b(Z.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700"})]}),l.jsx("div",{className:"pt-2",children:l.jsx("button",{onClick:_,disabled:k,className:"px-3 py-2 rounded bg-blue-600 text-white text-sm disabled:opacity-60",children:k?"Saving...":"Save"})})]})}const vy=()=>{const{receiptTemplate:i,setReceiptTemplate:c,business:u,updateBusiness:d}=Tl(),[x,m]=C.useState("receipt"),[y,b]=C.useState(!1),[k,A]=C.useState(null),j=C.useRef(null),z=async()=>{b(!0),A(null);try{await Me.post("/api/settings.php",{business_name:u.name,business_address:u.address,business_phone:u.phone,logo_url:u.logoUrl,receipt_template:i}),A("Settings saved")}catch(H){A(H?.response?.data?.error||"Failed to save")}finally{b(!1),setTimeout(()=>A(null),2e3)}},_=()=>j.current?.click(),Z=async H=>{const w=H.target.files?.[0];if(!w)return;const Q=new FormData;Q.append("file",w),b(!0),A(null);try{const J=await Me.post("/api/upload_logo.php",Q,{headers:{"Content-Type":"multipart/form-data"}});J.data?.url&&(d({logoUrl:J.data.url}),await Me.post("/api/settings.php",{business_name:u.name,business_address:u.address,business_phone:u.phone,logo_url:J.data.url,receipt_template:i}),A("Logo uploaded"))}catch(J){A(J?.response?.data?.error||"Upload failed")}finally{b(!1),j.current&&(j.current.value=""),setTimeout(()=>A(null),2e3)}};return l.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:l.jsxs("div",{className:"container mx-auto px-4 py-8 relative",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Settings"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:_,className:"px-3 py-2 rounded bg-white dark:bg-gray-800 border text-sm",children:"Upload Logo"}),l.jsx("button",{onClick:z,disabled:y,className:"px-3 py-2 rounded bg-blue-600 text-white text-sm disabled:opacity-60",children:y?"Saving...":"Save"})]})]}),k&&l.jsx("div",{className:"mb-4 text-sm text-green-700 bg-green-50 border border-green-200 rounded px-3 py-2",children:k}),l.jsx("input",{ref:j,type:"file",accept:"image/*",className:"hidden",onChange:Z}),l.jsxs("div",{className:"flex",children:[l.jsx("div",{className:"w-56 mr-6 sticky top-4 self-start",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800/60 backdrop-blur rounded-lg shadow p-3 space-y-1",children:[l.jsx("button",{onClick:()=>m("receipt"),className:`w-full text-left px-3 py-2 rounded-md border-l-4 font-medium ${x==="receipt"?"border-blue-500 !bg-blue-100/80 !text-blue-500 dark:border-blue-600 dark:bg-blue-900/20 dark:!text-blue-600":"border-transparent text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Receipt Template"}),l.jsx("button",{onClick:()=>m("business"),className:`w-full text-left px-3 py-2 rounded-md border-l-4 font-medium ${x==="business"?"border-blue-500 !bg-blue-100/80 !text-blue-500 dark:border-blue-600 dark:bg-blue-900/20 dark:!text-blue-600":"border-transparent text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,children:"Business Info"}),l.jsx("a",{href:"#shop",className:"block w-full text-left px-3 py-2 rounded-md border-l-4 font-medium border-transparent text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700",children:"Shop"})]})}),l.jsxs("div",{className:"flex-1",children:[x==="receipt"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Receipt Template"}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"radio",name:"template",className:"accent-blue-600",checked:i==="compact",onChange:()=>c("compact")}),l.jsx("span",{children:"Compact (80mm) - current format"})]}),l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"radio",name:"template",className:"accent-blue-600",checked:i==="detailed",onChange:()=>c("detailed")}),l.jsx("span",{children:"Detailed (A4-like)"})]}),l.jsxs("label",{className:"flex items-center space-x-2",children:[l.jsx("input",{type:"radio",name:"template",className:"accent-blue-600",checked:i==="simple",onChange:()=>c("simple")}),l.jsx("span",{children:"Simple (minimal)"})]})]})]}),l.jsx("div",{className:"mt-6",children:l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[l.jsx("h3",{className:"text-md font-semibold mb-4",children:"Preview"}),l.jsx("div",{className:"flex justify-center",children:l.jsx(py,{})})]})})]}),x==="business"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Business Information"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Name"}),l.jsx("input",{value:u.name,onChange:H=>d({name:H.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Address"}),l.jsx("input",{value:u.address,onChange:H=>d({address:H.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone"}),l.jsx("input",{value:u.phone,onChange:H=>d({phone:H.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-sm font-medium mb-1",children:"Logo URL"}),l.jsx("input",{value:u.logoUrl,onChange:H=>d({logoUrl:H.target.value}),placeholder:"https://... or /uploads/logo.png",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700"})]}),l.jsxs("div",{className:"pt-2",children:[l.jsx("button",{onClick:z,disabled:y,className:"px-3 py-2 rounded bg-blue-600 text-white text-sm disabled:opacity-60",children:y?"Saving...":"Save"}),l.jsx("button",{onClick:_,className:"ml-2 px-3 py-2 rounded bg-white dark:bg-gray-800 border text-sm",children:"Upload Logo"})]})]})]}),l.jsxs("div",{id:"shop",className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 mt-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Shop Content"}),l.jsx(by,{})]})]})]})]})]})})},jy=()=>{const[i,c]=C.useState(""),[u,d]=C.useState(""),[x,m]=C.useState(""),[y,b]=C.useState(!1),k=zf(),{login:A,isAuthenticated:j,loading:z}=Ta();if(C.useEffect(()=>{j&&!z&&k("/dashboard")},[j,z,k]),z)return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading..."})]})});const _=async Z=>{Z.preventDefault(),m(""),b(!0);try{await A(i,u)?k("/dashboard"):m("Invalid username or password")}catch(H){console.error("Login error:",H),m("Login failed. Please try again.")}finally{b(!1)}};return l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-900",children:l.jsxs("div",{className:"max-w-md w-full space-y-8",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Acumen Retail"}),l.jsx("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:"Sign in to your account"})]}),l.jsxs("form",{className:"mt-8 space-y-6",onSubmit:_,children:[l.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[l.jsxs("div",{children:[l.jsx("label",{htmlFor:"username",className:"sr-only",children:"Username"}),l.jsx("input",{id:"username",name:"username",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm bg-white dark:bg-gray-700",placeholder:"Username",value:i,onChange:Z=>c(Z.target.value)})]}),l.jsxs("div",{children:[l.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),l.jsx("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm bg-white dark:bg-gray-700",placeholder:"Password",value:u,onChange:Z=>d(Z.target.value)})]})]}),x&&l.jsx("div",{className:"text-red-600 dark:text-red-400 text-sm text-center",children:x}),l.jsx("div",{children:l.jsx("button",{type:"submit",disabled:y,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:y?"Signing in...":"Sign in"})})]})]})})},el=({children:i})=>{const{isAuthenticated:c,loading:u}=Ta();return u?l.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading..."})]})}):c?l.jsx(l.Fragment,{children:i}):l.jsx(vd,{to:"/login",replace:!0})},Ny=({children:i})=>{const{isAuthenticated:c,loading:u}=Ta();return u?l.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),l.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-400",children:"Loading..."})]})}):c?l.jsx(vd,{to:"/dashboard",replace:!0}):l.jsx(l.Fragment,{children:i})},wy=()=>{const{showHeader:i}=ka();return l.jsxs(l.Fragment,{children:[i&&l.jsx(ll,{}),l.jsx(cy,{})]})},Sy=()=>{const{showHeader:i}=ka();return l.jsxs(l.Fragment,{children:[i&&l.jsx(ll,{}),l.jsx(dy,{})]})},ky=()=>{const{showHeader:i}=ka();return l.jsxs(l.Fragment,{children:[i&&l.jsx(ll,{}),l.jsx(oy,{})]})},Ty=()=>{const{showHeader:i}=ka();return l.jsxs(l.Fragment,{children:[i&&l.jsx(ll,{}),l.jsx(uy,{})]})},Ay=()=>{const{showHeader:i}=ka();return l.jsxs(l.Fragment,{children:[i&&l.jsx(ll,{}),l.jsx(fy,{})]})},Ey=()=>{const{showHeader:i}=ka();return l.jsxs(l.Fragment,{children:[i&&l.jsx(ll,{}),l.jsx(xy,{})]})},_y=()=>{const{showHeader:i}=ka();return l.jsxs(l.Fragment,{children:[i&&l.jsx(ll,{}),l.jsx(gy,{})]})},zy=()=>l.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900",children:l.jsxs(hm,{children:[l.jsx(ra,{path:"/login",element:l.jsx(Ny,{children:l.jsx(jy,{})})}),l.jsx(ra,{path:"/dashboard",element:l.jsx(el,{children:l.jsx(Sy,{})})}),l.jsx(ra,{path:"/products",element:l.jsx(el,{children:l.jsx(ky,{})})}),l.jsx(ra,{path:"/vendors",element:l.jsx(el,{children:l.jsx(Ty,{})})}),l.jsx(ra,{path:"/purchases",element:l.jsx(el,{children:l.jsx(Ay,{})})}),l.jsx(ra,{path:"/reports",element:l.jsx(el,{children:l.jsx(Ey,{})})}),l.jsx(ra,{path:"/returns",element:l.jsx(el,{children:l.jsx(_y,{})})}),l.jsx(ra,{path:"/settings",element:l.jsx(el,{children:l.jsxs(l.Fragment,{children:[l.jsx(ll,{}),l.jsx(vy,{})]})})}),l.jsx(ra,{path:"/sales",element:l.jsx(el,{children:l.jsx(wy,{})})}),l.jsx(ra,{path:"/",element:l.jsx(vd,{to:"/dashboard",replace:!0})})]})}),Ry=()=>l.jsx(ly,{children:l.jsx(iy,{children:l.jsx(sy,{children:l.jsx(ry,{children:l.jsx(mm,{children:l.jsx(zy,{})})})})})});km.createRoot(document.getElementById("root")).render(l.jsx(C.StrictMode,{children:l.jsx(Ry,{})}));
